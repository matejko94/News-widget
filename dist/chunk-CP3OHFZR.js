import{a as mo}from"./chunk-X6XSKBAX.js";import{Ja as Mc,K as _c,Ka as Sc,La as Pc,Qa as kc,Ra as Cc,Sa as Ac,Wa as Ec,Y as vc,a as Ct,b as Bt,d as go,e as mc,o as bc,s as xc,ua as wc,xb as Dc,y as yc,yb as Rc}from"./chunk-ZK4N3I6M.js";function Ci(e){return e+.5|0}var ye=(e,i,t)=>Math.max(Math.min(e,t),i);function Pi(e){return ye(Ci(e*2.55),0,255)}function _e(e){return ye(Ci(e*255),0,255)}function oe(e){return ye(Ci(e/2.55)/100,0,1)}function Oc(e){return ye(Ci(e*100),0,100)}var Tt={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},xo=[..."0123456789ABCDEF"],Rd=e=>xo[e&15],Od=e=>xo[(e&240)>>4]+xo[e&15],An=e=>(e&240)>>4===(e&15),Td=e=>An(e.r)&&An(e.g)&&An(e.b)&&An(e.a);function Ld(e){var i=e.length,t;return e[0]==="#"&&(i===4||i===5?t={r:255&Tt[e[1]]*17,g:255&Tt[e[2]]*17,b:255&Tt[e[3]]*17,a:i===5?Tt[e[4]]*17:255}:(i===7||i===9)&&(t={r:Tt[e[1]]<<4|Tt[e[2]],g:Tt[e[3]]<<4|Tt[e[4]],b:Tt[e[5]]<<4|Tt[e[6]],a:i===9?Tt[e[7]]<<4|Tt[e[8]]:255})),t}var Id=(e,i)=>e<255?i(e):"";function zd(e){var i=Td(e)?Rd:Od;return e?"#"+i(e.r)+i(e.g)+i(e.b)+Id(e.a,i):void 0}var Bd=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function zc(e,i,t){let n=i*Math.min(t,1-t),s=(o,a=(o+e/30)%12)=>t-n*Math.max(Math.min(a-3,9-a,1),-1);return[s(0),s(8),s(4)]}function Fd(e,i,t){let n=(s,o=(s+e/60)%6)=>t-t*i*Math.max(Math.min(o,4-o,1),0);return[n(5),n(3),n(1)]}function Nd(e,i,t){let n=zc(e,1,.5),s;for(i+t>1&&(s=1/(i+t),i*=s,t*=s),s=0;s<3;s++)n[s]*=1-i-t,n[s]+=i;return n}function Vd(e,i,t,n,s){return e===s?(i-t)/n+(i<t?6:0):i===s?(t-e)/n+2:(e-i)/n+4}function yo(e){let t=e.r/255,n=e.g/255,s=e.b/255,o=Math.max(t,n,s),a=Math.min(t,n,s),r=(o+a)/2,c,l,f;return o!==a&&(f=o-a,l=r>.5?f/(2-o-a):f/(o+a),c=Vd(t,n,s,f,o),c=c*60+.5),[c|0,l||0,r]}function _o(e,i,t,n){return(Array.isArray(i)?e(i[0],i[1],i[2]):e(i,t,n)).map(_e)}function vo(e,i,t){return _o(zc,e,i,t)}function jd(e,i,t){return _o(Nd,e,i,t)}function Wd(e,i,t){return _o(Fd,e,i,t)}function Bc(e){return(e%360+360)%360}function Hd(e){let i=Bd.exec(e),t=255,n;if(!i)return;i[5]!==n&&(t=i[6]?Pi(+i[5]):_e(+i[5]));let s=Bc(+i[2]),o=+i[3]/100,a=+i[4]/100;return i[1]==="hwb"?n=jd(s,o,a):i[1]==="hsv"?n=Wd(s,o,a):n=vo(s,o,a),{r:n[0],g:n[1],b:n[2],a:t}}function $d(e,i){var t=yo(e);t[0]=Bc(t[0]+i),t=vo(t),e.r=t[0],e.g=t[1],e.b=t[2]}function Gd(e){if(!e)return;let i=yo(e),t=i[0],n=Oc(i[1]),s=Oc(i[2]);return e.a<255?`hsla(${t}, ${n}%, ${s}%, ${oe(e.a)})`:`hsl(${t}, ${n}%, ${s}%)`}var Tc={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},Lc={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function qd(){let e={},i=Object.keys(Lc),t=Object.keys(Tc),n,s,o,a,r;for(n=0;n<i.length;n++){for(a=r=i[n],s=0;s<t.length;s++)o=t[s],r=r.replace(o,Tc[o]);o=parseInt(Lc[a],16),e[r]=[o>>16&255,o>>8&255,o&255]}return e}var En;function Yd(e){En||(En=qd(),En.transparent=[0,0,0,0]);let i=En[e.toLowerCase()];return i&&{r:i[0],g:i[1],b:i[2],a:i.length===4?i[3]:255}}var Ud=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function Xd(e){let i=Ud.exec(e),t=255,n,s,o;if(i){if(i[7]!==n){let a=+i[7];t=i[8]?Pi(a):ye(a*255,0,255)}return n=+i[1],s=+i[3],o=+i[5],n=255&(i[2]?Pi(n):ye(n,0,255)),s=255&(i[4]?Pi(s):ye(s,0,255)),o=255&(i[6]?Pi(o):ye(o,0,255)),{r:n,g:s,b:o,a:t}}}function Kd(e){return e&&(e.a<255?`rgba(${e.r}, ${e.g}, ${e.b}, ${oe(e.a)})`:`rgb(${e.r}, ${e.g}, ${e.b})`)}var bo=e=>e<=.0031308?e*12.92:Math.pow(e,1/2.4)*1.055-.055,ii=e=>e<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4);function Zd(e,i,t){let n=ii(oe(e.r)),s=ii(oe(e.g)),o=ii(oe(e.b));return{r:_e(bo(n+t*(ii(oe(i.r))-n))),g:_e(bo(s+t*(ii(oe(i.g))-s))),b:_e(bo(o+t*(ii(oe(i.b))-o))),a:e.a+t*(i.a-e.a)}}function Dn(e,i,t){if(e){let n=yo(e);n[i]=Math.max(0,Math.min(n[i]+n[i]*t,i===0?360:1)),n=vo(n),e.r=n[0],e.g=n[1],e.b=n[2]}}function Fc(e,i){return e&&Object.assign(i||{},e)}function Ic(e){var i={r:0,g:0,b:0,a:255};return Array.isArray(e)?e.length>=3&&(i={r:e[0],g:e[1],b:e[2],a:255},e.length>3&&(i.a=_e(e[3]))):(i=Fc(e,{r:0,g:0,b:0,a:1}),i.a=_e(i.a)),i}function Jd(e){return e.charAt(0)==="r"?Xd(e):Hd(e)}var ki=class e{constructor(i){if(i instanceof e)return i;let t=typeof i,n;t==="object"?n=Ic(i):t==="string"&&(n=Ld(i)||Yd(i)||Jd(i)),this._rgb=n,this._valid=!!n}get valid(){return this._valid}get rgb(){var i=Fc(this._rgb);return i&&(i.a=oe(i.a)),i}set rgb(i){this._rgb=Ic(i)}rgbString(){return this._valid?Kd(this._rgb):void 0}hexString(){return this._valid?zd(this._rgb):void 0}hslString(){return this._valid?Gd(this._rgb):void 0}mix(i,t){if(i){let n=this.rgb,s=i.rgb,o,a=t===o?.5:t,r=2*a-1,c=n.a-s.a,l=((r*c===-1?r:(r+c)/(1+r*c))+1)/2;o=1-l,n.r=255&l*n.r+o*s.r+.5,n.g=255&l*n.g+o*s.g+.5,n.b=255&l*n.b+o*s.b+.5,n.a=a*n.a+(1-a)*s.a,this.rgb=n}return this}interpolate(i,t){return i&&(this._rgb=Zd(this._rgb,i._rgb,t)),this}clone(){return new e(this.rgb)}alpha(i){return this._rgb.a=_e(i),this}clearer(i){let t=this._rgb;return t.a*=1-i,this}greyscale(){let i=this._rgb,t=Ci(i.r*.3+i.g*.59+i.b*.11);return i.r=i.g=i.b=t,this}opaquer(i){let t=this._rgb;return t.a*=1+i,this}negate(){let i=this._rgb;return i.r=255-i.r,i.g=255-i.g,i.b=255-i.b,this}lighten(i){return Dn(this._rgb,2,i),this}darken(i){return Dn(this._rgb,2,-i),this}saturate(i){return Dn(this._rgb,1,i),this}desaturate(i){return Dn(this._rgb,1,-i),this}rotate(i){return $d(this._rgb,i),this}};function Vt(){}var Po=(()=>{let e=0;return()=>e++})();function $(e){return e===null||typeof e>"u"}function K(e){if(Array.isArray&&Array.isArray(e))return!0;let i=Object.prototype.toString.call(e);return i.slice(0,7)==="[object"&&i.slice(-6)==="Array]"}function W(e){return e!==null&&Object.prototype.toString.call(e)==="[object Object]"}function et(e){return(typeof e=="number"||e instanceof Number)&&isFinite(+e)}function _t(e,i){return et(e)?e:i}function z(e,i){return typeof e>"u"?i:e}var ko=(e,i)=>typeof e=="string"&&e.endsWith("%")?parseFloat(e)/100:+e/i,zn=(e,i)=>typeof e=="string"&&e.endsWith("%")?parseFloat(e)/100*i:+e;function Y(e,i,t){if(e&&typeof e.call=="function")return e.apply(t,i)}function G(e,i,t,n){let s,o,a;if(K(e))if(o=e.length,n)for(s=o-1;s>=0;s--)i.call(t,e[s],s);else for(s=0;s<o;s++)i.call(t,e[s],s);else if(W(e))for(a=Object.keys(e),o=a.length,s=0;s<o;s++)i.call(t,e[a[s]],a[s])}function oi(e,i){let t,n,s,o;if(!e||!i||e.length!==i.length)return!1;for(t=0,n=e.length;t<n;++t)if(s=e[t],o=i[t],s.datasetIndex!==o.datasetIndex||s.index!==o.index)return!1;return!0}function Ei(e){if(K(e))return e.map(Ei);if(W(e)){let i=Object.create(null),t=Object.keys(e),n=t.length,s=0;for(;s<n;++s)i[t[s]]=Ei(e[t[s]]);return i}return e}function Uc(e){return["__proto__","prototype","constructor"].indexOf(e)===-1}function Xc(e,i,t,n){if(!Uc(e))return;let s=i[e],o=t[e];W(s)&&W(o)?pt(s,o,n):i[e]=Ei(o)}function pt(e,i,t){let n=K(i)?i:[i],s=n.length;if(!W(e))return e;t=t||{};let o=t.merger||Xc,a;for(let r=0;r<s;++r){if(a=n[r],!W(a))continue;let c=Object.keys(a);for(let l=0,f=c.length;l<f;++l)o(c[l],e,a,t)}return e}function Ie(e,i){return pt(e,i,{merger:Kc})}function Kc(e,i,t){if(!Uc(e))return;let n=i[e],s=t[e];W(n)&&W(s)?Ie(n,s):Object.prototype.hasOwnProperty.call(i,e)||(i[e]=Ei(s))}var Nc={"":e=>e,x:e=>e.x,y:e=>e.y};function Zc(e){let i=e.split("."),t=[],n="";for(let s of i)n+=s,n.endsWith("\\")?n=n.slice(0,-1)+".":(t.push(n),n="");return t}function Qd(e){let i=Zc(e);return t=>{for(let n of i){if(n==="")break;t=t&&t[n]}return t}}function Yt(e,i){return(Nc[i]||(Nc[i]=Qd(i)))(e)}function Oi(e){return e.charAt(0).toUpperCase()+e.slice(1)}var ze=e=>typeof e<"u",Gt=e=>typeof e=="function",Bn=(e,i)=>{if(e.size!==i.size)return!1;for(let t of e)if(!i.has(t))return!1;return!0};function Co(e){return e.type==="mouseup"||e.type==="click"||e.type==="contextmenu"}var Z=Math.PI,J=2*Z,Jc=J+Z,Di=Number.POSITIVE_INFINITY,Qc=Z/180,it=Z/2,ve=Z/4,Mo=Z*2/3,qt=Math.log10,Lt=Math.sign;function Be(e,i,t){return Math.abs(e-i)<t}function Fn(e){let i=Math.round(e);e=Be(e,i,e/1e3)?i:e;let t=Math.pow(10,Math.floor(qt(e))),n=e/t;return(n<=1?1:n<=2?2:n<=5?5:10)*t}function Ao(e){let i=[],t=Math.sqrt(e),n;for(n=1;n<t;n++)e%n===0&&(i.push(n),i.push(e/n));return t===(t|0)&&i.push(t),i.sort((s,o)=>s-o).pop(),i}function Me(e){return!isNaN(parseFloat(e))&&isFinite(e)}function Eo(e,i){let t=Math.round(e);return t-i<=e&&t+i>=e}function Nn(e,i,t){let n,s,o;for(n=0,s=e.length;n<s;n++)o=e[n][t],isNaN(o)||(i.min=Math.min(i.min,o),i.max=Math.max(i.max,o))}function At(e){return e*(Z/180)}function Ti(e){return e*(180/Z)}function Vn(e){if(!et(e))return;let i=1,t=0;for(;Math.round(e*i)/i!==e;)i*=10,t++;return t}function jn(e,i){let t=i.x-e.x,n=i.y-e.y,s=Math.sqrt(t*t+n*n),o=Math.atan2(n,t);return o<-.5*Z&&(o+=J),{angle:o,distance:s}}function Ri(e,i){return Math.sqrt(Math.pow(i.x-e.x,2)+Math.pow(i.y-e.y,2))}function tl(e,i){return(e-i+Jc)%J-Z}function yt(e){return(e%J+J)%J}function Fe(e,i,t,n){let s=yt(e),o=yt(i),a=yt(t),r=yt(o-s),c=yt(a-s),l=yt(s-o),f=yt(s-a);return s===o||s===a||n&&o===a||r>c&&l<f}function at(e,i,t){return Math.max(i,Math.min(t,e))}function Do(e){return at(e,-32768,32767)}function jt(e,i,t,n=1e-6){return e>=Math.min(i,t)-n&&e<=Math.max(i,t)+n}function Li(e,i,t){t=t||(a=>e[a]<i);let n=e.length-1,s=0,o;for(;n-s>1;)o=s+n>>1,t(o)?s=o:n=o;return{lo:s,hi:n}}var Ft=(e,i,t,n)=>Li(e,t,n?s=>{let o=e[s][i];return o<t||o===t&&e[s+1][i]===t}:s=>e[s][i]<t),Ro=(e,i,t)=>Li(e,t,n=>e[n][i]>=t);function Oo(e,i,t){let n=0,s=e.length;for(;n<s&&e[n]<i;)n++;for(;s>n&&e[s-1]>t;)s--;return n>0||s<e.length?e.slice(n,s):e}var el=["push","pop","shift","splice","unshift"];function To(e,i){if(e._chartjs){e._chartjs.listeners.push(i);return}Object.defineProperty(e,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[i]}}),el.forEach(t=>{let n="_onData"+Oi(t),s=e[t];Object.defineProperty(e,t,{configurable:!0,enumerable:!1,value(...o){let a=s.apply(this,o);return e._chartjs.listeners.forEach(r=>{typeof r[n]=="function"&&r[n](...o)}),a}})})}function Wn(e,i){let t=e._chartjs;if(!t)return;let n=t.listeners,s=n.indexOf(i);s!==-1&&n.splice(s,1),!(n.length>0)&&(el.forEach(o=>{delete e[o]}),delete e._chartjs)}function Hn(e){let i=new Set(e);return i.size===e.length?e:Array.from(i)}var $n=function(){return typeof window>"u"?function(e){return e()}:window.requestAnimationFrame}();function Gn(e,i){let t=[],n=!1;return function(...s){t=s,n||(n=!0,$n.call(window,()=>{n=!1,e.apply(i,t)}))}}function Lo(e,i){let t;return function(...n){return i?(clearTimeout(t),t=setTimeout(e,i,n)):e.apply(this,n),i}}var Ii=e=>e==="start"?"left":e==="end"?"right":"center",ft=(e,i,t)=>e==="start"?i:e==="end"?t:(i+t)/2,Io=(e,i,t,n)=>e===(n?"left":"right")?t:e==="center"?(i+t)/2:i;function qn(e,i,t){let n=i.length,s=0,o=n;if(e._sorted){let{iScale:a,_parsed:r}=e,c=a.axis,{min:l,max:f,minDefined:h,maxDefined:d}=a.getUserBounds();h&&(s=at(Math.min(Ft(r,c,l).lo,t?n:Ft(i,c,a.getPixelForValue(l)).lo),0,n-1)),d?o=at(Math.max(Ft(r,a.axis,f,!0).hi+1,t?0:Ft(i,c,a.getPixelForValue(f),!0).hi+1),s,n)-s:o=n-s}return{start:s,count:o}}function Yn(e){let{xScale:i,yScale:t,_scaleRanges:n}=e,s={xmin:i.min,xmax:i.max,ymin:t.min,ymax:t.max};if(!n)return e._scaleRanges=s,!0;let o=n.xmin!==i.min||n.xmax!==i.max||n.ymin!==t.min||n.ymax!==t.max;return Object.assign(n,s),o}var Rn=e=>e===0||e===1,Vc=(e,i,t)=>-(Math.pow(2,10*(e-=1))*Math.sin((e-i)*J/t)),jc=(e,i,t)=>Math.pow(2,-10*e)*Math.sin((e-i)*J/t)+1,Te={linear:e=>e,easeInQuad:e=>e*e,easeOutQuad:e=>-e*(e-2),easeInOutQuad:e=>(e/=.5)<1?.5*e*e:-.5*(--e*(e-2)-1),easeInCubic:e=>e*e*e,easeOutCubic:e=>(e-=1)*e*e+1,easeInOutCubic:e=>(e/=.5)<1?.5*e*e*e:.5*((e-=2)*e*e+2),easeInQuart:e=>e*e*e*e,easeOutQuart:e=>-((e-=1)*e*e*e-1),easeInOutQuart:e=>(e/=.5)<1?.5*e*e*e*e:-.5*((e-=2)*e*e*e-2),easeInQuint:e=>e*e*e*e*e,easeOutQuint:e=>(e-=1)*e*e*e*e+1,easeInOutQuint:e=>(e/=.5)<1?.5*e*e*e*e*e:.5*((e-=2)*e*e*e*e+2),easeInSine:e=>-Math.cos(e*it)+1,easeOutSine:e=>Math.sin(e*it),easeInOutSine:e=>-.5*(Math.cos(Z*e)-1),easeInExpo:e=>e===0?0:Math.pow(2,10*(e-1)),easeOutExpo:e=>e===1?1:-Math.pow(2,-10*e)+1,easeInOutExpo:e=>Rn(e)?e:e<.5?.5*Math.pow(2,10*(e*2-1)):.5*(-Math.pow(2,-10*(e*2-1))+2),easeInCirc:e=>e>=1?e:-(Math.sqrt(1-e*e)-1),easeOutCirc:e=>Math.sqrt(1-(e-=1)*e),easeInOutCirc:e=>(e/=.5)<1?-.5*(Math.sqrt(1-e*e)-1):.5*(Math.sqrt(1-(e-=2)*e)+1),easeInElastic:e=>Rn(e)?e:Vc(e,.075,.3),easeOutElastic:e=>Rn(e)?e:jc(e,.075,.3),easeInOutElastic(e){return Rn(e)?e:e<.5?.5*Vc(e*2,.1125,.45):.5+.5*jc(e*2-1,.1125,.45)},easeInBack(e){return e*e*((1.70158+1)*e-1.70158)},easeOutBack(e){return(e-=1)*e*((1.70158+1)*e+1.70158)+1},easeInOutBack(e){let i=1.70158;return(e/=.5)<1?.5*(e*e*(((i*=1.525)+1)*e-i)):.5*((e-=2)*e*(((i*=1.525)+1)*e+i)+2)},easeInBounce:e=>1-Te.easeOutBounce(1-e),easeOutBounce(e){return e<1/2.75?7.5625*e*e:e<2/2.75?7.5625*(e-=1.5/2.75)*e+.75:e<2.5/2.75?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375},easeInOutBounce:e=>e<.5?Te.easeInBounce(e*2)*.5:Te.easeOutBounce(e*2-1)*.5+.5};function Un(e){if(e&&typeof e=="object"){let i=e.toString();return i==="[object CanvasPattern]"||i==="[object CanvasGradient]"}return!1}function Xn(e){return Un(e)?e:new ki(e)}function Ln(e){return Un(e)?e:new ki(e).saturate(.5).darken(.1).hexString()}var tu=["x","y","borderWidth","radius","tension"],eu=["color","borderColor","backgroundColor"];function iu(e){e.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),e.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:i=>i!=="onProgress"&&i!=="onComplete"&&i!=="fn"}),e.set("animations",{colors:{type:"color",properties:eu},numbers:{type:"number",properties:tu}}),e.describe("animations",{_fallback:"animation"}),e.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:i=>i|0}}}})}function nu(e){e.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}var Wc=new Map;function su(e,i){i=i||{};let t=e+JSON.stringify(i),n=Wc.get(t);return n||(n=new Intl.NumberFormat(e,i),Wc.set(t,n)),n}function Ne(e,i,t){return su(i,t).format(e)}var il={values(e){return K(e)?e:""+e},numeric(e,i,t){if(e===0)return"0";let n=this.chart.options.locale,s,o=e;if(t.length>1){let l=Math.max(Math.abs(t[0].value),Math.abs(t[t.length-1].value));(l<1e-4||l>1e15)&&(s="scientific"),o=ou(e,t)}let a=qt(Math.abs(o)),r=isNaN(a)?1:Math.max(Math.min(-1*Math.floor(a),20),0),c={notation:s,minimumFractionDigits:r,maximumFractionDigits:r};return Object.assign(c,this.options.ticks.format),Ne(e,n,c)},logarithmic(e,i,t){if(e===0)return"0";let n=t[i].significand||e/Math.pow(10,Math.floor(qt(e)));return[1,2,3,5,10,15].includes(n)||i>.8*t.length?il.numeric.call(this,e,i,t):""}};function ou(e,i){let t=i.length>3?i[2].value-i[1].value:i[1].value-i[0].value;return Math.abs(t)>=1&&e!==Math.floor(e)&&(t=e-Math.floor(e)),t}var zi={formatters:il};function au(e){e.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(i,t)=>t.lineWidth,tickColor:(i,t)=>t.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:zi.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),e.route("scale.ticks","color","","color"),e.route("scale.grid","color","","borderColor"),e.route("scale.border","color","","borderColor"),e.route("scale.title","color","","color"),e.describe("scale",{_fallback:!1,_scriptable:i=>!i.startsWith("before")&&!i.startsWith("after")&&i!=="callback"&&i!=="parser",_indexable:i=>i!=="borderDash"&&i!=="tickBorderDash"&&i!=="dash"}),e.describe("scales",{_fallback:"scale"}),e.describe("scale.ticks",{_scriptable:i=>i!=="backdropPadding"&&i!=="callback",_indexable:i=>i!=="backdropPadding"})}var Se=Object.create(null),Kn=Object.create(null);function Ai(e,i){if(!i)return e;let t=i.split(".");for(let n=0,s=t.length;n<s;++n){let o=t[n];e=e[o]||(e[o]=Object.create(null))}return e}function wo(e,i,t){return typeof i=="string"?pt(Ai(e,i),t):pt(Ai(e,""),i)}var So=class{constructor(i,t){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=n=>n.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(n,s)=>Ln(s.backgroundColor),this.hoverBorderColor=(n,s)=>Ln(s.borderColor),this.hoverColor=(n,s)=>Ln(s.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(i),this.apply(t)}set(i,t){return wo(this,i,t)}get(i){return Ai(this,i)}describe(i,t){return wo(Kn,i,t)}override(i,t){return wo(Se,i,t)}route(i,t,n,s){let o=Ai(this,i),a=Ai(this,n),r="_"+t;Object.defineProperties(o,{[r]:{value:o[t],writable:!0},[t]:{enumerable:!0,get(){let c=this[r],l=a[s];return W(c)?Object.assign({},l,c):z(c,l)},set(c){this[r]=c}}})}apply(i){i.forEach(t=>t(this))}},nt=new So({_scriptable:e=>!e.startsWith("on"),_indexable:e=>e!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[iu,nu,au]);function nl(e){return!e||$(e.size)||$(e.family)?null:(e.style?e.style+" ":"")+(e.weight?e.weight+" ":"")+e.size+"px "+e.family}function ni(e,i,t,n,s){let o=i[s];return o||(o=i[s]=e.measureText(s).width,t.push(s)),o>n&&(n=o),n}function zo(e,i,t,n){n=n||{};let s=n.data=n.data||{},o=n.garbageCollect=n.garbageCollect||[];n.font!==i&&(s=n.data={},o=n.garbageCollect=[],n.font=i),e.save(),e.font=i;let a=0,r=t.length,c,l,f,h,d;for(c=0;c<r;c++)if(h=t[c],h!=null&&!K(h))a=ni(e,s,o,a,h);else if(K(h))for(l=0,f=h.length;l<f;l++)d=h[l],d!=null&&!K(d)&&(a=ni(e,s,o,a,d));e.restore();let u=o.length/2;if(u>t.length){for(c=0;c<u;c++)delete s[o[c]];o.splice(0,u)}return a}function re(e,i,t){let n=e.currentDevicePixelRatio,s=t!==0?Math.max(t/2,.5):0;return Math.round((i-s)*n)/n+s}function Zn(e,i){!i&&!e||(i=i||e.getContext("2d"),i.save(),i.resetTransform(),i.clearRect(0,0,e.width,e.height),i.restore())}function Ve(e,i,t,n){Jn(e,i,t,n,null)}function Jn(e,i,t,n,s){let o,a,r,c,l,f,h,d,u=i.pointStyle,p=i.rotation,g=i.radius,m=(p||0)*Qc;if(u&&typeof u=="object"&&(o=u.toString(),o==="[object HTMLImageElement]"||o==="[object HTMLCanvasElement]")){e.save(),e.translate(t,n),e.rotate(m),e.drawImage(u,-u.width/2,-u.height/2,u.width,u.height),e.restore();return}if(!(isNaN(g)||g<=0)){switch(e.beginPath(),u){default:s?e.ellipse(t,n,s/2,g,0,0,J):e.arc(t,n,g,0,J),e.closePath();break;case"triangle":f=s?s/2:g,e.moveTo(t+Math.sin(m)*f,n-Math.cos(m)*g),m+=Mo,e.lineTo(t+Math.sin(m)*f,n-Math.cos(m)*g),m+=Mo,e.lineTo(t+Math.sin(m)*f,n-Math.cos(m)*g),e.closePath();break;case"rectRounded":l=g*.516,c=g-l,a=Math.cos(m+ve)*c,h=Math.cos(m+ve)*(s?s/2-l:c),r=Math.sin(m+ve)*c,d=Math.sin(m+ve)*(s?s/2-l:c),e.arc(t-h,n-r,l,m-Z,m-it),e.arc(t+d,n-a,l,m-it,m),e.arc(t+h,n+r,l,m,m+it),e.arc(t-d,n+a,l,m+it,m+Z),e.closePath();break;case"rect":if(!p){c=Math.SQRT1_2*g,f=s?s/2:c,e.rect(t-f,n-c,2*f,2*c);break}m+=ve;case"rectRot":h=Math.cos(m)*(s?s/2:g),a=Math.cos(m)*g,r=Math.sin(m)*g,d=Math.sin(m)*(s?s/2:g),e.moveTo(t-h,n-r),e.lineTo(t+d,n-a),e.lineTo(t+h,n+r),e.lineTo(t-d,n+a),e.closePath();break;case"crossRot":m+=ve;case"cross":h=Math.cos(m)*(s?s/2:g),a=Math.cos(m)*g,r=Math.sin(m)*g,d=Math.sin(m)*(s?s/2:g),e.moveTo(t-h,n-r),e.lineTo(t+h,n+r),e.moveTo(t+d,n-a),e.lineTo(t-d,n+a);break;case"star":h=Math.cos(m)*(s?s/2:g),a=Math.cos(m)*g,r=Math.sin(m)*g,d=Math.sin(m)*(s?s/2:g),e.moveTo(t-h,n-r),e.lineTo(t+h,n+r),e.moveTo(t+d,n-a),e.lineTo(t-d,n+a),m+=ve,h=Math.cos(m)*(s?s/2:g),a=Math.cos(m)*g,r=Math.sin(m)*g,d=Math.sin(m)*(s?s/2:g),e.moveTo(t-h,n-r),e.lineTo(t+h,n+r),e.moveTo(t+d,n-a),e.lineTo(t-d,n+a);break;case"line":a=s?s/2:Math.cos(m)*g,r=Math.sin(m)*g,e.moveTo(t-a,n-r),e.lineTo(t+a,n+r);break;case"dash":e.moveTo(t,n),e.lineTo(t+Math.cos(m)*(s?s/2:g),n+Math.sin(m)*g);break;case!1:e.closePath();break}e.fill(),i.borderWidth>0&&e.stroke()}}function Nt(e,i,t){return t=t||.5,!i||e&&e.x>i.left-t&&e.x<i.right+t&&e.y>i.top-t&&e.y<i.bottom+t}function Ut(e,i){e.save(),e.beginPath(),e.rect(i.left,i.top,i.right-i.left,i.bottom-i.top),e.clip()}function Xt(e){e.restore()}function Bo(e,i,t,n,s){if(!i)return e.lineTo(t.x,t.y);if(s==="middle"){let o=(i.x+t.x)/2;e.lineTo(o,i.y),e.lineTo(o,t.y)}else s==="after"!=!!n?e.lineTo(i.x,t.y):e.lineTo(t.x,i.y);e.lineTo(t.x,t.y)}function Fo(e,i,t,n){if(!i)return e.lineTo(t.x,t.y);e.bezierCurveTo(n?i.cp1x:i.cp2x,n?i.cp1y:i.cp2y,n?t.cp2x:t.cp1x,n?t.cp2y:t.cp1y,t.x,t.y)}function ru(e,i){i.translation&&e.translate(i.translation[0],i.translation[1]),$(i.rotation)||e.rotate(i.rotation),i.color&&(e.fillStyle=i.color),i.textAlign&&(e.textAlign=i.textAlign),i.textBaseline&&(e.textBaseline=i.textBaseline)}function cu(e,i,t,n,s){if(s.strikethrough||s.underline){let o=e.measureText(n),a=i-o.actualBoundingBoxLeft,r=i+o.actualBoundingBoxRight,c=t-o.actualBoundingBoxAscent,l=t+o.actualBoundingBoxDescent,f=s.strikethrough?(c+l)/2:l;e.strokeStyle=e.fillStyle,e.beginPath(),e.lineWidth=s.decorationWidth||2,e.moveTo(a,f),e.lineTo(r,f),e.stroke()}}function lu(e,i){let t=e.fillStyle;e.fillStyle=i.color,e.fillRect(i.left,i.top,i.width,i.height),e.fillStyle=t}function ce(e,i,t,n,s,o={}){let a=K(i)?i:[i],r=o.strokeWidth>0&&o.strokeColor!=="",c,l;for(e.save(),e.font=s.string,ru(e,o),c=0;c<a.length;++c)l=a[c],o.backdrop&&lu(e,o.backdrop),r&&(o.strokeColor&&(e.strokeStyle=o.strokeColor),$(o.strokeWidth)||(e.lineWidth=o.strokeWidth),e.strokeText(l,t,n,o.maxWidth)),e.fillText(l,t,n,o.maxWidth),cu(e,t,n,l,o),n+=Number(s.lineHeight);e.restore()}function je(e,i){let{x:t,y:n,w:s,h:o,radius:a}=i;e.arc(t+a.topLeft,n+a.topLeft,a.topLeft,1.5*Z,Z,!0),e.lineTo(t,n+o-a.bottomLeft),e.arc(t+a.bottomLeft,n+o-a.bottomLeft,a.bottomLeft,Z,it,!0),e.lineTo(t+s-a.bottomRight,n+o),e.arc(t+s-a.bottomRight,n+o-a.bottomRight,a.bottomRight,it,0,!0),e.lineTo(t+s,n+a.topRight),e.arc(t+s-a.topRight,n+a.topRight,a.topRight,0,-it,!0),e.lineTo(t+a.topLeft,n)}var fu=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,hu=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function sl(e,i){let t=(""+e).match(fu);if(!t||t[1]==="normal")return i*1.2;switch(e=+t[2],t[3]){case"px":return e;case"%":e/=100;break}return i*e}var du=e=>+e||0;function Bi(e,i){let t={},n=W(i),s=n?Object.keys(i):i,o=W(e)?n?a=>z(e[a],e[i[a]]):a=>e[a]:()=>e;for(let a of s)t[a]=du(o(a));return t}function Qn(e){return Bi(e,{top:"y",right:"x",bottom:"y",left:"x"})}function le(e){return Bi(e,["topLeft","topRight","bottomLeft","bottomRight"])}function ht(e){let i=Qn(e);return i.width=i.left+i.right,i.height=i.top+i.bottom,i}function ot(e,i){e=e||{},i=i||nt.font;let t=z(e.size,i.size);typeof t=="string"&&(t=parseInt(t,10));let n=z(e.style,i.style);n&&!(""+n).match(hu)&&(console.warn('Invalid font style specified: "'+n+'"'),n=void 0);let s={family:z(e.family,i.family),lineHeight:sl(z(e.lineHeight,i.lineHeight),t),size:t,style:n,weight:z(e.weight,i.weight),string:""};return s.string=nl(s),s}function We(e,i,t,n){let s=!0,o,a,r;for(o=0,a=e.length;o<a;++o)if(r=e[o],r!==void 0&&(i!==void 0&&typeof r=="function"&&(r=r(i),s=!1),t!==void 0&&K(r)&&(r=r[t%r.length],s=!1),r!==void 0))return n&&!s&&(n.cacheable=!1),r}function No(e,i,t){let{min:n,max:s}=e,o=zn(i,(s-n)/2),a=(r,c)=>t&&r===0?0:r+c;return{min:a(n,-Math.abs(o)),max:a(s,o)}}function Kt(e,i){return Object.assign(Object.create(e),i)}function Fi(e,i=[""],t,n,s=()=>e[0]){let o=t||e;typeof n>"u"&&(n=rl("_fallback",e));let a={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:e,_rootScopes:o,_fallback:n,_getTarget:s,override:r=>Fi([r,...e],i,o,n)};return new Proxy(a,{deleteProperty(r,c){return delete r[c],delete r._keys,delete e[0][c],!0},get(r,c){return ol(r,c,()=>_u(c,i,e,r))},getOwnPropertyDescriptor(r,c){return Reflect.getOwnPropertyDescriptor(r._scopes[0],c)},getPrototypeOf(){return Reflect.getPrototypeOf(e[0])},has(r,c){return $c(r).includes(c)},ownKeys(r){return $c(r)},set(r,c,l){let f=r._storage||(r._storage=s());return r[c]=f[c]=l,delete r._keys,!0}})}function we(e,i,t,n){let s={_cacheable:!1,_proxy:e,_context:i,_subProxy:t,_stack:new Set,_descriptors:ts(e,n),setContext:o=>we(e,o,t,n),override:o=>we(e.override(o),i,t,n)};return new Proxy(s,{deleteProperty(o,a){return delete o[a],delete e[a],!0},get(o,a,r){return ol(o,a,()=>pu(o,a,r))},getOwnPropertyDescriptor(o,a){return o._descriptors.allKeys?Reflect.has(e,a)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(e,a)},getPrototypeOf(){return Reflect.getPrototypeOf(e)},has(o,a){return Reflect.has(e,a)},ownKeys(){return Reflect.ownKeys(e)},set(o,a,r){return e[a]=r,delete o[a],!0}})}function ts(e,i={scriptable:!0,indexable:!0}){let{_scriptable:t=i.scriptable,_indexable:n=i.indexable,_allKeys:s=i.allKeys}=e;return{allKeys:s,scriptable:t,indexable:n,isScriptable:Gt(t)?t:()=>t,isIndexable:Gt(n)?n:()=>n}}var uu=(e,i)=>e?e+Oi(i):i,Vo=(e,i)=>W(i)&&e!=="adapters"&&(Object.getPrototypeOf(i)===null||i.constructor===Object);function ol(e,i,t){if(Object.prototype.hasOwnProperty.call(e,i)||i==="constructor")return e[i];let n=t();return e[i]=n,n}function pu(e,i,t){let{_proxy:n,_context:s,_subProxy:o,_descriptors:a}=e,r=n[i];return Gt(r)&&a.isScriptable(i)&&(r=gu(i,r,e,t)),K(r)&&r.length&&(r=mu(i,r,e,a.isIndexable)),Vo(i,r)&&(r=we(r,s,o&&o[i],a)),r}function gu(e,i,t,n){let{_proxy:s,_context:o,_subProxy:a,_stack:r}=t;if(r.has(e))throw new Error("Recursion detected: "+Array.from(r).join("->")+"->"+e);r.add(e);let c=i(o,a||n);return r.delete(e),Vo(e,c)&&(c=jo(s._scopes,s,e,c)),c}function mu(e,i,t,n){let{_proxy:s,_context:o,_subProxy:a,_descriptors:r}=t;if(typeof o.index<"u"&&n(e))return i[o.index%i.length];if(W(i[0])){let c=i,l=s._scopes.filter(f=>f!==c);i=[];for(let f of c){let h=jo(l,s,e,f);i.push(we(h,o,a&&a[e],r))}}return i}function al(e,i,t){return Gt(e)?e(i,t):e}var bu=(e,i)=>e===!0?i:typeof e=="string"?Yt(i,e):void 0;function xu(e,i,t,n,s){for(let o of i){let a=bu(t,o);if(a){e.add(a);let r=al(a._fallback,t,s);if(typeof r<"u"&&r!==t&&r!==n)return r}else if(a===!1&&typeof n<"u"&&t!==n)return null}return!1}function jo(e,i,t,n){let s=i._rootScopes,o=al(i._fallback,t,n),a=[...e,...s],r=new Set;r.add(n);let c=Hc(r,a,t,o||t,n);return c===null||typeof o<"u"&&o!==t&&(c=Hc(r,a,o,c,n),c===null)?!1:Fi(Array.from(r),[""],s,o,()=>yu(i,t,n))}function Hc(e,i,t,n,s){for(;t;)t=xu(e,i,t,n,s);return t}function yu(e,i,t){let n=e._getTarget();i in n||(n[i]={});let s=n[i];return K(s)&&W(t)?t:s||{}}function _u(e,i,t,n){let s;for(let o of i)if(s=rl(uu(o,e),t),typeof s<"u")return Vo(e,s)?jo(t,n,e,s):s}function rl(e,i){for(let t of i){if(!t)continue;let n=t[e];if(typeof n<"u")return n}}function $c(e){let i=e._keys;return i||(i=e._keys=vu(e._scopes)),i}function vu(e){let i=new Set;for(let t of e)for(let n of Object.keys(t).filter(s=>!s.startsWith("_")))i.add(n);return Array.from(i)}function es(e,i,t,n){let{iScale:s}=e,{key:o="r"}=this._parsing,a=new Array(n),r,c,l,f;for(r=0,c=n;r<c;++r)l=r+t,f=i[l],a[r]={r:s.parse(Yt(f,o),l)};return a}var wu=Number.EPSILON||1e-14,si=(e,i)=>i<e.length&&!e[i].skip&&e[i],cl=e=>e==="x"?"y":"x";function ll(e,i,t,n){let s=e.skip?i:e,o=i,a=t.skip?i:t,r=Ri(o,s),c=Ri(a,o),l=r/(r+c),f=c/(r+c);l=isNaN(l)?0:l,f=isNaN(f)?0:f;let h=n*l,d=n*f;return{previous:{x:o.x-h*(a.x-s.x),y:o.y-h*(a.y-s.y)},next:{x:o.x+d*(a.x-s.x),y:o.y+d*(a.y-s.y)}}}function Mu(e,i,t){let n=e.length,s,o,a,r,c,l=si(e,0);for(let f=0;f<n-1;++f)if(c=l,l=si(e,f+1),!(!c||!l)){if(Be(i[f],0,wu)){t[f]=t[f+1]=0;continue}s=t[f]/i[f],o=t[f+1]/i[f],r=Math.pow(s,2)+Math.pow(o,2),!(r<=9)&&(a=3/Math.sqrt(r),t[f]=s*a*i[f],t[f+1]=o*a*i[f])}}function Su(e,i,t="x"){let n=cl(t),s=e.length,o,a,r,c=si(e,0);for(let l=0;l<s;++l){if(a=r,r=c,c=si(e,l+1),!r)continue;let f=r[t],h=r[n];a&&(o=(f-a[t])/3,r[`cp1${t}`]=f-o,r[`cp1${n}`]=h-o*i[l]),c&&(o=(c[t]-f)/3,r[`cp2${t}`]=f+o,r[`cp2${n}`]=h+o*i[l])}}function fl(e,i="x"){let t=cl(i),n=e.length,s=Array(n).fill(0),o=Array(n),a,r,c,l=si(e,0);for(a=0;a<n;++a)if(r=c,c=l,l=si(e,a+1),!!c){if(l){let f=l[i]-c[i];s[a]=f!==0?(l[t]-c[t])/f:0}o[a]=r?l?Lt(s[a-1])!==Lt(s[a])?0:(s[a-1]+s[a])/2:s[a-1]:s[a]}Mu(e,s,o),Su(e,o,i)}function On(e,i,t){return Math.max(Math.min(e,t),i)}function Pu(e,i){let t,n,s,o,a,r=Nt(e[0],i);for(t=0,n=e.length;t<n;++t)a=o,o=r,r=t<n-1&&Nt(e[t+1],i),o&&(s=e[t],a&&(s.cp1x=On(s.cp1x,i.left,i.right),s.cp1y=On(s.cp1y,i.top,i.bottom)),r&&(s.cp2x=On(s.cp2x,i.left,i.right),s.cp2y=On(s.cp2y,i.top,i.bottom)))}function Wo(e,i,t,n,s){let o,a,r,c;if(i.spanGaps&&(e=e.filter(l=>!l.skip)),i.cubicInterpolationMode==="monotone")fl(e,s);else{let l=n?e[e.length-1]:e[0];for(o=0,a=e.length;o<a;++o)r=e[o],c=ll(l,r,e[Math.min(o+1,a-(n?0:1))%a],i.tension),r.cp1x=c.previous.x,r.cp1y=c.previous.y,r.cp2x=c.next.x,r.cp2y=c.next.y,l=r}i.capBezierPoints&&Pu(e,t)}function Ni(){return typeof window<"u"&&typeof document<"u"}function Vi(e){let i=e.parentNode;return i&&i.toString()==="[object ShadowRoot]"&&(i=i.host),i}function In(e,i,t){let n;return typeof e=="string"?(n=parseInt(e,10),e.indexOf("%")!==-1&&(n=n/100*i.parentNode[t])):n=e,n}var is=e=>e.ownerDocument.defaultView.getComputedStyle(e,null);function hl(e,i){return is(e).getPropertyValue(i)}var ku=["top","right","bottom","left"];function Le(e,i,t){let n={};t=t?"-"+t:"";for(let s=0;s<4;s++){let o=ku[s];n[o]=parseFloat(e[i+"-"+o+t])||0}return n.width=n.left+n.right,n.height=n.top+n.bottom,n}var Cu=(e,i,t)=>(e>0||i>0)&&(!t||!t.shadowRoot);function Au(e,i){let t=e.touches,n=t&&t.length?t[0]:e,{offsetX:s,offsetY:o}=n,a=!1,r,c;if(Cu(s,o,e.target))r=s,c=o;else{let l=i.getBoundingClientRect();r=n.clientX-l.left,c=n.clientY-l.top,a=!0}return{x:r,y:c,box:a}}function fe(e,i){if("native"in e)return e;let{canvas:t,currentDevicePixelRatio:n}=i,s=is(t),o=s.boxSizing==="border-box",a=Le(s,"padding"),r=Le(s,"border","width"),{x:c,y:l,box:f}=Au(e,t),h=a.left+(f&&r.left),d=a.top+(f&&r.top),{width:u,height:p}=i;return o&&(u-=a.width+r.width,p-=a.height+r.height),{x:Math.round((c-h)/u*t.width/n),y:Math.round((l-d)/p*t.height/n)}}function Eu(e,i,t){let n,s;if(i===void 0||t===void 0){let o=e&&Vi(e);if(!o)i=e.clientWidth,t=e.clientHeight;else{let a=o.getBoundingClientRect(),r=is(o),c=Le(r,"border","width"),l=Le(r,"padding");i=a.width-l.width-c.width,t=a.height-l.height-c.height,n=In(r.maxWidth,o,"clientWidth"),s=In(r.maxHeight,o,"clientHeight")}}return{width:i,height:t,maxWidth:n||Di,maxHeight:s||Di}}var Tn=e=>Math.round(e*10)/10;function Ho(e,i,t,n){let s=is(e),o=Le(s,"margin"),a=In(s.maxWidth,e,"clientWidth")||Di,r=In(s.maxHeight,e,"clientHeight")||Di,c=Eu(e,i,t),{width:l,height:f}=c;if(s.boxSizing==="content-box"){let d=Le(s,"border","width"),u=Le(s,"padding");l-=u.width+d.width,f-=u.height+d.height}return l=Math.max(0,l-o.width),f=Math.max(0,n?l/n:f-o.height),l=Tn(Math.min(l,a,c.maxWidth)),f=Tn(Math.min(f,r,c.maxHeight)),l&&!f&&(f=Tn(l/2)),(i!==void 0||t!==void 0)&&n&&c.height&&f>c.height&&(f=c.height,l=Tn(Math.floor(f*n))),{width:l,height:f}}function ns(e,i,t){let n=i||1,s=Math.floor(e.height*n),o=Math.floor(e.width*n);e.height=Math.floor(e.height),e.width=Math.floor(e.width);let a=e.canvas;return a.style&&(t||!a.style.height&&!a.style.width)&&(a.style.height=`${e.height}px`,a.style.width=`${e.width}px`),e.currentDevicePixelRatio!==n||a.height!==s||a.width!==o?(e.currentDevicePixelRatio=n,a.height=s,a.width=o,e.ctx.setTransform(n,0,0,n,0,0),!0):!1}var $o=function(){let e=!1;try{let i={get passive(){return e=!0,!1}};Ni()&&(window.addEventListener("test",null,i),window.removeEventListener("test",null,i))}catch{}return e}();function ss(e,i){let t=hl(e,i),n=t&&t.match(/^(\d+)(\.\d+)?px$/);return n?+n[1]:void 0}function ae(e,i,t,n){return{x:e.x+t*(i.x-e.x),y:e.y+t*(i.y-e.y)}}function Go(e,i,t,n){return{x:e.x+t*(i.x-e.x),y:n==="middle"?t<.5?e.y:i.y:n==="after"?t<1?e.y:i.y:t>0?i.y:e.y}}function qo(e,i,t,n){let s={x:e.cp2x,y:e.cp2y},o={x:i.cp1x,y:i.cp1y},a=ae(e,s,t),r=ae(s,o,t),c=ae(o,i,t),l=ae(a,r,t),f=ae(r,c,t);return ae(l,f,t)}var Du=function(e,i){return{x(t){return e+e+i-t},setWidth(t){i=t},textAlign(t){return t==="center"?t:t==="right"?"left":"right"},xPlus(t,n){return t-n},leftForLtr(t,n){return t-n}}},Ru=function(){return{x(e){return e},setWidth(e){},textAlign(e){return e},xPlus(e,i){return e+i},leftForLtr(e,i){return e}}};function Pe(e,i,t){return e?Du(i,t):Ru()}function os(e,i){let t,n;(i==="ltr"||i==="rtl")&&(t=e.canvas.style,n=[t.getPropertyValue("direction"),t.getPropertyPriority("direction")],t.setProperty("direction",i,"important"),e.prevTextDirection=n)}function as(e,i){i!==void 0&&(delete e.prevTextDirection,e.canvas.style.setProperty("direction",i[0],i[1]))}function dl(e){return e==="angle"?{between:Fe,compare:tl,normalize:yt}:{between:jt,compare:(i,t)=>i-t,normalize:i=>i}}function Gc({start:e,end:i,count:t,loop:n,style:s}){return{start:e%t,end:i%t,loop:n&&(i-e+1)%t===0,style:s}}function Ou(e,i,t){let{property:n,start:s,end:o}=t,{between:a,normalize:r}=dl(n),c=i.length,{start:l,end:f,loop:h}=e,d,u;if(h){for(l+=c,f+=c,d=0,u=c;d<u&&a(r(i[l%c][n]),s,o);++d)l--,f--;l%=c,f%=c}return f<l&&(f+=c),{start:l,end:f,loop:h,style:e.style}}function rs(e,i,t){if(!t)return[e];let{property:n,start:s,end:o}=t,a=i.length,{compare:r,between:c,normalize:l}=dl(n),{start:f,end:h,loop:d,style:u}=Ou(e,i,t),p=[],g=!1,m=null,b,x,y,v=()=>c(s,y,b)&&r(s,y)!==0,_=()=>r(o,b)===0||c(o,y,b),w=()=>g||v(),P=()=>!g||_();for(let S=f,k=f;S<=h;++S)x=i[S%a],!x.skip&&(b=l(x[n]),b!==y&&(g=c(b,s,o),m===null&&w()&&(m=r(b,s)===0?S:k),m!==null&&P()&&(p.push(Gc({start:m,end:S,loop:d,count:a,style:u})),m=null),k=S,y=b));return m!==null&&p.push(Gc({start:m,end:h,loop:d,count:a,style:u})),p}function cs(e,i){let t=[],n=e.segments;for(let s=0;s<n.length;s++){let o=rs(n[s],e.points,i);o.length&&t.push(...o)}return t}function Tu(e,i,t,n){let s=0,o=i-1;if(t&&!n)for(;s<i&&!e[s].skip;)s++;for(;s<i&&e[s].skip;)s++;for(s%=i,t&&(o+=s);o>s&&e[o%i].skip;)o--;return o%=i,{start:s,end:o}}function Lu(e,i,t,n){let s=e.length,o=[],a=i,r=e[i],c;for(c=i+1;c<=t;++c){let l=e[c%s];l.skip||l.stop?r.skip||(n=!1,o.push({start:i%s,end:(c-1)%s,loop:n}),i=a=l.stop?c:null):(a=c,r.skip&&(i=c)),r=l}return a!==null&&o.push({start:i%s,end:a%s,loop:n}),o}function Yo(e,i){let t=e.points,n=e.options.spanGaps,s=t.length;if(!s)return[];let o=!!e._loop,{start:a,end:r}=Tu(t,s,o,n);if(n===!0)return qc(e,[{start:a,end:r,loop:o}],t,i);let c=r<a?r+s:r,l=!!e._fullLoop&&a===0&&r===s-1;return qc(e,Lu(t,a,c,l),t,i)}function qc(e,i,t,n){return!n||!n.setContext||!t?i:Iu(e,i,t,n)}function Iu(e,i,t,n){let s=e._chart.getContext(),o=Yc(e.options),{_datasetIndex:a,options:{spanGaps:r}}=e,c=t.length,l=[],f=o,h=i[0].start,d=h;function u(p,g,m,b){let x=r?-1:1;if(p!==g){for(p+=c;t[p%c].skip;)p-=x;for(;t[g%c].skip;)g+=x;p%c!==g%c&&(l.push({start:p%c,end:g%c,loop:m,style:b}),f=b,h=g%c)}}for(let p of i){h=r?h:p.start;let g=t[h%c],m;for(d=h+1;d<=p.end;d++){let b=t[d%c];m=Yc(n.setContext(Kt(s,{type:"segment",p0:g,p1:b,p0DataIndex:(d-1)%c,p1DataIndex:d%c,datasetIndex:a}))),zu(m,f)&&u(h,d-1,p.loop,f),g=b,f=m}h<d-1&&u(h,d-1,p.loop,f)}return l}function Yc(e){return{backgroundColor:e.backgroundColor,borderCapStyle:e.borderCapStyle,borderDash:e.borderDash,borderDashOffset:e.borderDashOffset,borderJoinStyle:e.borderJoinStyle,borderWidth:e.borderWidth,borderColor:e.borderColor}}function zu(e,i){if(!i)return!1;let t=[],n=function(s,o){return Un(o)?(t.includes(o)||t.push(o),t.indexOf(o)):o};return JSON.stringify(e,n)!==JSON.stringify(i,n)}var na=class{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(i,t,n,s){let o=t.listeners[s],a=t.duration;o.forEach(r=>r({chart:i,initial:t.initial,numSteps:a,currentStep:Math.min(n-t.start,a)}))}_refresh(){this._request||(this._running=!0,this._request=$n.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(i=Date.now()){let t=0;this._charts.forEach((n,s)=>{if(!n.running||!n.items.length)return;let o=n.items,a=o.length-1,r=!1,c;for(;a>=0;--a)c=o[a],c._active?(c._total>n.duration&&(n.duration=c._total),c.tick(i),r=!0):(o[a]=o[o.length-1],o.pop());r&&(s.draw(),this._notify(s,n,i,"progress")),o.length||(n.running=!1,this._notify(s,n,i,"complete"),n.initial=!1),t+=o.length}),this._lastDate=i,t===0&&(this._running=!1)}_getAnims(i){let t=this._charts,n=t.get(i);return n||(n={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},t.set(i,n)),n}listen(i,t,n){this._getAnims(i).listeners[t].push(n)}add(i,t){!t||!t.length||this._getAnims(i).items.push(...t)}has(i){return this._getAnims(i).items.length>0}start(i){let t=this._charts.get(i);t&&(t.running=!0,t.start=Date.now(),t.duration=t.items.reduce((n,s)=>Math.max(n,s._duration),0),this._refresh())}running(i){if(!this._running)return!1;let t=this._charts.get(i);return!(!t||!t.running||!t.items.length)}stop(i){let t=this._charts.get(i);if(!t||!t.items.length)return;let n=t.items,s=n.length-1;for(;s>=0;--s)n[s].cancel();t.items=[],this._notify(i,t,Date.now(),"complete")}remove(i){return this._charts.delete(i)}},he=new na,ul="transparent",Bu={boolean(e,i,t){return t>.5?i:e},color(e,i,t){let n=Xn(e||ul),s=n.valid&&Xn(i||ul);return s&&s.valid?s.mix(n,t).hexString():i},number(e,i,t){return e+(i-e)*t}},sa=class{constructor(i,t,n,s){let o=t[n];s=We([i.to,s,o,i.from]);let a=We([i.from,o,s]);this._active=!0,this._fn=i.fn||Bu[i.type||typeof a],this._easing=Te[i.easing]||Te.linear,this._start=Math.floor(Date.now()+(i.delay||0)),this._duration=this._total=Math.floor(i.duration),this._loop=!!i.loop,this._target=t,this._prop=n,this._from=a,this._to=s,this._promises=void 0}active(){return this._active}update(i,t,n){if(this._active){this._notify(!1);let s=this._target[this._prop],o=n-this._start,a=this._duration-o;this._start=n,this._duration=Math.floor(Math.max(a,i.duration)),this._total+=o,this._loop=!!i.loop,this._to=We([i.to,t,s,i.from]),this._from=We([i.from,s,t])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(i){let t=i-this._start,n=this._duration,s=this._prop,o=this._from,a=this._loop,r=this._to,c;if(this._active=o!==r&&(a||t<n),!this._active){this._target[s]=r,this._notify(!0);return}if(t<0){this._target[s]=o;return}c=t/n%2,c=a&&c>1?2-c:c,c=this._easing(Math.min(1,Math.max(0,c))),this._target[s]=this._fn(o,r,c)}wait(){let i=this._promises||(this._promises=[]);return new Promise((t,n)=>{i.push({res:t,rej:n})})}_notify(i){let t=i?"res":"rej",n=this._promises||[];for(let s=0;s<n.length;s++)n[s][t]()}},xs=class{constructor(i,t){this._chart=i,this._properties=new Map,this.configure(t)}configure(i){if(!W(i))return;let t=Object.keys(nt.animation),n=this._properties;Object.getOwnPropertyNames(i).forEach(s=>{let o=i[s];if(!W(o))return;let a={};for(let r of t)a[r]=o[r];(K(o.properties)&&o.properties||[s]).forEach(r=>{(r===s||!n.has(r))&&n.set(r,a)})})}_animateOptions(i,t){let n=t.options,s=Nu(i,n);if(!s)return[];let o=this._createAnimations(s,n);return n.$shared&&Fu(i.options.$animations,n).then(()=>{i.options=n},()=>{}),o}_createAnimations(i,t){let n=this._properties,s=[],o=i.$animations||(i.$animations={}),a=Object.keys(t),r=Date.now(),c;for(c=a.length-1;c>=0;--c){let l=a[c];if(l.charAt(0)==="$")continue;if(l==="options"){s.push(...this._animateOptions(i,t));continue}let f=t[l],h=o[l],d=n.get(l);if(h)if(d&&h.active()){h.update(d,f,r);continue}else h.cancel();if(!d||!d.duration){i[l]=f;continue}o[l]=h=new sa(d,i,l,f),s.push(h)}return s}update(i,t){if(this._properties.size===0){Object.assign(i,t);return}let n=this._createAnimations(i,t);if(n.length)return he.add(this._chart,n),!0}};function Fu(e,i){let t=[],n=Object.keys(i);for(let s=0;s<n.length;s++){let o=e[n[s]];o&&o.active()&&t.push(o.wait())}return Promise.all(t)}function Nu(e,i){if(!i)return;let t=e.options;if(!t){e.options=i;return}return t.$shared&&(e.options=t=Object.assign({},t,{$shared:!1,$animations:{}})),t}function pl(e,i){let t=e&&e.options||{},n=t.reverse,s=t.min===void 0?i:0,o=t.max===void 0?i:0;return{start:n?o:s,end:n?s:o}}function Vu(e,i,t){if(t===!1)return!1;let n=pl(e,t),s=pl(i,t);return{top:s.end,right:n.end,bottom:s.start,left:n.start}}function ju(e){let i,t,n,s;return W(e)?(i=e.top,t=e.right,n=e.bottom,s=e.left):i=t=n=s=e,{top:i,right:t,bottom:n,left:s,disabled:e===!1}}function gf(e,i){let t=[],n=e._getSortedDatasetMetas(i),s,o;for(s=0,o=n.length;s<o;++s)t.push(n[s].index);return t}function gl(e,i,t,n={}){let s=e.keys,o=n.mode==="single",a,r,c,l;if(i!==null){for(a=0,r=s.length;a<r;++a){if(c=+s[a],c===t){if(n.all)continue;break}l=e.values[c],et(l)&&(o||i===0||Lt(i)===Lt(l))&&(i+=l)}return i}}function Wu(e,i){let{iScale:t,vScale:n}=i,s=t.axis==="x"?"x":"y",o=n.axis==="x"?"x":"y",a=Object.keys(e),r=new Array(a.length),c,l,f;for(c=0,l=a.length;c<l;++c)f=a[c],r[c]={[s]:f,[o]:e[f]};return r}function ml(e,i){let t=e&&e.options.stacked;return t||t===void 0&&i.stack!==void 0}function Hu(e,i,t){return`${e.id}.${i.id}.${t.stack||t.type}`}function $u(e){let{min:i,max:t,minDefined:n,maxDefined:s}=e.getUserBounds();return{min:n?i:Number.NEGATIVE_INFINITY,max:s?t:Number.POSITIVE_INFINITY}}function Gu(e,i,t){let n=e[i]||(e[i]={});return n[t]||(n[t]={})}function bl(e,i,t,n){for(let s of i.getMatchingVisibleMetas(n).reverse()){let o=e[s.index];if(t&&o>0||!t&&o<0)return s.index}return null}function xl(e,i){let{chart:t,_cachedMeta:n}=e,s=t._stacks||(t._stacks={}),{iScale:o,vScale:a,index:r}=n,c=o.axis,l=a.axis,f=Hu(o,a,n),h=i.length,d;for(let u=0;u<h;++u){let p=i[u],{[c]:g,[l]:m}=p,b=p._stacks||(p._stacks={});d=b[l]=Gu(s,f,g),d[r]=m,d._top=bl(d,a,!0,n.type),d._bottom=bl(d,a,!1,n.type);let x=d._visualValues||(d._visualValues={});x[r]=m}}function Uo(e,i){let t=e.scales;return Object.keys(t).filter(n=>t[n].axis===i).shift()}function qu(e,i){return Kt(e,{active:!1,dataset:void 0,datasetIndex:i,index:i,mode:"default",type:"dataset"})}function Yu(e,i,t){return Kt(e,{active:!1,dataIndex:i,parsed:void 0,raw:void 0,element:t,index:i,mode:"default",type:"data"})}function ji(e,i){let t=e.controller.index,n=e.vScale&&e.vScale.axis;if(n){i=i||e._parsed;for(let s of i){let o=s._stacks;if(!o||o[n]===void 0||o[n][t]===void 0)return;delete o[n][t],o[n]._visualValues!==void 0&&o[n]._visualValues[t]!==void 0&&delete o[n]._visualValues[t]}}}var Xo=e=>e==="reset"||e==="none",yl=(e,i)=>i?e:Object.assign({},e),Uu=(e,i,t)=>e&&!i.hidden&&i._stacked&&{keys:gf(t,!0),values:null},Jt=(()=>{class e{static defaults={};static datasetElementType=null;static dataElementType=null;constructor(t,n){this.chart=t,this._ctx=t.ctx,this.index=n,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){let t=this._cachedMeta;this.configure(),this.linkScales(),t._stacked=ml(t.vScale,t),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(t){this.index!==t&&ji(this._cachedMeta),this.index=t}linkScales(){let t=this.chart,n=this._cachedMeta,s=this.getDataset(),o=(d,u,p,g)=>d==="x"?u:d==="r"?g:p,a=n.xAxisID=z(s.xAxisID,Uo(t,"x")),r=n.yAxisID=z(s.yAxisID,Uo(t,"y")),c=n.rAxisID=z(s.rAxisID,Uo(t,"r")),l=n.indexAxis,f=n.iAxisID=o(l,a,r,c),h=n.vAxisID=o(l,r,a,c);n.xScale=this.getScaleForId(a),n.yScale=this.getScaleForId(r),n.rScale=this.getScaleForId(c),n.iScale=this.getScaleForId(f),n.vScale=this.getScaleForId(h)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(t){return this.chart.scales[t]}_getOtherScale(t){let n=this._cachedMeta;return t===n.iScale?n.vScale:n.iScale}reset(){this._update("reset")}_destroy(){let t=this._cachedMeta;this._data&&Wn(this._data,this),t._stacked&&ji(t)}_dataCheck(){let t=this.getDataset(),n=t.data||(t.data=[]),s=this._data;if(W(n)){let o=this._cachedMeta;this._data=Wu(n,o)}else if(s!==n){if(s){Wn(s,this);let o=this._cachedMeta;ji(o),o._parsed=[]}n&&Object.isExtensible(n)&&To(n,this),this._syncList=[],this._data=n}}addElements(){let t=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(t.dataset=new this.datasetElementType)}buildOrUpdateElements(t){let n=this._cachedMeta,s=this.getDataset(),o=!1;this._dataCheck();let a=n._stacked;n._stacked=ml(n.vScale,n),n.stack!==s.stack&&(o=!0,ji(n),n.stack=s.stack),this._resyncElements(t),(o||a!==n._stacked)&&xl(this,n._parsed)}configure(){let t=this.chart.config,n=t.datasetScopeKeys(this._type),s=t.getOptionScopes(this.getDataset(),n,!0);this.options=t.createResolver(s,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(t,n){let{_cachedMeta:s,_data:o}=this,{iScale:a,_stacked:r}=s,c=a.axis,l=t===0&&n===o.length?!0:s._sorted,f=t>0&&s._parsed[t-1],h,d,u;if(this._parsing===!1)s._parsed=o,s._sorted=!0,u=o;else{K(o[t])?u=this.parseArrayData(s,o,t,n):W(o[t])?u=this.parseObjectData(s,o,t,n):u=this.parsePrimitiveData(s,o,t,n);let p=()=>d[c]===null||f&&d[c]<f[c];for(h=0;h<n;++h)s._parsed[h+t]=d=u[h],l&&(p()&&(l=!1),f=d);s._sorted=l}r&&xl(this,u)}parsePrimitiveData(t,n,s,o){let{iScale:a,vScale:r}=t,c=a.axis,l=r.axis,f=a.getLabels(),h=a===r,d=new Array(o),u,p,g;for(u=0,p=o;u<p;++u)g=u+s,d[u]={[c]:h||a.parse(f[g],g),[l]:r.parse(n[g],g)};return d}parseArrayData(t,n,s,o){let{xScale:a,yScale:r}=t,c=new Array(o),l,f,h,d;for(l=0,f=o;l<f;++l)h=l+s,d=n[h],c[l]={x:a.parse(d[0],h),y:r.parse(d[1],h)};return c}parseObjectData(t,n,s,o){let{xScale:a,yScale:r}=t,{xAxisKey:c="x",yAxisKey:l="y"}=this._parsing,f=new Array(o),h,d,u,p;for(h=0,d=o;h<d;++h)u=h+s,p=n[u],f[h]={x:a.parse(Yt(p,c),u),y:r.parse(Yt(p,l),u)};return f}getParsed(t){return this._cachedMeta._parsed[t]}getDataElement(t){return this._cachedMeta.data[t]}applyStack(t,n,s){let o=this.chart,a=this._cachedMeta,r=n[t.axis],c={keys:gf(o,!0),values:n._stacks[t.axis]._visualValues};return gl(c,r,a.index,{mode:s})}updateRangeFromParsed(t,n,s,o){let a=s[n.axis],r=a===null?NaN:a,c=o&&s._stacks[n.axis];o&&c&&(o.values=c,r=gl(o,a,this._cachedMeta.index)),t.min=Math.min(t.min,r),t.max=Math.max(t.max,r)}getMinMax(t,n){let s=this._cachedMeta,o=s._parsed,a=s._sorted&&t===s.iScale,r=o.length,c=this._getOtherScale(t),l=Uu(n,s,this.chart),f={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:h,max:d}=$u(c),u,p;function g(){p=o[u];let m=p[c.axis];return!et(p[t.axis])||h>m||d<m}for(u=0;u<r&&!(!g()&&(this.updateRangeFromParsed(f,t,p,l),a));++u);if(a){for(u=r-1;u>=0;--u)if(!g()){this.updateRangeFromParsed(f,t,p,l);break}}return f}getAllParsedValues(t){let n=this._cachedMeta._parsed,s=[],o,a,r;for(o=0,a=n.length;o<a;++o)r=n[o][t.axis],et(r)&&s.push(r);return s}getMaxOverflow(){return!1}getLabelAndValue(t){let n=this._cachedMeta,s=n.iScale,o=n.vScale,a=this.getParsed(t);return{label:s?""+s.getLabelForValue(a[s.axis]):"",value:o?""+o.getLabelForValue(a[o.axis]):""}}_update(t){let n=this._cachedMeta;this.update(t||"default"),n._clip=ju(z(this.options.clip,Vu(n.xScale,n.yScale,this.getMaxOverflow())))}update(t){}draw(){let t=this._ctx,n=this.chart,s=this._cachedMeta,o=s.data||[],a=n.chartArea,r=[],c=this._drawStart||0,l=this._drawCount||o.length-c,f=this.options.drawActiveElementsOnTop,h;for(s.dataset&&s.dataset.draw(t,a,c,l),h=c;h<c+l;++h){let d=o[h];d.hidden||(d.active&&f?r.push(d):d.draw(t,a))}for(h=0;h<r.length;++h)r[h].draw(t,a)}getStyle(t,n){let s=n?"active":"default";return t===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(s):this.resolveDataElementOptions(t||0,s)}getContext(t,n,s){let o=this.getDataset(),a;if(t>=0&&t<this._cachedMeta.data.length){let r=this._cachedMeta.data[t];a=r.$context||(r.$context=Yu(this.getContext(),t,r)),a.parsed=this.getParsed(t),a.raw=o.data[t],a.index=a.dataIndex=t}else a=this.$context||(this.$context=qu(this.chart.getContext(),this.index)),a.dataset=o,a.index=a.datasetIndex=this.index;return a.active=!!n,a.mode=s,a}resolveDatasetElementOptions(t){return this._resolveElementOptions(this.datasetElementType.id,t)}resolveDataElementOptions(t,n){return this._resolveElementOptions(this.dataElementType.id,n,t)}_resolveElementOptions(t,n="default",s){let o=n==="active",a=this._cachedDataOpts,r=t+"-"+n,c=a[r],l=this.enableOptionSharing&&ze(s);if(c)return yl(c,l);let f=this.chart.config,h=f.datasetElementScopeKeys(this._type,t),d=o?[`${t}Hover`,"hover",t,""]:[t,""],u=f.getOptionScopes(this.getDataset(),h),p=Object.keys(nt.elements[t]),g=()=>this.getContext(s,o,n),m=f.resolveNamedOptions(u,p,g,d);return m.$shared&&(m.$shared=l,a[r]=Object.freeze(yl(m,l))),m}_resolveAnimations(t,n,s){let o=this.chart,a=this._cachedDataOpts,r=`animation-${n}`,c=a[r];if(c)return c;let l;if(o.options.animation!==!1){let h=this.chart.config,d=h.datasetAnimationScopeKeys(this._type,n),u=h.getOptionScopes(this.getDataset(),d);l=h.createResolver(u,this.getContext(t,s,n))}let f=new xs(o,l&&l.animations);return l&&l._cacheable&&(a[r]=Object.freeze(f)),f}getSharedOptions(t){if(t.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},t))}includeOptions(t,n){return!n||Xo(t)||this.chart._animationsDisabled}_getSharedOptions(t,n){let s=this.resolveDataElementOptions(t,n),o=this._sharedOptions,a=this.getSharedOptions(s),r=this.includeOptions(n,a)||a!==o;return this.updateSharedOptions(a,n,s),{sharedOptions:a,includeOptions:r}}updateElement(t,n,s,o){Xo(o)?Object.assign(t,s):this._resolveAnimations(n,o).update(t,s)}updateSharedOptions(t,n,s){t&&!Xo(n)&&this._resolveAnimations(void 0,n).update(t,s)}_setStyle(t,n,s,o){t.active=o;let a=this.getStyle(n,o);this._resolveAnimations(n,s,o).update(t,{options:!o&&this.getSharedOptions(a)||a})}removeHoverStyle(t,n,s){this._setStyle(t,s,"active",!1)}setHoverStyle(t,n,s){this._setStyle(t,s,"active",!0)}_removeDatasetHoverStyle(){let t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!1)}_setDatasetHoverStyle(){let t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!0)}_resyncElements(t){let n=this._data,s=this._cachedMeta.data;for(let[c,l,f]of this._syncList)this[c](l,f);this._syncList=[];let o=s.length,a=n.length,r=Math.min(a,o);r&&this.parse(0,r),a>o?this._insertElements(o,a-o,t):a<o&&this._removeElements(a,o-a)}_insertElements(t,n,s=!0){let o=this._cachedMeta,a=o.data,r=t+n,c,l=f=>{for(f.length+=n,c=f.length-1;c>=r;c--)f[c]=f[c-n]};for(l(a),c=t;c<r;++c)a[c]=new this.dataElementType;this._parsing&&l(o._parsed),this.parse(t,n),s&&this.updateElements(a,t,n,"reset")}updateElements(t,n,s,o){}_removeElements(t,n){let s=this._cachedMeta;if(this._parsing){let o=s._parsed.splice(t,n);s._stacked&&ji(s,o)}s.data.splice(t,n)}_sync(t){if(this._parsing)this._syncList.push(t);else{let[n,s,o]=t;this[n](s,o)}this.chart._dataChanges.push([this.index,...t])}_onDataPush(){let t=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-t,t])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(t,n){n&&this._sync(["_removeElements",t,n]);let s=arguments.length-2;s&&this._sync(["_insertElements",t,s])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}return e})();function Xu(e,i){if(!e._cache.$bar){let t=e.getMatchingVisibleMetas(i),n=[];for(let s=0,o=t.length;s<o;s++)n=n.concat(t[s].controller.getAllParsedValues(e));e._cache.$bar=Hn(n.sort((s,o)=>s-o))}return e._cache.$bar}function Ku(e){let i=e.iScale,t=Xu(i,e.type),n=i._length,s,o,a,r,c=()=>{a===32767||a===-32768||(ze(r)&&(n=Math.min(n,Math.abs(a-r)||n)),r=a)};for(s=0,o=t.length;s<o;++s)a=i.getPixelForValue(t[s]),c();for(r=void 0,s=0,o=i.ticks.length;s<o;++s)a=i.getPixelForTick(s),c();return n}function Zu(e,i,t,n){let s=t.barThickness,o,a;return $(s)?(o=i.min*t.categoryPercentage,a=t.barPercentage):(o=s*n,a=1),{chunk:o/n,ratio:a,start:i.pixels[e]-o/2}}function Ju(e,i,t,n){let s=i.pixels,o=s[e],a=e>0?s[e-1]:null,r=e<s.length-1?s[e+1]:null,c=t.categoryPercentage;a===null&&(a=o-(r===null?i.end-i.start:r-o)),r===null&&(r=o+o-a);let l=o-(o-Math.min(a,r))/2*c;return{chunk:Math.abs(r-a)/2*c/n,ratio:t.barPercentage,start:l}}function Qu(e,i,t,n){let s=t.parse(e[0],n),o=t.parse(e[1],n),a=Math.min(s,o),r=Math.max(s,o),c=a,l=r;Math.abs(a)>Math.abs(r)&&(c=r,l=a),i[t.axis]=l,i._custom={barStart:c,barEnd:l,start:s,end:o,min:a,max:r}}function mf(e,i,t,n){return K(e)?Qu(e,i,t,n):i[t.axis]=t.parse(e,n),i}function _l(e,i,t,n){let s=e.iScale,o=e.vScale,a=s.getLabels(),r=s===o,c=[],l,f,h,d;for(l=t,f=t+n;l<f;++l)d=i[l],h={},h[s.axis]=r||s.parse(a[l],l),c.push(mf(d,h,o,l));return c}function Ko(e){return e&&e.barStart!==void 0&&e.barEnd!==void 0}function tp(e,i,t){return e!==0?Lt(e):(i.isHorizontal()?1:-1)*(i.min>=t?1:-1)}function ep(e){let i,t,n,s,o;return e.horizontal?(i=e.base>e.x,t="left",n="right"):(i=e.base<e.y,t="bottom",n="top"),i?(s="end",o="start"):(s="start",o="end"),{start:t,end:n,reverse:i,top:s,bottom:o}}function ip(e,i,t,n){let s=i.borderSkipped,o={};if(!s){e.borderSkipped=o;return}if(s===!0){e.borderSkipped={top:!0,right:!0,bottom:!0,left:!0};return}let{start:a,end:r,reverse:c,top:l,bottom:f}=ep(e);s==="middle"&&t&&(e.enableBorderRadius=!0,(t._top||0)===n?s=l:(t._bottom||0)===n?s=f:(o[vl(f,a,r,c)]=!0,s=l)),o[vl(s,a,r,c)]=!0,e.borderSkipped=o}function vl(e,i,t,n){return n?(e=np(e,i,t),e=wl(e,t,i)):e=wl(e,i,t),e}function np(e,i,t){return e===i?t:e===t?i:e}function wl(e,i,t){return e==="start"?i:e==="end"?t:e}function sp(e,{inflateAmount:i},t){e.inflateAmount=i==="auto"?t===1?.33:0:i}var op=(()=>{class e extends Jt{static id="bar";static defaults={datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}};static overrides={scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}};parsePrimitiveData(t,n,s,o){return _l(t,n,s,o)}parseArrayData(t,n,s,o){return _l(t,n,s,o)}parseObjectData(t,n,s,o){let{iScale:a,vScale:r}=t,{xAxisKey:c="x",yAxisKey:l="y"}=this._parsing,f=a.axis==="x"?c:l,h=r.axis==="x"?c:l,d=[],u,p,g,m;for(u=s,p=s+o;u<p;++u)m=n[u],g={},g[a.axis]=a.parse(Yt(m,f),u),d.push(mf(Yt(m,h),g,r,u));return d}updateRangeFromParsed(t,n,s,o){super.updateRangeFromParsed(t,n,s,o);let a=s._custom;a&&n===this._cachedMeta.vScale&&(t.min=Math.min(t.min,a.min),t.max=Math.max(t.max,a.max))}getMaxOverflow(){return 0}getLabelAndValue(t){let n=this._cachedMeta,{iScale:s,vScale:o}=n,a=this.getParsed(t),r=a._custom,c=Ko(r)?"["+r.start+", "+r.end+"]":""+o.getLabelForValue(a[o.axis]);return{label:""+s.getLabelForValue(a[s.axis]),value:c}}initialize(){this.enableOptionSharing=!0,super.initialize();let t=this._cachedMeta;t.stack=this.getDataset().stack}update(t){let n=this._cachedMeta;this.updateElements(n.data,0,n.data.length,t)}updateElements(t,n,s,o){let a=o==="reset",{index:r,_cachedMeta:{vScale:c}}=this,l=c.getBasePixel(),f=c.isHorizontal(),h=this._getRuler(),{sharedOptions:d,includeOptions:u}=this._getSharedOptions(n,o);for(let p=n;p<n+s;p++){let g=this.getParsed(p),m=a||$(g[c.axis])?{base:l,head:l}:this._calculateBarValuePixels(p),b=this._calculateBarIndexPixels(p,h),x=(g._stacks||{})[c.axis],y={horizontal:f,base:m.base,enableBorderRadius:!x||Ko(g._custom)||r===x._top||r===x._bottom,x:f?m.head:b.center,y:f?b.center:m.head,height:f?b.size:Math.abs(m.size),width:f?Math.abs(m.size):b.size};u&&(y.options=d||this.resolveDataElementOptions(p,t[p].active?"active":o));let v=y.options||t[p].options;ip(y,v,x,r),sp(y,v,h.ratio),this.updateElement(t[p],p,y,o)}}_getStacks(t,n){let{iScale:s}=this._cachedMeta,o=s.getMatchingVisibleMetas(this._type).filter(l=>l.controller.options.grouped),a=s.options.stacked,r=[],c=l=>{let f=l.controller.getParsed(n),h=f&&f[l.vScale.axis];if($(h)||isNaN(h))return!0};for(let l of o)if(!(n!==void 0&&c(l))&&((a===!1||r.indexOf(l.stack)===-1||a===void 0&&l.stack===void 0)&&r.push(l.stack),l.index===t))break;return r.length||r.push(void 0),r}_getStackCount(t){return this._getStacks(void 0,t).length}_getStackIndex(t,n,s){let o=this._getStacks(t,s),a=n!==void 0?o.indexOf(n):-1;return a===-1?o.length-1:a}_getRuler(){let t=this.options,n=this._cachedMeta,s=n.iScale,o=[],a,r;for(a=0,r=n.data.length;a<r;++a)o.push(s.getPixelForValue(this.getParsed(a)[s.axis],a));let c=t.barThickness;return{min:c||Ku(n),pixels:o,start:s._startPixel,end:s._endPixel,stackCount:this._getStackCount(),scale:s,grouped:t.grouped,ratio:c?1:t.categoryPercentage*t.barPercentage}}_calculateBarValuePixels(t){let{_cachedMeta:{vScale:n,_stacked:s,index:o},options:{base:a,minBarLength:r}}=this,c=a||0,l=this.getParsed(t),f=l._custom,h=Ko(f),d=l[n.axis],u=0,p=s?this.applyStack(n,l,s):d,g,m;p!==d&&(u=p-d,p=d),h&&(d=f.barStart,p=f.barEnd-f.barStart,d!==0&&Lt(d)!==Lt(f.barEnd)&&(u=0),u+=d);let b=!$(a)&&!h?a:u,x=n.getPixelForValue(b);if(this.chart.getDataVisibility(t)?g=n.getPixelForValue(u+p):g=x,m=g-x,Math.abs(m)<r){m=tp(m,n,c)*r,d===c&&(x-=m/2);let y=n.getPixelForDecimal(0),v=n.getPixelForDecimal(1),_=Math.min(y,v),w=Math.max(y,v);x=Math.max(Math.min(x,w),_),g=x+m,s&&!h&&(l._stacks[n.axis]._visualValues[o]=n.getValueForPixel(g)-n.getValueForPixel(x))}if(x===n.getPixelForValue(c)){let y=Lt(m)*n.getLineWidthForValue(c)/2;x+=y,m-=y}return{size:m,base:x,head:g,center:g+m/2}}_calculateBarIndexPixels(t,n){let s=n.scale,o=this.options,a=o.skipNull,r=z(o.maxBarThickness,1/0),c,l;if(n.grouped){let f=a?this._getStackCount(t):n.stackCount,h=o.barThickness==="flex"?Ju(t,n,o,f):Zu(t,n,o,f),d=this._getStackIndex(this.index,this._cachedMeta.stack,a?t:void 0);c=h.start+h.chunk*d+h.chunk/2,l=Math.min(r,h.chunk*h.ratio)}else c=s.getPixelForValue(this.getParsed(t)[s.axis],t),l=Math.min(r,n.min*n.ratio);return{base:c-l/2,head:c+l/2,center:c,size:l}}draw(){let t=this._cachedMeta,n=t.vScale,s=t.data,o=s.length,a=0;for(;a<o;++a)this.getParsed(a)[n.axis]!==null&&!s[a].hidden&&s[a].draw(this._ctx)}}return e})(),ap=(()=>{class e extends Jt{static id="bubble";static defaults={datasetElementType:!1,dataElementType:"point",animations:{numbers:{type:"number",properties:["x","y","borderWidth","radius"]}}};static overrides={scales:{x:{type:"linear"},y:{type:"linear"}}};initialize(){this.enableOptionSharing=!0,super.initialize()}parsePrimitiveData(t,n,s,o){let a=super.parsePrimitiveData(t,n,s,o);for(let r=0;r<a.length;r++)a[r]._custom=this.resolveDataElementOptions(r+s).radius;return a}parseArrayData(t,n,s,o){let a=super.parseArrayData(t,n,s,o);for(let r=0;r<a.length;r++){let c=n[s+r];a[r]._custom=z(c[2],this.resolveDataElementOptions(r+s).radius)}return a}parseObjectData(t,n,s,o){let a=super.parseObjectData(t,n,s,o);for(let r=0;r<a.length;r++){let c=n[s+r];a[r]._custom=z(c&&c.r&&+c.r,this.resolveDataElementOptions(r+s).radius)}return a}getMaxOverflow(){let t=this._cachedMeta.data,n=0;for(let s=t.length-1;s>=0;--s)n=Math.max(n,t[s].size(this.resolveDataElementOptions(s))/2);return n>0&&n}getLabelAndValue(t){let n=this._cachedMeta,s=this.chart.data.labels||[],{xScale:o,yScale:a}=n,r=this.getParsed(t),c=o.getLabelForValue(r.x),l=a.getLabelForValue(r.y),f=r._custom;return{label:s[t]||"",value:"("+c+", "+l+(f?", "+f:"")+")"}}update(t){let n=this._cachedMeta.data;this.updateElements(n,0,n.length,t)}updateElements(t,n,s,o){let a=o==="reset",{iScale:r,vScale:c}=this._cachedMeta,{sharedOptions:l,includeOptions:f}=this._getSharedOptions(n,o),h=r.axis,d=c.axis;for(let u=n;u<n+s;u++){let p=t[u],g=!a&&this.getParsed(u),m={},b=m[h]=a?r.getPixelForDecimal(.5):r.getPixelForValue(g[h]),x=m[d]=a?c.getBasePixel():c.getPixelForValue(g[d]);m.skip=isNaN(b)||isNaN(x),f&&(m.options=l||this.resolveDataElementOptions(u,p.active?"active":o),a&&(m.options.radius=0)),this.updateElement(p,u,m,o)}}resolveDataElementOptions(t,n){let s=this.getParsed(t),o=super.resolveDataElementOptions(t,n);o.$shared&&(o=Object.assign({},o,{$shared:!1}));let a=o.radius;return n!=="active"&&(o.radius=0),o.radius+=z(s&&s._custom,a),o}}return e})();function rp(e,i,t){let n=1,s=1,o=0,a=0;if(i<J){let r=e,c=r+i,l=Math.cos(r),f=Math.sin(r),h=Math.cos(c),d=Math.sin(c),u=(y,v,_)=>Fe(y,r,c,!0)?1:Math.max(v,v*t,_,_*t),p=(y,v,_)=>Fe(y,r,c,!0)?-1:Math.min(v,v*t,_,_*t),g=u(0,l,h),m=u(it,f,d),b=p(Z,l,h),x=p(Z+it,f,d);n=(g-b)/2,s=(m-x)/2,o=-(g+b)/2,a=-(m+x)/2}return{ratioX:n,ratioY:s,offsetX:o,offsetY:a}}var va=(()=>{class e extends Jt{static id="doughnut";static defaults={datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"};static descriptors={_scriptable:t=>t!=="spacing",_indexable:t=>t!=="spacing"&&!t.startsWith("borderDash")&&!t.startsWith("hoverBorderDash")};static overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(t){let n=t.data;if(n.labels.length&&n.datasets.length){let{labels:{pointStyle:s,color:o}}=t.legend.options;return n.labels.map((a,r)=>{let l=t.getDatasetMeta(0).controller.getStyle(r);return{text:a,fillStyle:l.backgroundColor,strokeStyle:l.borderColor,fontColor:o,lineWidth:l.borderWidth,pointStyle:s,hidden:!t.getDataVisibility(r),index:r}})}return[]}},onClick(t,n,s){s.chart.toggleDataVisibility(n.index),s.chart.update()}}}};constructor(t,n){super(t,n),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(t,n){let s=this.getDataset().data,o=this._cachedMeta;if(this._parsing===!1)o._parsed=s;else{let a=l=>+s[l];if(W(s[t])){let{key:l="value"}=this._parsing;a=f=>+Yt(s[f],l)}let r,c;for(r=t,c=t+n;r<c;++r)o._parsed[r]=a(r)}}_getRotation(){return At(this.options.rotation-90)}_getCircumference(){return At(this.options.circumference)}_getRotationExtents(){let t=J,n=-J;for(let s=0;s<this.chart.data.datasets.length;++s)if(this.chart.isDatasetVisible(s)&&this.chart.getDatasetMeta(s).type===this._type){let o=this.chart.getDatasetMeta(s).controller,a=o._getRotation(),r=o._getCircumference();t=Math.min(t,a),n=Math.max(n,a+r)}return{rotation:t,circumference:n-t}}update(t){let n=this.chart,{chartArea:s}=n,o=this._cachedMeta,a=o.data,r=this.getMaxBorderWidth()+this.getMaxOffset(a)+this.options.spacing,c=Math.max((Math.min(s.width,s.height)-r)/2,0),l=Math.min(ko(this.options.cutout,c),1),f=this._getRingWeight(this.index),{circumference:h,rotation:d}=this._getRotationExtents(),{ratioX:u,ratioY:p,offsetX:g,offsetY:m}=rp(d,h,l),b=(s.width-r)/u,x=(s.height-r)/p,y=Math.max(Math.min(b,x)/2,0),v=zn(this.options.radius,y),_=Math.max(v*l,0),w=(v-_)/this._getVisibleDatasetWeightTotal();this.offsetX=g*v,this.offsetY=m*v,o.total=this.calculateTotal(),this.outerRadius=v-w*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-w*f,0),this.updateElements(a,0,a.length,t)}_circumference(t,n){let s=this.options,o=this._cachedMeta,a=this._getCircumference();return n&&s.animation.animateRotate||!this.chart.getDataVisibility(t)||o._parsed[t]===null||o.data[t].hidden?0:this.calculateCircumference(o._parsed[t]*a/J)}updateElements(t,n,s,o){let a=o==="reset",r=this.chart,c=r.chartArea,f=r.options.animation,h=(c.left+c.right)/2,d=(c.top+c.bottom)/2,u=a&&f.animateScale,p=u?0:this.innerRadius,g=u?0:this.outerRadius,{sharedOptions:m,includeOptions:b}=this._getSharedOptions(n,o),x=this._getRotation(),y;for(y=0;y<n;++y)x+=this._circumference(y,a);for(y=n;y<n+s;++y){let v=this._circumference(y,a),_=t[y],w={x:h+this.offsetX,y:d+this.offsetY,startAngle:x,endAngle:x+v,circumference:v,outerRadius:g,innerRadius:p};b&&(w.options=m||this.resolveDataElementOptions(y,_.active?"active":o)),x+=v,this.updateElement(_,y,w,o)}}calculateTotal(){let t=this._cachedMeta,n=t.data,s=0,o;for(o=0;o<n.length;o++){let a=t._parsed[o];a!==null&&!isNaN(a)&&this.chart.getDataVisibility(o)&&!n[o].hidden&&(s+=Math.abs(a))}return s}calculateCircumference(t){let n=this._cachedMeta.total;return n>0&&!isNaN(t)?J*(Math.abs(t)/n):0}getLabelAndValue(t){let n=this._cachedMeta,s=this.chart,o=s.data.labels||[],a=Ne(n._parsed[t],s.options.locale);return{label:o[t]||"",value:a}}getMaxBorderWidth(t){let n=0,s=this.chart,o,a,r,c,l;if(!t){for(o=0,a=s.data.datasets.length;o<a;++o)if(s.isDatasetVisible(o)){r=s.getDatasetMeta(o),t=r.data,c=r.controller;break}}if(!t)return 0;for(o=0,a=t.length;o<a;++o)l=c.resolveDataElementOptions(o),l.borderAlign!=="inner"&&(n=Math.max(n,l.borderWidth||0,l.hoverBorderWidth||0));return n}getMaxOffset(t){let n=0;for(let s=0,o=t.length;s<o;++s){let a=this.resolveDataElementOptions(s);n=Math.max(n,a.offset||0,a.hoverOffset||0)}return n}_getRingWeightOffset(t){let n=0;for(let s=0;s<t;++s)this.chart.isDatasetVisible(s)&&(n+=this._getRingWeight(s));return n}_getRingWeight(t){return Math.max(z(this.chart.data.datasets[t].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}return e})(),cp=(()=>{class e extends Jt{static id="line";static defaults={datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1};static overrides={scales:{_index_:{type:"category"},_value_:{type:"linear"}}};initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(t){let n=this._cachedMeta,{dataset:s,data:o=[],_dataset:a}=n,r=this.chart._animationsDisabled,{start:c,count:l}=qn(n,o,r);this._drawStart=c,this._drawCount=l,Yn(n)&&(c=0,l=o.length),s._chart=this.chart,s._datasetIndex=this.index,s._decimated=!!a._decimated,s.points=o;let f=this.resolveDatasetElementOptions(t);this.options.showLine||(f.borderWidth=0),f.segment=this.options.segment,this.updateElement(s,void 0,{animated:!r,options:f},t),this.updateElements(o,c,l,t)}updateElements(t,n,s,o){let a=o==="reset",{iScale:r,vScale:c,_stacked:l,_dataset:f}=this._cachedMeta,{sharedOptions:h,includeOptions:d}=this._getSharedOptions(n,o),u=r.axis,p=c.axis,{spanGaps:g,segment:m}=this.options,b=Me(g)?g:Number.POSITIVE_INFINITY,x=this.chart._animationsDisabled||a||o==="none",y=n+s,v=t.length,_=n>0&&this.getParsed(n-1);for(let w=0;w<v;++w){let P=t[w],S=x?P:{};if(w<n||w>=y){S.skip=!0;continue}let k=this.getParsed(w),E=$(k[p]),C=S[u]=r.getPixelForValue(k[u],w),I=S[p]=a||E?c.getBasePixel():c.getPixelForValue(l?this.applyStack(c,k,l):k[p],w);S.skip=isNaN(C)||isNaN(I)||E,S.stop=w>0&&Math.abs(k[u]-_[u])>b,m&&(S.parsed=k,S.raw=f.data[w]),d&&(S.options=h||this.resolveDataElementOptions(w,P.active?"active":o)),x||this.updateElement(P,w,S,o),_=k}}getMaxOverflow(){let t=this._cachedMeta,n=t.dataset,s=n.options&&n.options.borderWidth||0,o=t.data||[];if(!o.length)return s;let a=o[0].size(this.resolveDataElementOptions(0)),r=o[o.length-1].size(this.resolveDataElementOptions(o.length-1));return Math.max(s,a,r)/2}draw(){let t=this._cachedMeta;t.dataset.updateControlPoints(this.chart.chartArea,t.iScale.axis),super.draw()}}return e})(),bf=(()=>{class e extends Jt{static id="polarArea";static defaults={dataElementType:"arc",animation:{animateRotate:!0,animateScale:!0},animations:{numbers:{type:"number",properties:["x","y","startAngle","endAngle","innerRadius","outerRadius"]}},indexAxis:"r",startAngle:0};static overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(t){let n=t.data;if(n.labels.length&&n.datasets.length){let{labels:{pointStyle:s,color:o}}=t.legend.options;return n.labels.map((a,r)=>{let l=t.getDatasetMeta(0).controller.getStyle(r);return{text:a,fillStyle:l.backgroundColor,strokeStyle:l.borderColor,fontColor:o,lineWidth:l.borderWidth,pointStyle:s,hidden:!t.getDataVisibility(r),index:r}})}return[]}},onClick(t,n,s){s.chart.toggleDataVisibility(n.index),s.chart.update()}}},scales:{r:{type:"radialLinear",angleLines:{display:!1},beginAtZero:!0,grid:{circular:!0},pointLabels:{display:!1},startAngle:0}}};constructor(t,n){super(t,n),this.innerRadius=void 0,this.outerRadius=void 0}getLabelAndValue(t){let n=this._cachedMeta,s=this.chart,o=s.data.labels||[],a=Ne(n._parsed[t].r,s.options.locale);return{label:o[t]||"",value:a}}parseObjectData(t,n,s,o){return es.bind(this)(t,n,s,o)}update(t){let n=this._cachedMeta.data;this._updateRadius(),this.updateElements(n,0,n.length,t)}getMinMax(){let t=this._cachedMeta,n={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY};return t.data.forEach((s,o)=>{let a=this.getParsed(o).r;!isNaN(a)&&this.chart.getDataVisibility(o)&&(a<n.min&&(n.min=a),a>n.max&&(n.max=a))}),n}_updateRadius(){let t=this.chart,n=t.chartArea,s=t.options,o=Math.min(n.right-n.left,n.bottom-n.top),a=Math.max(o/2,0),r=Math.max(s.cutoutPercentage?a/100*s.cutoutPercentage:1,0),c=(a-r)/t.getVisibleDatasetCount();this.outerRadius=a-c*this.index,this.innerRadius=this.outerRadius-c}updateElements(t,n,s,o){let a=o==="reset",r=this.chart,l=r.options.animation,f=this._cachedMeta.rScale,h=f.xCenter,d=f.yCenter,u=f.getIndexAngle(0)-.5*Z,p=u,g,m=360/this.countVisibleElements();for(g=0;g<n;++g)p+=this._computeAngle(g,o,m);for(g=n;g<n+s;g++){let b=t[g],x=p,y=p+this._computeAngle(g,o,m),v=r.getDataVisibility(g)?f.getDistanceFromCenterForValue(this.getParsed(g).r):0;p=y,a&&(l.animateScale&&(v=0),l.animateRotate&&(x=y=u));let _={x:h,y:d,innerRadius:0,outerRadius:v,startAngle:x,endAngle:y,options:this.resolveDataElementOptions(g,b.active?"active":o)};this.updateElement(b,g,_,o)}}countVisibleElements(){let t=this._cachedMeta,n=0;return t.data.forEach((s,o)=>{!isNaN(this.getParsed(o).r)&&this.chart.getDataVisibility(o)&&n++}),n}_computeAngle(t,n,s){return this.chart.getDataVisibility(t)?At(this.resolveDataElementOptions(t,n).angle||s):0}}return e})(),lp=(()=>{class e extends va{static id="pie";static defaults={cutout:0,rotation:0,circumference:360,radius:"100%"}}return e})(),fp=(()=>{class e extends Jt{static id="radar";static defaults={datasetElementType:"line",dataElementType:"point",indexAxis:"r",showLine:!0,elements:{line:{fill:"start"}}};static overrides={aspectRatio:1,scales:{r:{type:"radialLinear"}}};getLabelAndValue(t){let n=this._cachedMeta.vScale,s=this.getParsed(t);return{label:n.getLabels()[t],value:""+n.getLabelForValue(s[n.axis])}}parseObjectData(t,n,s,o){return es.bind(this)(t,n,s,o)}update(t){let n=this._cachedMeta,s=n.dataset,o=n.data||[],a=n.iScale.getLabels();if(s.points=o,t!=="resize"){let r=this.resolveDatasetElementOptions(t);this.options.showLine||(r.borderWidth=0);let c={_loop:!0,_fullLoop:a.length===o.length,options:r};this.updateElement(s,void 0,c,t)}this.updateElements(o,0,o.length,t)}updateElements(t,n,s,o){let a=this._cachedMeta.rScale,r=o==="reset";for(let c=n;c<n+s;c++){let l=t[c],f=this.resolveDataElementOptions(c,l.active?"active":o),h=a.getPointPositionForValue(c,this.getParsed(c).r),d=r?a.xCenter:h.x,u=r?a.yCenter:h.y,p={x:d,y:u,angle:h.angle,skip:isNaN(d)||isNaN(u),options:f};this.updateElement(l,c,p,o)}}}return e})(),hp=(()=>{class e extends Jt{static id="scatter";static defaults={datasetElementType:!1,dataElementType:"point",showLine:!1,fill:!1};static overrides={interaction:{mode:"point"},scales:{x:{type:"linear"},y:{type:"linear"}}};getLabelAndValue(t){let n=this._cachedMeta,s=this.chart.data.labels||[],{xScale:o,yScale:a}=n,r=this.getParsed(t),c=o.getLabelForValue(r.x),l=a.getLabelForValue(r.y);return{label:s[t]||"",value:"("+c+", "+l+")"}}update(t){let n=this._cachedMeta,{data:s=[]}=n,o=this.chart._animationsDisabled,{start:a,count:r}=qn(n,s,o);if(this._drawStart=a,this._drawCount=r,Yn(n)&&(a=0,r=s.length),this.options.showLine){this.datasetElementType||this.addElements();let{dataset:c,_dataset:l}=n;c._chart=this.chart,c._datasetIndex=this.index,c._decimated=!!l._decimated,c.points=s;let f=this.resolveDatasetElementOptions(t);f.segment=this.options.segment,this.updateElement(c,void 0,{animated:!o,options:f},t)}else this.datasetElementType&&(delete n.dataset,this.datasetElementType=!1);this.updateElements(s,a,r,t)}addElements(){let{showLine:t}=this.options;!this.datasetElementType&&t&&(this.datasetElementType=this.chart.registry.getElement("line")),super.addElements()}updateElements(t,n,s,o){let a=o==="reset",{iScale:r,vScale:c,_stacked:l,_dataset:f}=this._cachedMeta,h=this.resolveDataElementOptions(n,o),d=this.getSharedOptions(h),u=this.includeOptions(o,d),p=r.axis,g=c.axis,{spanGaps:m,segment:b}=this.options,x=Me(m)?m:Number.POSITIVE_INFINITY,y=this.chart._animationsDisabled||a||o==="none",v=n>0&&this.getParsed(n-1);for(let _=n;_<n+s;++_){let w=t[_],P=this.getParsed(_),S=y?w:{},k=$(P[g]),E=S[p]=r.getPixelForValue(P[p],_),C=S[g]=a||k?c.getBasePixel():c.getPixelForValue(l?this.applyStack(c,P,l):P[g],_);S.skip=isNaN(E)||isNaN(C)||k,S.stop=_>0&&Math.abs(P[p]-v[p])>x,b&&(S.parsed=P,S.raw=f.data[_]),u&&(S.options=d||this.resolveDataElementOptions(_,w.active?"active":o)),y||this.updateElement(w,_,S,o),v=P}this.updateSharedOptions(d,o,h)}getMaxOverflow(){let t=this._cachedMeta,n=t.data||[];if(!this.options.showLine){let c=0;for(let l=n.length-1;l>=0;--l)c=Math.max(c,n[l].size(this.resolveDataElementOptions(l))/2);return c>0&&c}let s=t.dataset,o=s.options&&s.options.borderWidth||0;if(!n.length)return o;let a=n[0].size(this.resolveDataElementOptions(0)),r=n[n.length-1].size(this.resolveDataElementOptions(n.length-1));return Math.max(o,a,r)/2}}return e})(),dp=Object.freeze({__proto__:null,BarController:op,BubbleController:ap,DoughnutController:va,LineController:cp,PieController:lp,PolarAreaController:bf,RadarController:fp,ScatterController:hp});function He(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}var oa=class e{static override(i){Object.assign(e.prototype,i)}options;constructor(i){this.options=i||{}}init(){}formats(){return He()}parse(){return He()}format(){return He()}add(){return He()}diff(){return He()}startOf(){return He()}endOf(){return He()}},up={_date:oa};function pp(e,i,t,n){let{controller:s,data:o,_sorted:a}=e,r=s._cachedMeta.iScale;if(r&&i===r.axis&&i!=="r"&&a&&o.length){let c=r._reversePixels?Ro:Ft;if(n){if(s._sharedOptions){let l=o[0],f=typeof l.getRange=="function"&&l.getRange(i);if(f){let h=c(o,i,t-f),d=c(o,i,t+f);return{lo:h.lo,hi:d.hi}}}}else return c(o,i,t)}return{lo:0,hi:o.length-1}}function Zi(e,i,t,n,s){let o=e.getSortedVisibleDatasetMetas(),a=t[i];for(let r=0,c=o.length;r<c;++r){let{index:l,data:f}=o[r],{lo:h,hi:d}=pp(o[r],i,a,s);for(let u=h;u<=d;++u){let p=f[u];p.skip||n(p,l,u)}}}function gp(e){let i=e.indexOf("x")!==-1,t=e.indexOf("y")!==-1;return function(n,s){let o=i?Math.abs(n.x-s.x):0,a=t?Math.abs(n.y-s.y):0;return Math.sqrt(Math.pow(o,2)+Math.pow(a,2))}}function Zo(e,i,t,n,s){let o=[];return!s&&!e.isPointInArea(i)||Zi(e,t,i,function(r,c,l){!s&&!Nt(r,e.chartArea,0)||r.inRange(i.x,i.y,n)&&o.push({element:r,datasetIndex:c,index:l})},!0),o}function mp(e,i,t,n){let s=[];function o(a,r,c){let{startAngle:l,endAngle:f}=a.getProps(["startAngle","endAngle"],n),{angle:h}=jn(a,{x:i.x,y:i.y});Fe(h,l,f)&&s.push({element:a,datasetIndex:r,index:c})}return Zi(e,t,i,o),s}function bp(e,i,t,n,s,o){let a=[],r=gp(t),c=Number.POSITIVE_INFINITY;function l(f,h,d){let u=f.inRange(i.x,i.y,s);if(n&&!u)return;let p=f.getCenterPoint(s);if(!(!!o||e.isPointInArea(p))&&!u)return;let m=r(i,p);m<c?(a=[{element:f,datasetIndex:h,index:d}],c=m):m===c&&a.push({element:f,datasetIndex:h,index:d})}return Zi(e,t,i,l),a}function Jo(e,i,t,n,s,o){return!o&&!e.isPointInArea(i)?[]:t==="r"&&!n?mp(e,i,t,s):bp(e,i,t,n,s,o)}function Ml(e,i,t,n,s){let o=[],a=t==="x"?"inXRange":"inYRange",r=!1;return Zi(e,t,i,(c,l,f)=>{c[a](i[t],s)&&(o.push({element:c,datasetIndex:l,index:f}),r=r||c.inRange(i.x,i.y,s))}),n&&!r?[]:o}var xp={evaluateInteractionItems:Zi,modes:{index(e,i,t,n){let s=fe(i,e),o=t.axis||"x",a=t.includeInvisible||!1,r=t.intersect?Zo(e,s,o,n,a):Jo(e,s,o,!1,n,a),c=[];return r.length?(e.getSortedVisibleDatasetMetas().forEach(l=>{let f=r[0].index,h=l.data[f];h&&!h.skip&&c.push({element:h,datasetIndex:l.index,index:f})}),c):[]},dataset(e,i,t,n){let s=fe(i,e),o=t.axis||"xy",a=t.includeInvisible||!1,r=t.intersect?Zo(e,s,o,n,a):Jo(e,s,o,!1,n,a);if(r.length>0){let c=r[0].datasetIndex,l=e.getDatasetMeta(c).data;r=[];for(let f=0;f<l.length;++f)r.push({element:l[f],datasetIndex:c,index:f})}return r},point(e,i,t,n){let s=fe(i,e),o=t.axis||"xy",a=t.includeInvisible||!1;return Zo(e,s,o,n,a)},nearest(e,i,t,n){let s=fe(i,e),o=t.axis||"xy",a=t.includeInvisible||!1;return Jo(e,s,o,t.intersect,n,a)},x(e,i,t,n){let s=fe(i,e);return Ml(e,s,"x",t.intersect,n)},y(e,i,t,n){let s=fe(i,e);return Ml(e,s,"y",t.intersect,n)}}},xf=["left","top","right","bottom"];function Wi(e,i){return e.filter(t=>t.pos===i)}function Sl(e,i){return e.filter(t=>xf.indexOf(t.pos)===-1&&t.box.axis===i)}function Hi(e,i){return e.sort((t,n)=>{let s=i?n:t,o=i?t:n;return s.weight===o.weight?s.index-o.index:s.weight-o.weight})}function yp(e){let i=[],t,n,s,o,a,r;for(t=0,n=(e||[]).length;t<n;++t)s=e[t],{position:o,options:{stack:a,stackWeight:r=1}}=s,i.push({index:t,box:s,pos:o,horizontal:s.isHorizontal(),weight:s.weight,stack:a&&o+a,stackWeight:r});return i}function _p(e){let i={};for(let t of e){let{stack:n,pos:s,stackWeight:o}=t;if(!n||!xf.includes(s))continue;let a=i[n]||(i[n]={count:0,placed:0,weight:0,size:0});a.count++,a.weight+=o}return i}function vp(e,i){let t=_p(e),{vBoxMaxWidth:n,hBoxMaxHeight:s}=i,o,a,r;for(o=0,a=e.length;o<a;++o){r=e[o];let{fullSize:c}=r.box,l=t[r.stack],f=l&&r.stackWeight/l.weight;r.horizontal?(r.width=f?f*n:c&&i.availableWidth,r.height=s):(r.width=n,r.height=f?f*s:c&&i.availableHeight)}return t}function wp(e){let i=yp(e),t=Hi(i.filter(l=>l.box.fullSize),!0),n=Hi(Wi(i,"left"),!0),s=Hi(Wi(i,"right")),o=Hi(Wi(i,"top"),!0),a=Hi(Wi(i,"bottom")),r=Sl(i,"x"),c=Sl(i,"y");return{fullSize:t,leftAndTop:n.concat(o),rightAndBottom:s.concat(c).concat(a).concat(r),chartArea:Wi(i,"chartArea"),vertical:n.concat(s).concat(c),horizontal:o.concat(a).concat(r)}}function Pl(e,i,t,n){return Math.max(e[t],i[t])+Math.max(e[n],i[n])}function yf(e,i){e.top=Math.max(e.top,i.top),e.left=Math.max(e.left,i.left),e.bottom=Math.max(e.bottom,i.bottom),e.right=Math.max(e.right,i.right)}function Mp(e,i,t,n){let{pos:s,box:o}=t,a=e.maxPadding;if(!W(s)){t.size&&(e[s]-=t.size);let h=n[t.stack]||{size:0,count:1};h.size=Math.max(h.size,t.horizontal?o.height:o.width),t.size=h.size/h.count,e[s]+=t.size}o.getPadding&&yf(a,o.getPadding());let r=Math.max(0,i.outerWidth-Pl(a,e,"left","right")),c=Math.max(0,i.outerHeight-Pl(a,e,"top","bottom")),l=r!==e.w,f=c!==e.h;return e.w=r,e.h=c,t.horizontal?{same:l,other:f}:{same:f,other:l}}function Sp(e){let i=e.maxPadding;function t(n){let s=Math.max(i[n]-e[n],0);return e[n]+=s,s}e.y+=t("top"),e.x+=t("left"),t("right"),t("bottom")}function Pp(e,i){let t=i.maxPadding;function n(s){let o={left:0,top:0,right:0,bottom:0};return s.forEach(a=>{o[a]=Math.max(i[a],t[a])}),o}return n(e?["left","right"]:["top","bottom"])}function qi(e,i,t,n){let s=[],o,a,r,c,l,f;for(o=0,a=e.length,l=0;o<a;++o){r=e[o],c=r.box,c.update(r.width||i.w,r.height||i.h,Pp(r.horizontal,i));let{same:h,other:d}=Mp(i,t,r,n);l|=h&&s.length,f=f||d,c.fullSize||s.push(r)}return l&&qi(s,i,t,n)||f}function ls(e,i,t,n,s){e.top=t,e.left=i,e.right=i+n,e.bottom=t+s,e.width=n,e.height=s}function kl(e,i,t,n){let s=t.padding,{x:o,y:a}=i;for(let r of e){let c=r.box,l=n[r.stack]||{count:1,placed:0,weight:1},f=r.stackWeight/l.weight||1;if(r.horizontal){let h=i.w*f,d=l.size||c.height;ze(l.start)&&(a=l.start),c.fullSize?ls(c,s.left,a,t.outerWidth-s.right-s.left,d):ls(c,i.left+l.placed,a,h,d),l.start=a,l.placed+=h,a=c.bottom}else{let h=i.h*f,d=l.size||c.width;ze(l.start)&&(o=l.start),c.fullSize?ls(c,o,s.top,d,t.outerHeight-s.bottom-s.top):ls(c,o,i.top+l.placed,d,h),l.start=o,l.placed+=h,o=c.right}}i.x=o,i.y=a}var mt={addBox(e,i){e.boxes||(e.boxes=[]),i.fullSize=i.fullSize||!1,i.position=i.position||"top",i.weight=i.weight||0,i._layers=i._layers||function(){return[{z:0,draw(t){i.draw(t)}}]},e.boxes.push(i)},removeBox(e,i){let t=e.boxes?e.boxes.indexOf(i):-1;t!==-1&&e.boxes.splice(t,1)},configure(e,i,t){i.fullSize=t.fullSize,i.position=t.position,i.weight=t.weight},update(e,i,t,n){if(!e)return;let s=ht(e.options.layout.padding),o=Math.max(i-s.width,0),a=Math.max(t-s.height,0),r=wp(e.boxes),c=r.vertical,l=r.horizontal;G(e.boxes,g=>{typeof g.beforeLayout=="function"&&g.beforeLayout()});let f=c.reduce((g,m)=>m.box.options&&m.box.options.display===!1?g:g+1,0)||1,h=Object.freeze({outerWidth:i,outerHeight:t,padding:s,availableWidth:o,availableHeight:a,vBoxMaxWidth:o/2/f,hBoxMaxHeight:a/2}),d=Object.assign({},s);yf(d,ht(n));let u=Object.assign({maxPadding:d,w:o,h:a,x:s.left,y:s.top},s),p=vp(c.concat(l),h);qi(r.fullSize,u,h,p),qi(c,u,h,p),qi(l,u,h,p)&&qi(c,u,h,p),Sp(u),kl(r.leftAndTop,u,h,p),u.x+=u.w,u.y+=u.h,kl(r.rightAndBottom,u,h,p),e.chartArea={left:u.left,top:u.top,right:u.left+u.w,bottom:u.top+u.h,height:u.h,width:u.w},G(r.chartArea,g=>{let m=g.box;Object.assign(m,e.chartArea),m.update(u.w,u.h,{left:0,top:0,right:0,bottom:0})})}},ys=class{acquireContext(i,t){}releaseContext(i){return!1}addEventListener(i,t,n){}removeEventListener(i,t,n){}getDevicePixelRatio(){return 1}getMaximumSize(i,t,n,s){return t=Math.max(0,t||i.width),n=n||i.height,{width:t,height:Math.max(0,s?Math.floor(t/s):n)}}isAttached(i){return!0}updateConfig(i){}},aa=class extends ys{acquireContext(i){return i&&i.getContext&&i.getContext("2d")||null}updateConfig(i){i.options.animation=!1}},ms="$chartjs",kp={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},Cl=e=>e===null||e==="";function Cp(e,i){let t=e.style,n=e.getAttribute("height"),s=e.getAttribute("width");if(e[ms]={initial:{height:n,width:s,style:{display:t.display,height:t.height,width:t.width}}},t.display=t.display||"block",t.boxSizing=t.boxSizing||"border-box",Cl(s)){let o=ss(e,"width");o!==void 0&&(e.width=o)}if(Cl(n))if(e.style.height==="")e.height=e.width/(i||2);else{let o=ss(e,"height");o!==void 0&&(e.height=o)}return e}var _f=$o?{passive:!0}:!1;function Ap(e,i,t){e&&e.addEventListener(i,t,_f)}function Ep(e,i,t){e&&e.canvas&&e.canvas.removeEventListener(i,t,_f)}function Dp(e,i){let t=kp[e.type]||e.type,{x:n,y:s}=fe(e,i);return{type:t,chart:i,native:e,x:n!==void 0?n:null,y:s!==void 0?s:null}}function _s(e,i){for(let t of e)if(t===i||t.contains(i))return!0}function Rp(e,i,t){let n=e.canvas,s=new MutationObserver(o=>{let a=!1;for(let r of o)a=a||_s(r.addedNodes,n),a=a&&!_s(r.removedNodes,n);a&&t()});return s.observe(document,{childList:!0,subtree:!0}),s}function Op(e,i,t){let n=e.canvas,s=new MutationObserver(o=>{let a=!1;for(let r of o)a=a||_s(r.removedNodes,n),a=a&&!_s(r.addedNodes,n);a&&t()});return s.observe(document,{childList:!0,subtree:!0}),s}var Ui=new Map,Al=0;function vf(){let e=window.devicePixelRatio;e!==Al&&(Al=e,Ui.forEach((i,t)=>{t.currentDevicePixelRatio!==e&&i()}))}function Tp(e,i){Ui.size||window.addEventListener("resize",vf),Ui.set(e,i)}function Lp(e){Ui.delete(e),Ui.size||window.removeEventListener("resize",vf)}function Ip(e,i,t){let n=e.canvas,s=n&&Vi(n);if(!s)return;let o=Gn((r,c)=>{let l=s.clientWidth;t(r,c),l<s.clientWidth&&t()},window),a=new ResizeObserver(r=>{let c=r[0],l=c.contentRect.width,f=c.contentRect.height;l===0&&f===0||o(l,f)});return a.observe(s),Tp(e,o),a}function Qo(e,i,t){t&&t.disconnect(),i==="resize"&&Lp(e)}function zp(e,i,t){let n=e.canvas,s=Gn(o=>{e.ctx!==null&&t(Dp(o,e))},e);return Ap(n,i,s),s}var ra=class extends ys{acquireContext(i,t){let n=i&&i.getContext&&i.getContext("2d");return n&&n.canvas===i?(Cp(i,t),n):null}releaseContext(i){let t=i.canvas;if(!t[ms])return!1;let n=t[ms].initial;["height","width"].forEach(o=>{let a=n[o];$(a)?t.removeAttribute(o):t.setAttribute(o,a)});let s=n.style||{};return Object.keys(s).forEach(o=>{t.style[o]=s[o]}),t.width=t.width,delete t[ms],!0}addEventListener(i,t,n){this.removeEventListener(i,t);let s=i.$proxies||(i.$proxies={}),a={attach:Rp,detach:Op,resize:Ip}[t]||zp;s[t]=a(i,t,n)}removeEventListener(i,t){let n=i.$proxies||(i.$proxies={}),s=n[t];if(!s)return;({attach:Qo,detach:Qo,resize:Qo}[t]||Ep)(i,t,s),n[t]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(i,t,n,s){return Ho(i,t,n,s)}isAttached(i){let t=i&&Vi(i);return!!(t&&t.isConnected)}};function Bp(e){return!Ni()||typeof OffscreenCanvas<"u"&&e instanceof OffscreenCanvas?aa:ra}var Et=class{static defaults={};static defaultRoutes=void 0;x;y;active=!1;options;$animations;tooltipPosition(i){let{x:t,y:n}=this.getProps(["x","y"],i);return{x:t,y:n}}hasValue(){return Me(this.x)&&Me(this.y)}getProps(i,t){let n=this.$animations;if(!t||!n)return this;let s={};return i.forEach(o=>{s[o]=n[o]&&n[o].active()?n[o]._to:this[o]}),s}};function Fp(e,i){let t=e.options.ticks,n=Np(e),s=Math.min(t.maxTicksLimit||n,n),o=t.major.enabled?jp(i):[],a=o.length,r=o[0],c=o[a-1],l=[];if(a>s)return Wp(i,l,o,a/s),l;let f=Vp(o,i,s);if(a>0){let h,d,u=a>1?Math.round((c-r)/(a-1)):null;for(fs(i,l,f,$(u)?0:r-u,r),h=0,d=a-1;h<d;h++)fs(i,l,f,o[h],o[h+1]);return fs(i,l,f,c,$(u)?i.length:c+u),l}return fs(i,l,f),l}function Np(e){let i=e.options.offset,t=e._tickSize(),n=e._length/t+(i?0:1),s=e._maxLength/t;return Math.floor(Math.min(n,s))}function Vp(e,i,t){let n=Hp(e),s=i.length/t;if(!n)return Math.max(s,1);let o=Ao(n);for(let a=0,r=o.length-1;a<r;a++){let c=o[a];if(c>s)return c}return Math.max(s,1)}function jp(e){let i=[],t,n;for(t=0,n=e.length;t<n;t++)e[t].major&&i.push(t);return i}function Wp(e,i,t,n){let s=0,o=t[0],a;for(n=Math.ceil(n),a=0;a<e.length;a++)a===o&&(i.push(e[a]),s++,o=t[s*n])}function fs(e,i,t,n,s){let o=z(n,0),a=Math.min(z(s,e.length),e.length),r=0,c,l,f;for(t=Math.ceil(t),s&&(c=s-n,t=c/Math.floor(c/t)),f=o;f<0;)r++,f=Math.round(o+r*t);for(l=Math.max(o,0);l<a;l++)l===f&&(i.push(e[l]),r++,f=Math.round(o+r*t))}function Hp(e){let i=e.length,t,n;if(i<2)return!1;for(n=e[0],t=1;t<i;++t)if(e[t]-e[t-1]!==n)return!1;return n}var $p=e=>e==="left"?"right":e==="right"?"left":e,El=(e,i,t)=>i==="top"||i==="left"?e[i]+t:e[i]-t,Dl=(e,i)=>Math.min(i||e,e);function Rl(e,i){let t=[],n=e.length/i,s=e.length,o=0;for(;o<s;o+=n)t.push(e[Math.floor(o)]);return t}function Gp(e,i,t){let n=e.ticks.length,s=Math.min(i,n-1),o=e._startPixel,a=e._endPixel,r=1e-6,c=e.getPixelForTick(s),l;if(!(t&&(n===1?l=Math.max(c-o,a-c):i===0?l=(e.getPixelForTick(1)-c)/2:l=(c-e.getPixelForTick(s-1))/2,c+=s<i?l:-l,c<o-r||c>a+r)))return c}function qp(e,i){G(e,t=>{let n=t.gc,s=n.length/2,o;if(s>i){for(o=0;o<s;++o)delete t.data[n[o]];n.splice(0,s)}})}function $i(e){return e.drawTicks?e.tickLength:0}function Ol(e,i){if(!e.display)return 0;let t=ot(e.font,i),n=ht(e.padding);return(K(e.text)?e.text.length:1)*t.lineHeight+n.height}function Yp(e,i){return Kt(e,{scale:i,type:"scale"})}function Up(e,i,t){return Kt(e,{tick:t,index:i,type:"tick"})}function Xp(e,i,t){let n=Ii(e);return(t&&i!=="right"||!t&&i==="right")&&(n=$p(n)),n}function Kp(e,i,t,n){let{top:s,left:o,bottom:a,right:r,chart:c}=e,{chartArea:l,scales:f}=c,h=0,d,u,p,g=a-s,m=r-o;if(e.isHorizontal()){if(u=ft(n,o,r),W(t)){let b=Object.keys(t)[0],x=t[b];p=f[b].getPixelForValue(x)+g-i}else t==="center"?p=(l.bottom+l.top)/2+g-i:p=El(e,t,i);d=r-o}else{if(W(t)){let b=Object.keys(t)[0],x=t[b];u=f[b].getPixelForValue(x)-m+i}else t==="center"?u=(l.left+l.right)/2-m+i:u=El(e,t,i);p=ft(n,a,s),h=t==="left"?-it:it}return{titleX:u,titleY:p,maxWidth:d,rotation:h}}var ue=class e extends Et{constructor(i){super(),this.id=i.id,this.type=i.type,this.options=void 0,this.ctx=i.ctx,this.chart=i.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(i){this.options=i.setContext(this.getContext()),this.axis=i.axis,this._userMin=this.parse(i.min),this._userMax=this.parse(i.max),this._suggestedMin=this.parse(i.suggestedMin),this._suggestedMax=this.parse(i.suggestedMax)}parse(i,t){return i}getUserBounds(){let{_userMin:i,_userMax:t,_suggestedMin:n,_suggestedMax:s}=this;return i=_t(i,Number.POSITIVE_INFINITY),t=_t(t,Number.NEGATIVE_INFINITY),n=_t(n,Number.POSITIVE_INFINITY),s=_t(s,Number.NEGATIVE_INFINITY),{min:_t(i,n),max:_t(t,s),minDefined:et(i),maxDefined:et(t)}}getMinMax(i){let{min:t,max:n,minDefined:s,maxDefined:o}=this.getUserBounds(),a;if(s&&o)return{min:t,max:n};let r=this.getMatchingVisibleMetas();for(let c=0,l=r.length;c<l;++c)a=r[c].controller.getMinMax(this,i),s||(t=Math.min(t,a.min)),o||(n=Math.max(n,a.max));return t=o&&t>n?n:t,n=s&&t>n?t:n,{min:_t(t,_t(n,t)),max:_t(n,_t(t,n))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){let i=this.chart.data;return this.options.labels||(this.isHorizontal()?i.xLabels:i.yLabels)||i.labels||[]}getLabelItems(i=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(i))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){Y(this.options.beforeUpdate,[this])}update(i,t,n){let{beginAtZero:s,grace:o,ticks:a}=this.options,r=a.sampleSize;this.beforeUpdate(),this.maxWidth=i,this.maxHeight=t,this._margins=n=Object.assign({left:0,right:0,top:0,bottom:0},n),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+n.left+n.right:this.height+n.top+n.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=No(this,o,s),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();let c=r<this.ticks.length;this._convertTicksToLabels(c?Rl(this.ticks,r):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),a.display&&(a.autoSkip||a.source==="auto")&&(this.ticks=Fp(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),c&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let i=this.options.reverse,t,n;this.isHorizontal()?(t=this.left,n=this.right):(t=this.top,n=this.bottom,i=!i),this._startPixel=t,this._endPixel=n,this._reversePixels=i,this._length=n-t,this._alignToPixels=this.options.alignToPixels}afterUpdate(){Y(this.options.afterUpdate,[this])}beforeSetDimensions(){Y(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){Y(this.options.afterSetDimensions,[this])}_callHooks(i){this.chart.notifyPlugins(i,this.getContext()),Y(this.options[i],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){Y(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(i){let t=this.options.ticks,n,s,o;for(n=0,s=i.length;n<s;n++)o=i[n],o.label=Y(t.callback,[o.value,n,i],this)}afterTickToLabelConversion(){Y(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){Y(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){let i=this.options,t=i.ticks,n=Dl(this.ticks.length,i.ticks.maxTicksLimit),s=t.minRotation||0,o=t.maxRotation,a=s,r,c,l;if(!this._isVisible()||!t.display||s>=o||n<=1||!this.isHorizontal()){this.labelRotation=s;return}let f=this._getLabelSizes(),h=f.widest.width,d=f.highest.height,u=at(this.chart.width-h,0,this.maxWidth);r=i.offset?this.maxWidth/n:u/(n-1),h+6>r&&(r=u/(n-(i.offset?.5:1)),c=this.maxHeight-$i(i.grid)-t.padding-Ol(i.title,this.chart.options.font),l=Math.sqrt(h*h+d*d),a=Ti(Math.min(Math.asin(at((f.highest.height+6)/r,-1,1)),Math.asin(at(c/l,-1,1))-Math.asin(at(d/l,-1,1)))),a=Math.max(s,Math.min(o,a))),this.labelRotation=a}afterCalculateLabelRotation(){Y(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){Y(this.options.beforeFit,[this])}fit(){let i={width:0,height:0},{chart:t,options:{ticks:n,title:s,grid:o}}=this,a=this._isVisible(),r=this.isHorizontal();if(a){let c=Ol(s,t.options.font);if(r?(i.width=this.maxWidth,i.height=$i(o)+c):(i.height=this.maxHeight,i.width=$i(o)+c),n.display&&this.ticks.length){let{first:l,last:f,widest:h,highest:d}=this._getLabelSizes(),u=n.padding*2,p=At(this.labelRotation),g=Math.cos(p),m=Math.sin(p);if(r){let b=n.mirror?0:m*h.width+g*d.height;i.height=Math.min(this.maxHeight,i.height+b+u)}else{let b=n.mirror?0:g*h.width+m*d.height;i.width=Math.min(this.maxWidth,i.width+b+u)}this._calculatePadding(l,f,m,g)}}this._handleMargins(),r?(this.width=this._length=t.width-this._margins.left-this._margins.right,this.height=i.height):(this.width=i.width,this.height=this._length=t.height-this._margins.top-this._margins.bottom)}_calculatePadding(i,t,n,s){let{ticks:{align:o,padding:a},position:r}=this.options,c=this.labelRotation!==0,l=r!=="top"&&this.axis==="x";if(this.isHorizontal()){let f=this.getPixelForTick(0)-this.left,h=this.right-this.getPixelForTick(this.ticks.length-1),d=0,u=0;c?l?(d=s*i.width,u=n*t.height):(d=n*i.height,u=s*t.width):o==="start"?u=t.width:o==="end"?d=i.width:o!=="inner"&&(d=i.width/2,u=t.width/2),this.paddingLeft=Math.max((d-f+a)*this.width/(this.width-f),0),this.paddingRight=Math.max((u-h+a)*this.width/(this.width-h),0)}else{let f=t.height/2,h=i.height/2;o==="start"?(f=0,h=i.height):o==="end"&&(f=t.height,h=0),this.paddingTop=f+a,this.paddingBottom=h+a}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){Y(this.options.afterFit,[this])}isHorizontal(){let{axis:i,position:t}=this.options;return t==="top"||t==="bottom"||i==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(i){this.beforeTickToLabelConversion(),this.generateTickLabels(i);let t,n;for(t=0,n=i.length;t<n;t++)$(i[t].label)&&(i.splice(t,1),n--,t--);this.afterTickToLabelConversion()}_getLabelSizes(){let i=this._labelSizes;if(!i){let t=this.options.ticks.sampleSize,n=this.ticks;t<n.length&&(n=Rl(n,t)),this._labelSizes=i=this._computeLabelSizes(n,n.length,this.options.ticks.maxTicksLimit)}return i}_computeLabelSizes(i,t,n){let{ctx:s,_longestTextCache:o}=this,a=[],r=[],c=Math.floor(t/Dl(t,n)),l=0,f=0,h,d,u,p,g,m,b,x,y,v,_;for(h=0;h<t;h+=c){if(p=i[h].label,g=this._resolveTickFontOptions(h),s.font=m=g.string,b=o[m]=o[m]||{data:{},gc:[]},x=g.lineHeight,y=v=0,!$(p)&&!K(p))y=ni(s,b.data,b.gc,y,p),v=x;else if(K(p))for(d=0,u=p.length;d<u;++d)_=p[d],!$(_)&&!K(_)&&(y=ni(s,b.data,b.gc,y,_),v+=x);a.push(y),r.push(v),l=Math.max(y,l),f=Math.max(v,f)}qp(o,t);let w=a.indexOf(l),P=r.indexOf(f),S=k=>({width:a[k]||0,height:r[k]||0});return{first:S(0),last:S(t-1),widest:S(w),highest:S(P),widths:a,heights:r}}getLabelForValue(i){return i}getPixelForValue(i,t){return NaN}getValueForPixel(i){}getPixelForTick(i){let t=this.ticks;return i<0||i>t.length-1?null:this.getPixelForValue(t[i].value)}getPixelForDecimal(i){this._reversePixels&&(i=1-i);let t=this._startPixel+i*this._length;return Do(this._alignToPixels?re(this.chart,t,0):t)}getDecimalForPixel(i){let t=(i-this._startPixel)/this._length;return this._reversePixels?1-t:t}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){let{min:i,max:t}=this;return i<0&&t<0?t:i>0&&t>0?i:0}getContext(i){let t=this.ticks||[];if(i>=0&&i<t.length){let n=t[i];return n.$context||(n.$context=Up(this.getContext(),i,n))}return this.$context||(this.$context=Yp(this.chart.getContext(),this))}_tickSize(){let i=this.options.ticks,t=At(this.labelRotation),n=Math.abs(Math.cos(t)),s=Math.abs(Math.sin(t)),o=this._getLabelSizes(),a=i.autoSkipPadding||0,r=o?o.widest.width+a:0,c=o?o.highest.height+a:0;return this.isHorizontal()?c*n>r*s?r/n:c/s:c*s<r*n?c/n:r/s}_isVisible(){let i=this.options.display;return i!=="auto"?!!i:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(i){let t=this.axis,n=this.chart,s=this.options,{grid:o,position:a,border:r}=s,c=o.offset,l=this.isHorizontal(),h=this.ticks.length+(c?1:0),d=$i(o),u=[],p=r.setContext(this.getContext()),g=p.display?p.width:0,m=g/2,b=function(R){return re(n,R,g)},x,y,v,_,w,P,S,k,E,C,I,j;if(a==="top")x=b(this.bottom),P=this.bottom-d,k=x-m,C=b(i.top)+m,j=i.bottom;else if(a==="bottom")x=b(this.top),C=i.top,j=b(i.bottom)-m,P=x+m,k=this.top+d;else if(a==="left")x=b(this.right),w=this.right-d,S=x-m,E=b(i.left)+m,I=i.right;else if(a==="right")x=b(this.left),E=i.left,I=b(i.right)-m,w=x+m,S=this.left+d;else if(t==="x"){if(a==="center")x=b((i.top+i.bottom)/2+.5);else if(W(a)){let R=Object.keys(a)[0],V=a[R];x=b(this.chart.scales[R].getPixelForValue(V))}C=i.top,j=i.bottom,P=x+m,k=P+d}else if(t==="y"){if(a==="center")x=b((i.left+i.right)/2);else if(W(a)){let R=Object.keys(a)[0],V=a[R];x=b(this.chart.scales[R].getPixelForValue(V))}w=x-m,S=w-d,E=i.left,I=i.right}let N=z(s.ticks.maxTicksLimit,h),M=Math.max(1,Math.ceil(h/N));for(y=0;y<h;y+=M){let R=this.getContext(y),V=o.setContext(R),Q=r.setContext(R),q=V.lineWidth,Dt=V.color,Mt=Q.dash||[],St=Q.dashOffset,xt=V.tickWidth,Rt=V.tickColor,Ot=V.tickBorderDash||[],Oe=V.tickBorderDashOffset;v=Gp(this,y,c),v!==void 0&&(_=re(n,v,q),l?w=S=E=I=_:P=k=C=j=_,u.push({tx1:w,ty1:P,tx2:S,ty2:k,x1:E,y1:C,x2:I,y2:j,width:q,color:Dt,borderDash:Mt,borderDashOffset:St,tickWidth:xt,tickColor:Rt,tickBorderDash:Ot,tickBorderDashOffset:Oe}))}return this._ticksLength=h,this._borderValue=x,u}_computeLabelItems(i){let t=this.axis,n=this.options,{position:s,ticks:o}=n,a=this.isHorizontal(),r=this.ticks,{align:c,crossAlign:l,padding:f,mirror:h}=o,d=$i(n.grid),u=d+f,p=h?-f:u,g=-At(this.labelRotation),m=[],b,x,y,v,_,w,P,S,k,E,C,I,j="middle";if(s==="top")w=this.bottom-p,P=this._getXAxisLabelAlignment();else if(s==="bottom")w=this.top+p,P=this._getXAxisLabelAlignment();else if(s==="left"){let M=this._getYAxisLabelAlignment(d);P=M.textAlign,_=M.x}else if(s==="right"){let M=this._getYAxisLabelAlignment(d);P=M.textAlign,_=M.x}else if(t==="x"){if(s==="center")w=(i.top+i.bottom)/2+u;else if(W(s)){let M=Object.keys(s)[0],R=s[M];w=this.chart.scales[M].getPixelForValue(R)+u}P=this._getXAxisLabelAlignment()}else if(t==="y"){if(s==="center")_=(i.left+i.right)/2-u;else if(W(s)){let M=Object.keys(s)[0],R=s[M];_=this.chart.scales[M].getPixelForValue(R)}P=this._getYAxisLabelAlignment(d).textAlign}t==="y"&&(c==="start"?j="top":c==="end"&&(j="bottom"));let N=this._getLabelSizes();for(b=0,x=r.length;b<x;++b){y=r[b],v=y.label;let M=o.setContext(this.getContext(b));S=this.getPixelForTick(b)+o.labelOffset,k=this._resolveTickFontOptions(b),E=k.lineHeight,C=K(v)?v.length:1;let R=C/2,V=M.color,Q=M.textStrokeColor,q=M.textStrokeWidth,Dt=P;a?(_=S,P==="inner"&&(b===x-1?Dt=this.options.reverse?"left":"right":b===0?Dt=this.options.reverse?"right":"left":Dt="center"),s==="top"?l==="near"||g!==0?I=-C*E+E/2:l==="center"?I=-N.highest.height/2-R*E+E:I=-N.highest.height+E/2:l==="near"||g!==0?I=E/2:l==="center"?I=N.highest.height/2-R*E:I=N.highest.height-C*E,h&&(I*=-1),g!==0&&!M.showLabelBackdrop&&(_+=E/2*Math.sin(g))):(w=S,I=(1-C)*E/2);let Mt;if(M.showLabelBackdrop){let St=ht(M.backdropPadding),xt=N.heights[b],Rt=N.widths[b],Ot=I-St.top,Oe=0-St.left;switch(j){case"middle":Ot-=xt/2;break;case"bottom":Ot-=xt;break}switch(P){case"center":Oe-=Rt/2;break;case"right":Oe-=Rt;break;case"inner":b===x-1?Oe-=Rt:b>0&&(Oe-=Rt/2);break}Mt={left:Oe,top:Ot,width:Rt+St.width,height:xt+St.height,color:M.backdropColor}}m.push({label:v,font:k,textOffset:I,options:{rotation:g,color:V,strokeColor:Q,strokeWidth:q,textAlign:Dt,textBaseline:j,translation:[_,w],backdrop:Mt}})}return m}_getXAxisLabelAlignment(){let{position:i,ticks:t}=this.options;if(-At(this.labelRotation))return i==="top"?"left":"right";let s="center";return t.align==="start"?s="left":t.align==="end"?s="right":t.align==="inner"&&(s="inner"),s}_getYAxisLabelAlignment(i){let{position:t,ticks:{crossAlign:n,mirror:s,padding:o}}=this.options,a=this._getLabelSizes(),r=i+o,c=a.widest.width,l,f;return t==="left"?s?(f=this.right+o,n==="near"?l="left":n==="center"?(l="center",f+=c/2):(l="right",f+=c)):(f=this.right-r,n==="near"?l="right":n==="center"?(l="center",f-=c/2):(l="left",f=this.left)):t==="right"?s?(f=this.left+o,n==="near"?l="right":n==="center"?(l="center",f-=c/2):(l="left",f-=c)):(f=this.left+r,n==="near"?l="left":n==="center"?(l="center",f+=c/2):(l="right",f=this.right)):l="right",{textAlign:l,x:f}}_computeLabelArea(){if(this.options.ticks.mirror)return;let i=this.chart,t=this.options.position;if(t==="left"||t==="right")return{top:0,left:this.left,bottom:i.height,right:this.right};if(t==="top"||t==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:i.width}}drawBackground(){let{ctx:i,options:{backgroundColor:t},left:n,top:s,width:o,height:a}=this;t&&(i.save(),i.fillStyle=t,i.fillRect(n,s,o,a),i.restore())}getLineWidthForValue(i){let t=this.options.grid;if(!this._isVisible()||!t.display)return 0;let s=this.ticks.findIndex(o=>o.value===i);return s>=0?t.setContext(this.getContext(s)).lineWidth:0}drawGrid(i){let t=this.options.grid,n=this.ctx,s=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(i)),o,a,r=(c,l,f)=>{!f.width||!f.color||(n.save(),n.lineWidth=f.width,n.strokeStyle=f.color,n.setLineDash(f.borderDash||[]),n.lineDashOffset=f.borderDashOffset,n.beginPath(),n.moveTo(c.x,c.y),n.lineTo(l.x,l.y),n.stroke(),n.restore())};if(t.display)for(o=0,a=s.length;o<a;++o){let c=s[o];t.drawOnChartArea&&r({x:c.x1,y:c.y1},{x:c.x2,y:c.y2},c),t.drawTicks&&r({x:c.tx1,y:c.ty1},{x:c.tx2,y:c.ty2},{color:c.tickColor,width:c.tickWidth,borderDash:c.tickBorderDash,borderDashOffset:c.tickBorderDashOffset})}}drawBorder(){let{chart:i,ctx:t,options:{border:n,grid:s}}=this,o=n.setContext(this.getContext()),a=n.display?o.width:0;if(!a)return;let r=s.setContext(this.getContext(0)).lineWidth,c=this._borderValue,l,f,h,d;this.isHorizontal()?(l=re(i,this.left,a)-a/2,f=re(i,this.right,r)+r/2,h=d=c):(h=re(i,this.top,a)-a/2,d=re(i,this.bottom,r)+r/2,l=f=c),t.save(),t.lineWidth=o.width,t.strokeStyle=o.color,t.beginPath(),t.moveTo(l,h),t.lineTo(f,d),t.stroke(),t.restore()}drawLabels(i){if(!this.options.ticks.display)return;let n=this.ctx,s=this._computeLabelArea();s&&Ut(n,s);let o=this.getLabelItems(i);for(let a of o){let r=a.options,c=a.font,l=a.label,f=a.textOffset;ce(n,l,0,f,c,r)}s&&Xt(n)}drawTitle(){let{ctx:i,options:{position:t,title:n,reverse:s}}=this;if(!n.display)return;let o=ot(n.font),a=ht(n.padding),r=n.align,c=o.lineHeight/2;t==="bottom"||t==="center"||W(t)?(c+=a.bottom,K(n.text)&&(c+=o.lineHeight*(n.text.length-1))):c+=a.top;let{titleX:l,titleY:f,maxWidth:h,rotation:d}=Kp(this,c,t,r);ce(i,n.text,0,0,o,{color:n.color,maxWidth:h,rotation:d,textAlign:Xp(r,t,s),textBaseline:"middle",translation:[l,f]})}draw(i){this._isVisible()&&(this.drawBackground(),this.drawGrid(i),this.drawBorder(),this.drawTitle(),this.drawLabels(i))}_layers(){let i=this.options,t=i.ticks&&i.ticks.z||0,n=z(i.grid&&i.grid.z,-1),s=z(i.border&&i.border.z,0);return!this._isVisible()||this.draw!==e.prototype.draw?[{z:t,draw:o=>{this.draw(o)}}]:[{z:n,draw:o=>{this.drawBackground(),this.drawGrid(o),this.drawTitle()}},{z:s,draw:()=>{this.drawBorder()}},{z:t,draw:o=>{this.drawLabels(o)}}]}getMatchingVisibleMetas(i){let t=this.chart.getSortedVisibleDatasetMetas(),n=this.axis+"AxisID",s=[],o,a;for(o=0,a=t.length;o<a;++o){let r=t[o];r[n]===this.id&&(!i||r.type===i)&&s.push(r)}return s}_resolveTickFontOptions(i){let t=this.options.ticks.setContext(this.getContext(i));return ot(t.font)}_maxDigits(){let i=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/i}},ri=class{constructor(i,t,n){this.type=i,this.scope=t,this.override=n,this.items=Object.create(null)}isForType(i){return Object.prototype.isPrototypeOf.call(this.type.prototype,i.prototype)}register(i){let t=Object.getPrototypeOf(i),n;Qp(t)&&(n=this.register(t));let s=this.items,o=i.id,a=this.scope+"."+o;if(!o)throw new Error("class does not have id: "+i);return o in s||(s[o]=i,Zp(i,a,n),this.override&&nt.override(i.id,i.overrides)),a}get(i){return this.items[i]}unregister(i){let t=this.items,n=i.id,s=this.scope;n in t&&delete t[n],s&&n in nt[s]&&(delete nt[s][n],this.override&&delete Se[n])}};function Zp(e,i,t){let n=pt(Object.create(null),[t?nt.get(t):{},nt.get(i),e.defaults]);nt.set(i,n),e.defaultRoutes&&Jp(i,e.defaultRoutes),e.descriptors&&nt.describe(i,e.descriptors)}function Jp(e,i){Object.keys(i).forEach(t=>{let n=t.split("."),s=n.pop(),o=[e].concat(n).join("."),a=i[t].split("."),r=a.pop(),c=a.join(".");nt.route(o,s,c,r)})}function Qp(e){return"id"in e&&"defaults"in e}var ca=class{constructor(){this.controllers=new ri(Jt,"datasets",!0),this.elements=new ri(Et,"elements"),this.plugins=new ri(Object,"plugins"),this.scales=new ri(ue,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...i){this._each("register",i)}remove(...i){this._each("unregister",i)}addControllers(...i){this._each("register",i,this.controllers)}addElements(...i){this._each("register",i,this.elements)}addPlugins(...i){this._each("register",i,this.plugins)}addScales(...i){this._each("register",i,this.scales)}getController(i){return this._get(i,this.controllers,"controller")}getElement(i){return this._get(i,this.elements,"element")}getPlugin(i){return this._get(i,this.plugins,"plugin")}getScale(i){return this._get(i,this.scales,"scale")}removeControllers(...i){this._each("unregister",i,this.controllers)}removeElements(...i){this._each("unregister",i,this.elements)}removePlugins(...i){this._each("unregister",i,this.plugins)}removeScales(...i){this._each("unregister",i,this.scales)}_each(i,t,n){[...t].forEach(s=>{let o=n||this._getRegistryForType(s);n||o.isForType(s)||o===this.plugins&&s.id?this._exec(i,o,s):G(s,a=>{let r=n||this._getRegistryForType(a);this._exec(i,r,a)})})}_exec(i,t,n){let s=Oi(i);Y(n["before"+s],[],n),t[i](n),Y(n["after"+s],[],n)}_getRegistryForType(i){for(let t=0;t<this._typedRegistries.length;t++){let n=this._typedRegistries[t];if(n.isForType(i))return n}return this.plugins}_get(i,t,n){let s=t.get(i);if(s===void 0)throw new Error('"'+i+'" is not a registered '+n+".");return s}},gt=new ca,la=class{constructor(){this._init=[]}notify(i,t,n,s){t==="beforeInit"&&(this._init=this._createDescriptors(i,!0),this._notify(this._init,i,"install"));let o=s?this._descriptors(i).filter(s):this._descriptors(i),a=this._notify(o,i,t,n);return t==="afterDestroy"&&(this._notify(o,i,"stop"),this._notify(this._init,i,"uninstall")),a}_notify(i,t,n,s){s=s||{};for(let o of i){let a=o.plugin,r=a[n],c=[t,s,o.options];if(Y(r,c,a)===!1&&s.cancelable)return!1}return!0}invalidate(){$(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(i){if(this._cache)return this._cache;let t=this._cache=this._createDescriptors(i);return this._notifyStateChanges(i),t}_createDescriptors(i,t){let n=i&&i.config,s=z(n.options&&n.options.plugins,{}),o=tg(n);return s===!1&&!t?[]:ig(i,o,s,t)}_notifyStateChanges(i){let t=this._oldCache||[],n=this._cache,s=(o,a)=>o.filter(r=>!a.some(c=>r.plugin.id===c.plugin.id));this._notify(s(t,n),i,"stop"),this._notify(s(n,t),i,"start")}};function tg(e){let i={},t=[],n=Object.keys(gt.plugins.items);for(let o=0;o<n.length;o++)t.push(gt.getPlugin(n[o]));let s=e.plugins||[];for(let o=0;o<s.length;o++){let a=s[o];t.indexOf(a)===-1&&(t.push(a),i[a.id]=!0)}return{plugins:t,localIds:i}}function eg(e,i){return!i&&e===!1?null:e===!0?{}:e}function ig(e,{plugins:i,localIds:t},n,s){let o=[],a=e.getContext();for(let r of i){let c=r.id,l=eg(n[c],s);l!==null&&o.push({plugin:r,options:ng(e.config,{plugin:r,local:t[c]},l,a)})}return o}function ng(e,{plugin:i,local:t},n,s){let o=e.pluginScopeKeys(i),a=e.getOptionScopes(n,o);return t&&i.defaults&&a.push(i.defaults),e.createResolver(a,s,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function fa(e,i){let t=nt.datasets[e]||{};return((i.datasets||{})[e]||{}).indexAxis||i.indexAxis||t.indexAxis||"x"}function sg(e,i){let t=e;return e==="_index_"?t=i:e==="_value_"&&(t=i==="x"?"y":"x"),t}function og(e,i){return e===i?"_index_":"_value_"}function Tl(e){if(e==="x"||e==="y"||e==="r")return e}function ag(e){if(e==="top"||e==="bottom")return"x";if(e==="left"||e==="right")return"y"}function ha(e,...i){if(Tl(e))return e;for(let t of i){let n=t.axis||ag(t.position)||e.length>1&&Tl(e[0].toLowerCase());if(n)return n}throw new Error(`Cannot determine type of '${e}' axis. Please provide 'axis' or 'position' option.`)}function Ll(e,i,t){if(t[i+"AxisID"]===e)return{axis:i}}function rg(e,i){if(i.data&&i.data.datasets){let t=i.data.datasets.filter(n=>n.xAxisID===e||n.yAxisID===e);if(t.length)return Ll(e,"x",t[0])||Ll(e,"y",t[0])}return{}}function cg(e,i){let t=Se[e.type]||{scales:{}},n=i.scales||{},s=fa(e.type,i),o=Object.create(null);return Object.keys(n).forEach(a=>{let r=n[a];if(!W(r))return console.error(`Invalid scale configuration for scale: ${a}`);if(r._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${a}`);let c=ha(a,r,rg(a,e),nt.scales[r.type]),l=og(c,s),f=t.scales||{};o[a]=Ie(Object.create(null),[{axis:c},r,f[c],f[l]])}),e.data.datasets.forEach(a=>{let r=a.type||e.type,c=a.indexAxis||fa(r,i),f=(Se[r]||{}).scales||{};Object.keys(f).forEach(h=>{let d=sg(h,c),u=a[d+"AxisID"]||d;o[u]=o[u]||Object.create(null),Ie(o[u],[{axis:d},n[u],f[h]])})}),Object.keys(o).forEach(a=>{let r=o[a];Ie(r,[nt.scales[r.type],nt.scale])}),o}function wf(e){let i=e.options||(e.options={});i.plugins=z(i.plugins,{}),i.scales=cg(e,i)}function Mf(e){return e=e||{},e.datasets=e.datasets||[],e.labels=e.labels||[],e}function lg(e){return e=e||{},e.data=Mf(e.data),wf(e),e}var Il=new Map,Sf=new Set;function hs(e,i){let t=Il.get(e);return t||(t=i(),Il.set(e,t),Sf.add(t)),t}var Gi=(e,i,t)=>{let n=Yt(i,t);n!==void 0&&e.add(n)},da=class{constructor(i){this._config=lg(i),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(i){this._config.type=i}get data(){return this._config.data}set data(i){this._config.data=Mf(i)}get options(){return this._config.options}set options(i){this._config.options=i}get plugins(){return this._config.plugins}update(){let i=this._config;this.clearCache(),wf(i)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(i){return hs(i,()=>[[`datasets.${i}`,""]])}datasetAnimationScopeKeys(i,t){return hs(`${i}.transition.${t}`,()=>[[`datasets.${i}.transitions.${t}`,`transitions.${t}`],[`datasets.${i}`,""]])}datasetElementScopeKeys(i,t){return hs(`${i}-${t}`,()=>[[`datasets.${i}.elements.${t}`,`datasets.${i}`,`elements.${t}`,""]])}pluginScopeKeys(i){let t=i.id,n=this.type;return hs(`${n}-plugin-${t}`,()=>[[`plugins.${t}`,...i.additionalOptionScopes||[]]])}_cachedScopes(i,t){let n=this._scopeCache,s=n.get(i);return(!s||t)&&(s=new Map,n.set(i,s)),s}getOptionScopes(i,t,n){let{options:s,type:o}=this,a=this._cachedScopes(i,n),r=a.get(t);if(r)return r;let c=new Set;t.forEach(f=>{i&&(c.add(i),f.forEach(h=>Gi(c,i,h))),f.forEach(h=>Gi(c,s,h)),f.forEach(h=>Gi(c,Se[o]||{},h)),f.forEach(h=>Gi(c,nt,h)),f.forEach(h=>Gi(c,Kn,h))});let l=Array.from(c);return l.length===0&&l.push(Object.create(null)),Sf.has(t)&&a.set(t,l),l}chartOptionScopes(){let{options:i,type:t}=this;return[i,Se[t]||{},nt.datasets[t]||{},{type:t},nt,Kn]}resolveNamedOptions(i,t,n,s=[""]){let o={$shared:!0},{resolver:a,subPrefixes:r}=zl(this._resolverCache,i,s),c=a;if(hg(a,t)){o.$shared=!1,n=Gt(n)?n():n;let l=this.createResolver(i,n,r);c=we(a,n,l)}for(let l of t)o[l]=c[l];return o}createResolver(i,t,n=[""],s){let{resolver:o}=zl(this._resolverCache,i,n);return W(t)?we(o,t,void 0,s):o}};function zl(e,i,t){let n=e.get(i);n||(n=new Map,e.set(i,n));let s=t.join(),o=n.get(s);return o||(o={resolver:Fi(i,t),subPrefixes:t.filter(r=>!r.toLowerCase().includes("hover"))},n.set(s,o)),o}var fg=e=>W(e)&&Object.getOwnPropertyNames(e).some(i=>Gt(e[i]));function hg(e,i){let{isScriptable:t,isIndexable:n}=ts(e);for(let s of i){let o=t(s),a=n(s),r=(a||o)&&e[s];if(o&&(Gt(r)||fg(r))||a&&K(r))return!0}return!1}var dg="4.4.3",ug=["top","bottom","left","right","chartArea"];function Bl(e,i){return e==="top"||e==="bottom"||ug.indexOf(e)===-1&&i==="x"}function Fl(e,i){return function(t,n){return t[e]===n[e]?t[i]-n[i]:t[e]-n[e]}}function Nl(e){let i=e.chart,t=i.options.animation;i.notifyPlugins("afterRender"),Y(t&&t.onComplete,[e],i)}function pg(e){let i=e.chart,t=i.options.animation;Y(t&&t.onProgress,[e],i)}function Pf(e){return Ni()&&typeof e=="string"?e=document.getElementById(e):e&&e.length&&(e=e[0]),e&&e.canvas&&(e=e.canvas),e}var bs={},Vl=e=>{let i=Pf(e);return Object.values(bs).filter(t=>t.canvas===i).pop()};function gg(e,i,t){let n=Object.keys(e);for(let s of n){let o=+s;if(o>=i){let a=e[s];delete e[s],(t>0||o>i)&&(e[o+t]=a)}}}function mg(e,i,t,n){return!t||e.type==="mouseout"?null:n?i:e}function ds(e,i,t){return e.options.clip?e[t]:i[t]}function bg(e,i){let{xScale:t,yScale:n}=e;return t&&n?{left:ds(t,i,"left"),right:ds(t,i,"right"),top:ds(n,i,"top"),bottom:ds(n,i,"bottom")}:i}var Ye=(()=>{class e{static defaults=nt;static instances=bs;static overrides=Se;static registry=gt;static version=dg;static getChart=Vl;static register(...t){gt.add(...t),jl()}static unregister(...t){gt.remove(...t),jl()}constructor(t,n){let s=this.config=new da(n),o=Pf(t),a=Vl(o);if(a)throw new Error("Canvas is already in use. Chart with ID '"+a.id+"' must be destroyed before the canvas with ID '"+a.canvas.id+"' can be reused.");let r=s.createResolver(s.chartOptionScopes(),this.getContext());this.platform=new(s.platform||Bp(o)),this.platform.updateConfig(s);let c=this.platform.acquireContext(o,r.aspectRatio),l=c&&c.canvas,f=l&&l.height,h=l&&l.width;if(this.id=Po(),this.ctx=c,this.canvas=l,this.width=h,this.height=f,this._options=r,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new la,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=Lo(d=>this.update(d),r.resizeDelay||0),this._dataChanges=[],bs[this.id]=this,!c||!l){console.error("Failed to create chart: can't acquire context from the given item");return}he.listen(this,"complete",Nl),he.listen(this,"progress",pg),this._initialize(),this.attached&&this.update()}get aspectRatio(){let{options:{aspectRatio:t,maintainAspectRatio:n},width:s,height:o,_aspectRatio:a}=this;return $(t)?n&&a?a:o?s/o:null:t}get data(){return this.config.data}set data(t){this.config.data=t}get options(){return this._options}set options(t){this.config.options=t}get registry(){return gt}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():ns(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return Zn(this.canvas,this.ctx),this}stop(){return he.stop(this),this}resize(t,n){he.running(this)?this._resizeBeforeDraw={width:t,height:n}:this._resize(t,n)}_resize(t,n){let s=this.options,o=this.canvas,a=s.maintainAspectRatio&&this.aspectRatio,r=this.platform.getMaximumSize(o,t,n,a),c=s.devicePixelRatio||this.platform.getDevicePixelRatio(),l=this.width?"resize":"attach";this.width=r.width,this.height=r.height,this._aspectRatio=this.aspectRatio,ns(this,c,!0)&&(this.notifyPlugins("resize",{size:r}),Y(s.onResize,[this,r],this),this.attached&&this._doResize(l)&&this.render())}ensureScalesHaveIDs(){let n=this.options.scales||{};G(n,(s,o)=>{s.id=o})}buildOrUpdateScales(){let t=this.options,n=t.scales,s=this.scales,o=Object.keys(s).reduce((r,c)=>(r[c]=!1,r),{}),a=[];n&&(a=a.concat(Object.keys(n).map(r=>{let c=n[r],l=ha(r,c),f=l==="r",h=l==="x";return{options:c,dposition:f?"chartArea":h?"bottom":"left",dtype:f?"radialLinear":h?"category":"linear"}}))),G(a,r=>{let c=r.options,l=c.id,f=ha(l,c),h=z(c.type,r.dtype);(c.position===void 0||Bl(c.position,f)!==Bl(r.dposition))&&(c.position=r.dposition),o[l]=!0;let d=null;if(l in s&&s[l].type===h)d=s[l];else{let u=gt.getScale(h);d=new u({id:l,type:h,ctx:this.ctx,chart:this}),s[d.id]=d}d.init(c,t)}),G(o,(r,c)=>{r||delete s[c]}),G(s,r=>{mt.configure(this,r,r.options),mt.addBox(this,r)})}_updateMetasets(){let t=this._metasets,n=this.data.datasets.length,s=t.length;if(t.sort((o,a)=>o.index-a.index),s>n){for(let o=n;o<s;++o)this._destroyDatasetMeta(o);t.splice(n,s-n)}this._sortedMetasets=t.slice(0).sort(Fl("order","index"))}_removeUnreferencedMetasets(){let{_metasets:t,data:{datasets:n}}=this;t.length>n.length&&delete this._stacks,t.forEach((s,o)=>{n.filter(a=>a===s._dataset).length===0&&this._destroyDatasetMeta(o)})}buildOrUpdateControllers(){let t=[],n=this.data.datasets,s,o;for(this._removeUnreferencedMetasets(),s=0,o=n.length;s<o;s++){let a=n[s],r=this.getDatasetMeta(s),c=a.type||this.config.type;if(r.type&&r.type!==c&&(this._destroyDatasetMeta(s),r=this.getDatasetMeta(s)),r.type=c,r.indexAxis=a.indexAxis||fa(c,this.options),r.order=a.order||0,r.index=s,r.label=""+a.label,r.visible=this.isDatasetVisible(s),r.controller)r.controller.updateIndex(s),r.controller.linkScales();else{let l=gt.getController(c),{datasetElementType:f,dataElementType:h}=nt.datasets[c];Object.assign(l,{dataElementType:gt.getElement(h),datasetElementType:f&&gt.getElement(f)}),r.controller=new l(this,s),t.push(r.controller)}}return this._updateMetasets(),t}_resetElements(){G(this.data.datasets,(t,n)=>{this.getDatasetMeta(n).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(t){let n=this.config;n.update();let s=this._options=n.createResolver(n.chartOptionScopes(),this.getContext()),o=this._animationsDisabled=!s.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:t,cancelable:!0})===!1)return;let a=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let r=0;for(let f=0,h=this.data.datasets.length;f<h;f++){let{controller:d}=this.getDatasetMeta(f),u=!o&&a.indexOf(d)===-1;d.buildOrUpdateElements(u),r=Math.max(+d.getMaxOverflow(),r)}r=this._minPadding=s.layout.autoPadding?r:0,this._updateLayout(r),o||G(a,f=>{f.reset()}),this._updateDatasets(t),this.notifyPlugins("afterUpdate",{mode:t}),this._layers.sort(Fl("z","_idx"));let{_active:c,_lastEvent:l}=this;l?this._eventHandler(l,!0):c.length&&this._updateHoverStyles(c,c,!0),this.render()}_updateScales(){G(this.scales,t=>{mt.removeBox(this,t)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){let t=this.options,n=new Set(Object.keys(this._listeners)),s=new Set(t.events);(!Bn(n,s)||!!this._responsiveListeners!==t.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){let{_hiddenIndices:t}=this,n=this._getUniformDataChanges()||[];for(let{method:s,start:o,count:a}of n){let r=s==="_removeElements"?-a:a;gg(t,o,r)}}_getUniformDataChanges(){let t=this._dataChanges;if(!t||!t.length)return;this._dataChanges=[];let n=this.data.datasets.length,s=a=>new Set(t.filter(r=>r[0]===a).map((r,c)=>c+","+r.splice(1).join(","))),o=s(0);for(let a=1;a<n;a++)if(!Bn(o,s(a)))return;return Array.from(o).map(a=>a.split(",")).map(a=>({method:a[1],start:+a[2],count:+a[3]}))}_updateLayout(t){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;mt.update(this,this.width,this.height,t);let n=this.chartArea,s=n.width<=0||n.height<=0;this._layers=[],G(this.boxes,o=>{s&&o.position==="chartArea"||(o.configure&&o.configure(),this._layers.push(...o._layers()))},this),this._layers.forEach((o,a)=>{o._idx=a}),this.notifyPlugins("afterLayout")}_updateDatasets(t){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:t,cancelable:!0})!==!1){for(let n=0,s=this.data.datasets.length;n<s;++n)this.getDatasetMeta(n).controller.configure();for(let n=0,s=this.data.datasets.length;n<s;++n)this._updateDataset(n,Gt(t)?t({datasetIndex:n}):t);this.notifyPlugins("afterDatasetsUpdate",{mode:t})}}_updateDataset(t,n){let s=this.getDatasetMeta(t),o={meta:s,index:t,mode:n,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",o)!==!1&&(s.controller._update(n),o.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",o))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(he.has(this)?this.attached&&!he.running(this)&&he.start(this):(this.draw(),Nl({chart:this})))}draw(){let t;if(this._resizeBeforeDraw){let{width:s,height:o}=this._resizeBeforeDraw;this._resize(s,o),this._resizeBeforeDraw=null}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;let n=this._layers;for(t=0;t<n.length&&n[t].z<=0;++t)n[t].draw(this.chartArea);for(this._drawDatasets();t<n.length;++t)n[t].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(t){let n=this._sortedMetasets,s=[],o,a;for(o=0,a=n.length;o<a;++o){let r=n[o];(!t||r.visible)&&s.push(r)}return s}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;let t=this.getSortedVisibleDatasetMetas();for(let n=t.length-1;n>=0;--n)this._drawDataset(t[n]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(t){let n=this.ctx,s=t._clip,o=!s.disabled,a=bg(t,this.chartArea),r={meta:t,index:t.index,cancelable:!0};this.notifyPlugins("beforeDatasetDraw",r)!==!1&&(o&&Ut(n,{left:s.left===!1?0:a.left-s.left,right:s.right===!1?this.width:a.right+s.right,top:s.top===!1?0:a.top-s.top,bottom:s.bottom===!1?this.height:a.bottom+s.bottom}),t.controller.draw(),o&&Xt(n),r.cancelable=!1,this.notifyPlugins("afterDatasetDraw",r))}isPointInArea(t){return Nt(t,this.chartArea,this._minPadding)}getElementsAtEventForMode(t,n,s,o){let a=xp.modes[n];return typeof a=="function"?a(this,t,s,o):[]}getDatasetMeta(t){let n=this.data.datasets[t],s=this._metasets,o=s.filter(a=>a&&a._dataset===n).pop();return o||(o={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:n&&n.order||0,index:t,_dataset:n,_parsed:[],_sorted:!1},s.push(o)),o}getContext(){return this.$context||(this.$context=Kt(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(t){let n=this.data.datasets[t];if(!n)return!1;let s=this.getDatasetMeta(t);return typeof s.hidden=="boolean"?!s.hidden:!n.hidden}setDatasetVisibility(t,n){let s=this.getDatasetMeta(t);s.hidden=!n}toggleDataVisibility(t){this._hiddenIndices[t]=!this._hiddenIndices[t]}getDataVisibility(t){return!this._hiddenIndices[t]}_updateVisibility(t,n,s){let o=s?"show":"hide",a=this.getDatasetMeta(t),r=a.controller._resolveAnimations(void 0,o);ze(n)?(a.data[n].hidden=!s,this.update()):(this.setDatasetVisibility(t,s),r.update(a,{visible:s}),this.update(c=>c.datasetIndex===t?o:void 0))}hide(t,n){this._updateVisibility(t,n,!1)}show(t,n){this._updateVisibility(t,n,!0)}_destroyDatasetMeta(t){let n=this._metasets[t];n&&n.controller&&n.controller._destroy(),delete this._metasets[t]}_stop(){let t,n;for(this.stop(),he.remove(this),t=0,n=this.data.datasets.length;t<n;++t)this._destroyDatasetMeta(t)}destroy(){this.notifyPlugins("beforeDestroy");let{canvas:t,ctx:n}=this;this._stop(),this.config.clearCache(),t&&(this.unbindEvents(),Zn(t,n),this.platform.releaseContext(n),this.canvas=null,this.ctx=null),delete bs[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...t){return this.canvas.toDataURL(...t)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){let t=this._listeners,n=this.platform,s=(a,r)=>{n.addEventListener(this,a,r),t[a]=r},o=(a,r,c)=>{a.offsetX=r,a.offsetY=c,this._eventHandler(a)};G(this.options.events,a=>s(a,o))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});let t=this._responsiveListeners,n=this.platform,s=(l,f)=>{n.addEventListener(this,l,f),t[l]=f},o=(l,f)=>{t[l]&&(n.removeEventListener(this,l,f),delete t[l])},a=(l,f)=>{this.canvas&&this.resize(l,f)},r,c=()=>{o("attach",c),this.attached=!0,this.resize(),s("resize",a),s("detach",r)};r=()=>{this.attached=!1,o("resize",a),this._stop(),this._resize(0,0),s("attach",c)},n.isAttached(this.canvas)?c():r()}unbindEvents(){G(this._listeners,(t,n)=>{this.platform.removeEventListener(this,n,t)}),this._listeners={},G(this._responsiveListeners,(t,n)=>{this.platform.removeEventListener(this,n,t)}),this._responsiveListeners=void 0}updateHoverStyle(t,n,s){let o=s?"set":"remove",a,r,c,l;for(n==="dataset"&&(a=this.getDatasetMeta(t[0].datasetIndex),a.controller["_"+o+"DatasetHoverStyle"]()),c=0,l=t.length;c<l;++c){r=t[c];let f=r&&this.getDatasetMeta(r.datasetIndex).controller;f&&f[o+"HoverStyle"](r.element,r.datasetIndex,r.index)}}getActiveElements(){return this._active||[]}setActiveElements(t){let n=this._active||[],s=t.map(({datasetIndex:a,index:r})=>{let c=this.getDatasetMeta(a);if(!c)throw new Error("No dataset found at index "+a);return{datasetIndex:a,element:c.data[r],index:r}});!oi(s,n)&&(this._active=s,this._lastEvent=null,this._updateHoverStyles(s,n))}notifyPlugins(t,n,s){return this._plugins.notify(this,t,n,s)}isPluginEnabled(t){return this._plugins._cache.filter(n=>n.plugin.id===t).length===1}_updateHoverStyles(t,n,s){let o=this.options.hover,a=(l,f)=>l.filter(h=>!f.some(d=>h.datasetIndex===d.datasetIndex&&h.index===d.index)),r=a(n,t),c=s?t:a(t,n);r.length&&this.updateHoverStyle(r,o.mode,!1),c.length&&o.mode&&this.updateHoverStyle(c,o.mode,!0)}_eventHandler(t,n){let s={event:t,replay:n,cancelable:!0,inChartArea:this.isPointInArea(t)},o=r=>(r.options.events||this.options.events).includes(t.native.type);if(this.notifyPlugins("beforeEvent",s,o)===!1)return;let a=this._handleEvent(t,n,s.inChartArea);return s.cancelable=!1,this.notifyPlugins("afterEvent",s,o),(a||s.changed)&&this.render(),this}_handleEvent(t,n,s){let{_active:o=[],options:a}=this,r=n,c=this._getActiveElements(t,o,s,r),l=Co(t),f=mg(t,this._lastEvent,s,l);s&&(this._lastEvent=null,Y(a.onHover,[t,c,this],this),l&&Y(a.onClick,[t,c,this],this));let h=!oi(c,o);return(h||n)&&(this._active=c,this._updateHoverStyles(c,o,n)),this._lastEvent=f,h}_getActiveElements(t,n,s,o){if(t.type==="mouseout")return[];if(!s)return n;let a=this.options.hover;return this.getElementsAtEventForMode(t,a.mode,a,o)}}return e})();function jl(){return G(Ye.instances,e=>e._plugins.invalidate())}function xg(e,i,t){let{startAngle:n,pixelMargin:s,x:o,y:a,outerRadius:r,innerRadius:c}=i,l=s/r;e.beginPath(),e.arc(o,a,r,n-l,t+l),c>s?(l=s/c,e.arc(o,a,c,t+l,n-l,!0)):e.arc(o,a,s,t+it,n-it),e.closePath(),e.clip()}function yg(e){return Bi(e,["outerStart","outerEnd","innerStart","innerEnd"])}function _g(e,i,t,n){let s=yg(e.options.borderRadius),o=(t-i)/2,a=Math.min(o,n*i/2),r=c=>{let l=(t-Math.min(o,c))*n/2;return at(c,0,Math.min(o,l))};return{outerStart:r(s.outerStart),outerEnd:r(s.outerEnd),innerStart:at(s.innerStart,0,a),innerEnd:at(s.innerEnd,0,a)}}function ai(e,i,t,n){return{x:t+e*Math.cos(i),y:n+e*Math.sin(i)}}function vs(e,i,t,n,s,o){let{x:a,y:r,startAngle:c,pixelMargin:l,innerRadius:f}=i,h=Math.max(i.outerRadius+n+t-l,0),d=f>0?f+n+t+l:0,u=0,p=s-c;if(n){let M=f>0?f-n:0,R=h>0?h-n:0,V=(M+R)/2,Q=V!==0?p*V/(V+n):p;u=(p-Q)/2}let g=Math.max(.001,p*h-t/Z)/h,m=(p-g)/2,b=c+m+u,x=s-m-u,{outerStart:y,outerEnd:v,innerStart:_,innerEnd:w}=_g(i,d,h,x-b),P=h-y,S=h-v,k=b+y/P,E=x-v/S,C=d+_,I=d+w,j=b+_/C,N=x-w/I;if(e.beginPath(),o){let M=(k+E)/2;if(e.arc(a,r,h,k,M),e.arc(a,r,h,M,E),v>0){let q=ai(S,E,a,r);e.arc(q.x,q.y,v,E,x+it)}let R=ai(I,x,a,r);if(e.lineTo(R.x,R.y),w>0){let q=ai(I,N,a,r);e.arc(q.x,q.y,w,x+it,N+Math.PI)}let V=(x-w/d+(b+_/d))/2;if(e.arc(a,r,d,x-w/d,V,!0),e.arc(a,r,d,V,b+_/d,!0),_>0){let q=ai(C,j,a,r);e.arc(q.x,q.y,_,j+Math.PI,b-it)}let Q=ai(P,b,a,r);if(e.lineTo(Q.x,Q.y),y>0){let q=ai(P,k,a,r);e.arc(q.x,q.y,y,b-it,k)}}else{e.moveTo(a,r);let M=Math.cos(k)*h+a,R=Math.sin(k)*h+r;e.lineTo(M,R);let V=Math.cos(E)*h+a,Q=Math.sin(E)*h+r;e.lineTo(V,Q)}e.closePath()}function vg(e,i,t,n,s){let{fullCircles:o,startAngle:a,circumference:r}=i,c=i.endAngle;if(o){vs(e,i,t,n,c,s);for(let l=0;l<o;++l)e.fill();isNaN(r)||(c=a+(r%J||J))}return vs(e,i,t,n,c,s),e.fill(),c}function wg(e,i,t,n,s){let{fullCircles:o,startAngle:a,circumference:r,options:c}=i,{borderWidth:l,borderJoinStyle:f,borderDash:h,borderDashOffset:d}=c,u=c.borderAlign==="inner";if(!l)return;e.setLineDash(h||[]),e.lineDashOffset=d,u?(e.lineWidth=l*2,e.lineJoin=f||"round"):(e.lineWidth=l,e.lineJoin=f||"bevel");let p=i.endAngle;if(o){vs(e,i,t,n,p,s);for(let g=0;g<o;++g)e.stroke();isNaN(r)||(p=a+(r%J||J))}u&&xg(e,i,p),o||(vs(e,i,t,n,p,s),e.stroke())}var ua=class extends Et{static id="arc";static defaults={borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0};static defaultRoutes={backgroundColor:"backgroundColor"};static descriptors={_scriptable:!0,_indexable:i=>i!=="borderDash"};circumference;endAngle;fullCircles;innerRadius;outerRadius;pixelMargin;startAngle;constructor(i){super(),this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,i&&Object.assign(this,i)}inRange(i,t,n){let s=this.getProps(["x","y"],n),{angle:o,distance:a}=jn(s,{x:i,y:t}),{startAngle:r,endAngle:c,innerRadius:l,outerRadius:f,circumference:h}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],n),d=(this.options.spacing+this.options.borderWidth)/2,p=z(h,c-r)>=J||Fe(o,r,c),g=jt(a,l+d,f+d);return p&&g}getCenterPoint(i){let{x:t,y:n,startAngle:s,endAngle:o,innerRadius:a,outerRadius:r}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],i),{offset:c,spacing:l}=this.options,f=(s+o)/2,h=(a+r+l+c)/2;return{x:t+Math.cos(f)*h,y:n+Math.sin(f)*h}}tooltipPosition(i){return this.getCenterPoint(i)}draw(i){let{options:t,circumference:n}=this,s=(t.offset||0)/4,o=(t.spacing||0)/2,a=t.circular;if(this.pixelMargin=t.borderAlign==="inner"?.33:0,this.fullCircles=n>J?Math.floor(n/J):0,n===0||this.innerRadius<0||this.outerRadius<0)return;i.save();let r=(this.startAngle+this.endAngle)/2;i.translate(Math.cos(r)*s,Math.sin(r)*s);let c=1-Math.sin(Math.min(Z,n||0)),l=s*c;i.fillStyle=t.backgroundColor,i.strokeStyle=t.borderColor,vg(i,this,l,o,a),wg(i,this,l,o,a),i.restore()}};function kf(e,i,t=i){e.lineCap=z(t.borderCapStyle,i.borderCapStyle),e.setLineDash(z(t.borderDash,i.borderDash)),e.lineDashOffset=z(t.borderDashOffset,i.borderDashOffset),e.lineJoin=z(t.borderJoinStyle,i.borderJoinStyle),e.lineWidth=z(t.borderWidth,i.borderWidth),e.strokeStyle=z(t.borderColor,i.borderColor)}function Mg(e,i,t){e.lineTo(t.x,t.y)}function Sg(e){return e.stepped?Bo:e.tension||e.cubicInterpolationMode==="monotone"?Fo:Mg}function Cf(e,i,t={}){let n=e.length,{start:s=0,end:o=n-1}=t,{start:a,end:r}=i,c=Math.max(s,a),l=Math.min(o,r),f=s<a&&o<a||s>r&&o>r;return{count:n,start:c,loop:i.loop,ilen:l<c&&!f?n+l-c:l-c}}function Pg(e,i,t,n){let{points:s,options:o}=i,{count:a,start:r,loop:c,ilen:l}=Cf(s,t,n),f=Sg(o),{move:h=!0,reverse:d}=n||{},u,p,g;for(u=0;u<=l;++u)p=s[(r+(d?l-u:u))%a],!p.skip&&(h?(e.moveTo(p.x,p.y),h=!1):f(e,g,p,d,o.stepped),g=p);return c&&(p=s[(r+(d?l:0))%a],f(e,g,p,d,o.stepped)),!!c}function kg(e,i,t,n){let s=i.points,{count:o,start:a,ilen:r}=Cf(s,t,n),{move:c=!0,reverse:l}=n||{},f=0,h=0,d,u,p,g,m,b,x=v=>(a+(l?r-v:v))%o,y=()=>{g!==m&&(e.lineTo(f,m),e.lineTo(f,g),e.lineTo(f,b))};for(c&&(u=s[x(0)],e.moveTo(u.x,u.y)),d=0;d<=r;++d){if(u=s[x(d)],u.skip)continue;let v=u.x,_=u.y,w=v|0;w===p?(_<g?g=_:_>m&&(m=_),f=(h*f+v)/++h):(y(),e.lineTo(v,_),p=w,h=0,g=m=_),b=_}y()}function pa(e){let i=e.options,t=i.borderDash&&i.borderDash.length;return!e._decimated&&!e._loop&&!i.tension&&i.cubicInterpolationMode!=="monotone"&&!i.stepped&&!t?kg:Pg}function Cg(e){return e.stepped?Go:e.tension||e.cubicInterpolationMode==="monotone"?qo:ae}function Ag(e,i,t,n){let s=i._path;s||(s=i._path=new Path2D,i.path(s,t,n)&&s.closePath()),kf(e,i.options),e.stroke(s)}function Eg(e,i,t,n){let{segments:s,options:o}=i,a=pa(i);for(let r of s)kf(e,o,r.style),e.beginPath(),a(e,i,r,{start:t,end:t+n-1})&&e.closePath(),e.stroke()}var Dg=typeof Path2D=="function";function Rg(e,i,t,n){Dg&&!i.options.segment?Ag(e,i,t,n):Eg(e,i,t,n)}var Ss=(()=>{class e extends Et{static id="line";static defaults={borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};static descriptors={_scriptable:!0,_indexable:t=>t!=="borderDash"&&t!=="fill"};constructor(t){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,t&&Object.assign(this,t)}updateControlPoints(t,n){let s=this.options;if((s.tension||s.cubicInterpolationMode==="monotone")&&!s.stepped&&!this._pointsUpdated){let o=s.spanGaps?this._loop:this._fullLoop;Wo(this._points,s,t,o,n),this._pointsUpdated=!0}}set points(t){this._points=t,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=Yo(this,this.options.segment))}first(){let t=this.segments,n=this.points;return t.length&&n[t[0].start]}last(){let t=this.segments,n=this.points,s=t.length;return s&&n[t[s-1].end]}interpolate(t,n){let s=this.options,o=t[n],a=this.points,r=cs(this,{property:n,start:o,end:o});if(!r.length)return;let c=[],l=Cg(s),f,h;for(f=0,h=r.length;f<h;++f){let{start:d,end:u}=r[f],p=a[d],g=a[u];if(p===g){c.push(p);continue}let m=Math.abs((o-p[n])/(g[n]-p[n])),b=l(p,g,m,s.stepped);b[n]=t[n],c.push(b)}return c.length===1?c[0]:c}pathSegment(t,n,s){return pa(this)(t,this,n,s)}path(t,n,s){let o=this.segments,a=pa(this),r=this._loop;n=n||0,s=s||this.points.length-n;for(let c of o)r&=a(t,this,c,{start:n,end:n+s-1});return!!r}draw(t,n,s,o){let a=this.options||{};(this.points||[]).length&&a.borderWidth&&(t.save(),Rg(t,this,s,o),t.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}return e})();function Wl(e,i,t,n){let s=e.options,{[t]:o}=e.getProps([t],n);return Math.abs(i-o)<s.radius+s.hitRadius}var wa=(()=>{class e extends Et{static id="point";parsed;skip;stop;static defaults={borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};constructor(t){super(),this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,t&&Object.assign(this,t)}inRange(t,n,s){let o=this.options,{x:a,y:r}=this.getProps(["x","y"],s);return Math.pow(t-a,2)+Math.pow(n-r,2)<Math.pow(o.hitRadius+o.radius,2)}inXRange(t,n){return Wl(this,t,"x",n)}inYRange(t,n){return Wl(this,t,"y",n)}getCenterPoint(t){let{x:n,y:s}=this.getProps(["x","y"],t);return{x:n,y:s}}size(t){t=t||this.options||{};let n=t.radius||0;n=Math.max(n,n&&t.hoverRadius||0);let s=n&&t.borderWidth||0;return(n+s)*2}draw(t,n){let s=this.options;this.skip||s.radius<.1||!Nt(this,n,this.size(s)/2)||(t.strokeStyle=s.borderColor,t.lineWidth=s.borderWidth,t.fillStyle=s.backgroundColor,Ve(t,s,this.x,this.y))}getRange(){let t=this.options||{};return t.radius+t.hitRadius}}return e})();function Af(e,i){let{x:t,y:n,base:s,width:o,height:a}=e.getProps(["x","y","base","width","height"],i),r,c,l,f,h;return e.horizontal?(h=a/2,r=Math.min(t,s),c=Math.max(t,s),l=n-h,f=n+h):(h=o/2,r=t-h,c=t+h,l=Math.min(n,s),f=Math.max(n,s)),{left:r,top:l,right:c,bottom:f}}function ke(e,i,t,n){return e?0:at(i,t,n)}function Og(e,i,t){let n=e.options.borderWidth,s=e.borderSkipped,o=Qn(n);return{t:ke(s.top,o.top,0,t),r:ke(s.right,o.right,0,i),b:ke(s.bottom,o.bottom,0,t),l:ke(s.left,o.left,0,i)}}function Tg(e,i,t){let{enableBorderRadius:n}=e.getProps(["enableBorderRadius"]),s=e.options.borderRadius,o=le(s),a=Math.min(i,t),r=e.borderSkipped,c=n||W(s);return{topLeft:ke(!c||r.top||r.left,o.topLeft,0,a),topRight:ke(!c||r.top||r.right,o.topRight,0,a),bottomLeft:ke(!c||r.bottom||r.left,o.bottomLeft,0,a),bottomRight:ke(!c||r.bottom||r.right,o.bottomRight,0,a)}}function Lg(e){let i=Af(e),t=i.right-i.left,n=i.bottom-i.top,s=Og(e,t/2,n/2),o=Tg(e,t/2,n/2);return{outer:{x:i.left,y:i.top,w:t,h:n,radius:o},inner:{x:i.left+s.l,y:i.top+s.t,w:t-s.l-s.r,h:n-s.t-s.b,radius:{topLeft:Math.max(0,o.topLeft-Math.max(s.t,s.l)),topRight:Math.max(0,o.topRight-Math.max(s.t,s.r)),bottomLeft:Math.max(0,o.bottomLeft-Math.max(s.b,s.l)),bottomRight:Math.max(0,o.bottomRight-Math.max(s.b,s.r))}}}}function ta(e,i,t,n){let s=i===null,o=t===null,r=e&&!(s&&o)&&Af(e,n);return r&&(s||jt(i,r.left,r.right))&&(o||jt(t,r.top,r.bottom))}function Ig(e){return e.topLeft||e.topRight||e.bottomLeft||e.bottomRight}function zg(e,i){e.rect(i.x,i.y,i.w,i.h)}function ea(e,i,t={}){let n=e.x!==t.x?-i:0,s=e.y!==t.y?-i:0,o=(e.x+e.w!==t.x+t.w?i:0)-n,a=(e.y+e.h!==t.y+t.h?i:0)-s;return{x:e.x+n,y:e.y+s,w:e.w+o,h:e.h+a,radius:e.radius}}var ci=class extends Et{static id="bar";static defaults={borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};constructor(i){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,i&&Object.assign(this,i)}draw(i){let{inflateAmount:t,options:{borderColor:n,backgroundColor:s}}=this,{inner:o,outer:a}=Lg(this),r=Ig(a.radius)?je:zg;i.save(),(a.w!==o.w||a.h!==o.h)&&(i.beginPath(),r(i,ea(a,t,o)),i.clip(),r(i,ea(o,-t,a)),i.fillStyle=n,i.fill("evenodd")),i.beginPath(),r(i,ea(o,t)),i.fillStyle=s,i.fill(),i.restore()}inRange(i,t,n){return ta(this,i,t,n)}inXRange(i,t){return ta(this,i,null,t)}inYRange(i,t){return ta(this,null,i,t)}getCenterPoint(i){let{x:t,y:n,base:s,horizontal:o}=this.getProps(["x","y","base","horizontal"],i);return{x:o?(t+s)/2:t,y:o?n:(n+s)/2}}getRange(i){return i==="x"?this.width/2:this.height/2}},Bg=Object.freeze({__proto__:null,ArcElement:ua,BarElement:ci,LineElement:Ss,PointElement:wa}),ga=["rgb(54, 162, 235)","rgb(255, 99, 132)","rgb(255, 159, 64)","rgb(255, 205, 86)","rgb(75, 192, 192)","rgb(153, 102, 255)","rgb(201, 203, 207)"],Hl=ga.map(e=>e.replace("rgb(","rgba(").replace(")",", 0.5)"));function Ef(e){return ga[e%ga.length]}function Df(e){return Hl[e%Hl.length]}function Fg(e,i){return e.borderColor=Ef(i),e.backgroundColor=Df(i),++i}function Ng(e,i){return e.backgroundColor=e.data.map(()=>Ef(i++)),i}function Vg(e,i){return e.backgroundColor=e.data.map(()=>Df(i++)),i}function jg(e){let i=0;return(t,n)=>{let s=e.getDatasetMeta(n).controller;s instanceof va?i=Ng(t,i):s instanceof bf?i=Vg(t,i):s&&(i=Fg(t,i))}}function $l(e){let i;for(i in e)if(e[i].borderColor||e[i].backgroundColor)return!0;return!1}function Wg(e){return e&&(e.borderColor||e.backgroundColor)}var Hg={id:"colors",defaults:{enabled:!0,forceOverride:!1},beforeLayout(e,i,t){if(!t.enabled)return;let{data:{datasets:n},options:s}=e.config,{elements:o}=s;if(!t.forceOverride&&($l(n)||Wg(s)||o&&$l(o)))return;let a=jg(e);n.forEach(a)}};function $g(e,i,t,n,s){let o=s.samples||n;if(o>=t)return e.slice(i,i+t);let a=[],r=(t-2)/(o-2),c=0,l=i+t-1,f=i,h,d,u,p,g;for(a[c++]=e[f],h=0;h<o-2;h++){let m=0,b=0,x,y=Math.floor((h+1)*r)+1+i,v=Math.min(Math.floor((h+2)*r)+1,t)+i,_=v-y;for(x=y;x<v;x++)m+=e[x].x,b+=e[x].y;m/=_,b/=_;let w=Math.floor(h*r)+1+i,P=Math.min(Math.floor((h+1)*r)+1,t)+i,{x:S,y:k}=e[f];for(u=p=-1,x=w;x<P;x++)p=.5*Math.abs((S-m)*(e[x].y-k)-(S-e[x].x)*(b-k)),p>u&&(u=p,d=e[x],g=x);a[c++]=d,f=g}return a[c++]=e[l],a}function Gg(e,i,t,n){let s=0,o=0,a,r,c,l,f,h,d,u,p,g,m=[],b=i+t-1,x=e[i].x,v=e[b].x-x;for(a=i;a<i+t;++a){r=e[a],c=(r.x-x)/v*n,l=r.y;let _=c|0;if(_===f)l<p?(p=l,h=a):l>g&&(g=l,d=a),s=(o*s+r.x)/++o;else{let w=a-1;if(!$(h)&&!$(d)){let P=Math.min(h,d),S=Math.max(h,d);P!==u&&P!==w&&m.push(Bt(Ct({},e[P]),{x:s})),S!==u&&S!==w&&m.push(Bt(Ct({},e[S]),{x:s}))}a>0&&w!==u&&m.push(e[w]),m.push(r),f=_,o=0,p=g=l,h=d=u=a}}return m}function Rf(e){if(e._decimated){let i=e._data;delete e._decimated,delete e._data,Object.defineProperty(e,"data",{configurable:!0,enumerable:!0,writable:!0,value:i})}}function Gl(e){e.data.datasets.forEach(i=>{Rf(i)})}function qg(e,i){let t=i.length,n=0,s,{iScale:o}=e,{min:a,max:r,minDefined:c,maxDefined:l}=o.getUserBounds();return c&&(n=at(Ft(i,o.axis,a).lo,0,t-1)),l?s=at(Ft(i,o.axis,r).hi+1,n,t)-n:s=t-n,{start:n,count:s}}var Yg={id:"decimation",defaults:{algorithm:"min-max",enabled:!1},beforeElementsUpdate:(e,i,t)=>{if(!t.enabled){Gl(e);return}let n=e.width;e.data.datasets.forEach((s,o)=>{let{_data:a,indexAxis:r}=s,c=e.getDatasetMeta(o),l=a||s.data;if(We([r,e.options.indexAxis])==="y"||!c.controller.supportsDecimation)return;let f=e.scales[c.xAxisID];if(f.type!=="linear"&&f.type!=="time"||e.options.parsing)return;let{start:h,count:d}=qg(c,l),u=t.threshold||4*n;if(d<=u){Rf(s);return}$(a)&&(s._data=l,delete s.data,Object.defineProperty(s,"data",{configurable:!0,enumerable:!0,get:function(){return this._decimated},set:function(g){this._data=g}}));let p;switch(t.algorithm){case"lttb":p=$g(l,h,d,n,t);break;case"min-max":p=Gg(l,h,d,n);break;default:throw new Error(`Unsupported decimation algorithm '${t.algorithm}'`)}s._decimated=p})},destroy(e){Gl(e)}};function Ug(e,i,t){let n=e.segments,s=e.points,o=i.points,a=[];for(let r of n){let{start:c,end:l}=r;l=Ma(c,l,s);let f=ma(t,s[c],s[l],r.loop);if(!i.segments){a.push({source:r,target:f,start:s[c],end:s[l]});continue}let h=cs(i,f);for(let d of h){let u=ma(t,o[d.start],o[d.end],d.loop),p=rs(r,s,u);for(let g of p)a.push({source:g,target:d,start:{[t]:ql(f,u,"start",Math.max)},end:{[t]:ql(f,u,"end",Math.min)}})}}return a}function ma(e,i,t,n){if(n)return;let s=i[e],o=t[e];return e==="angle"&&(s=yt(s),o=yt(o)),{property:e,start:s,end:o}}function Xg(e,i){let{x:t=null,y:n=null}=e||{},s=i.points,o=[];return i.segments.forEach(({start:a,end:r})=>{r=Ma(a,r,s);let c=s[a],l=s[r];n!==null?(o.push({x:c.x,y:n}),o.push({x:l.x,y:n})):t!==null&&(o.push({x:t,y:c.y}),o.push({x:t,y:l.y}))}),o}function Ma(e,i,t){for(;i>e;i--){let n=t[i];if(!isNaN(n.x)&&!isNaN(n.y))break}return i}function ql(e,i,t,n){return e&&i?n(e[t],i[t]):e?e[t]:i?i[t]:0}function Of(e,i){let t=[],n=!1;return K(e)?(n=!0,t=e):t=Xg(e,i),t.length?new Ss({points:t,options:{tension:0},_loop:n,_fullLoop:n}):null}function Yl(e){return e&&e.fill!==!1}function Kg(e,i,t){let s=e[i].fill,o=[i],a;if(!t)return s;for(;s!==!1&&o.indexOf(s)===-1;){if(!et(s))return s;if(a=e[s],!a)return!1;if(a.visible)return s;o.push(s),s=a.fill}return!1}function Zg(e,i,t){let n=e0(e);if(W(n))return isNaN(n.value)?!1:n;let s=parseFloat(n);return et(s)&&Math.floor(s)===s?Jg(n[0],i,s,t):["origin","start","end","stack","shape"].indexOf(n)>=0&&n}function Jg(e,i,t,n){return(e==="-"||e==="+")&&(t=i+t),t===i||t<0||t>=n?!1:t}function Qg(e,i){let t=null;return e==="start"?t=i.bottom:e==="end"?t=i.top:W(e)?t=i.getPixelForValue(e.value):i.getBasePixel&&(t=i.getBasePixel()),t}function t0(e,i,t){let n;return e==="start"?n=t:e==="end"?n=i.options.reverse?i.min:i.max:W(e)?n=e.value:n=i.getBaseValue(),n}function e0(e){let i=e.options,t=i.fill,n=z(t&&t.target,t);return n===void 0&&(n=!!i.backgroundColor),n===!1||n===null?!1:n===!0?"origin":n}function i0(e){let{scale:i,index:t,line:n}=e,s=[],o=n.segments,a=n.points,r=n0(i,t);r.push(Of({x:null,y:i.bottom},n));for(let c=0;c<o.length;c++){let l=o[c];for(let f=l.start;f<=l.end;f++)s0(s,a[f],r)}return new Ss({points:s,options:{}})}function n0(e,i){let t=[],n=e.getMatchingVisibleMetas("line");for(let s=0;s<n.length;s++){let o=n[s];if(o.index===i)break;o.hidden||t.unshift(o.dataset)}return t}function s0(e,i,t){let n=[];for(let s=0;s<t.length;s++){let o=t[s],{first:a,last:r,point:c}=o0(o,i,"x");if(!(!c||a&&r)){if(a)n.unshift(c);else if(e.push(c),!r)break}}e.push(...n)}function o0(e,i,t){let n=e.interpolate(i,t);if(!n)return{};let s=n[t],o=e.segments,a=e.points,r=!1,c=!1;for(let l=0;l<o.length;l++){let f=o[l],h=a[f.start][t],d=a[f.end][t];if(jt(s,h,d)){r=s===h,c=s===d;break}}return{first:r,last:c,point:n}}var ws=class{constructor(i){this.x=i.x,this.y=i.y,this.radius=i.radius}pathSegment(i,t,n){let{x:s,y:o,radius:a}=this;return t=t||{start:0,end:J},i.arc(s,o,a,t.end,t.start,!0),!n.bounds}interpolate(i){let{x:t,y:n,radius:s}=this,o=i.angle;return{x:t+Math.cos(o)*s,y:n+Math.sin(o)*s,angle:o}}};function a0(e){let{chart:i,fill:t,line:n}=e;if(et(t))return r0(i,t);if(t==="stack")return i0(e);if(t==="shape")return!0;let s=c0(e);return s instanceof ws?s:Of(s,n)}function r0(e,i){let t=e.getDatasetMeta(i);return t&&e.isDatasetVisible(i)?t.dataset:null}function c0(e){return(e.scale||{}).getPointPositionForValue?f0(e):l0(e)}function l0(e){let{scale:i={},fill:t}=e,n=Qg(t,i);if(et(n)){let s=i.isHorizontal();return{x:s?n:null,y:s?null:n}}return null}function f0(e){let{scale:i,fill:t}=e,n=i.options,s=i.getLabels().length,o=n.reverse?i.max:i.min,a=t0(t,i,o),r=[];if(n.grid.circular){let c=i.getPointPositionForValue(0,o);return new ws({x:c.x,y:c.y,radius:i.getDistanceFromCenterForValue(a)})}for(let c=0;c<s;++c)r.push(i.getPointPositionForValue(c,a));return r}function ia(e,i,t){let n=a0(i),{line:s,scale:o,axis:a}=i,r=s.options,c=r.fill,l=r.backgroundColor,{above:f=l,below:h=l}=c||{};n&&s.points.length&&(Ut(e,t),h0(e,{line:s,target:n,above:f,below:h,area:t,scale:o,axis:a}),Xt(e))}function h0(e,i){let{line:t,target:n,above:s,below:o,area:a,scale:r}=i,c=t._loop?"angle":i.axis;e.save(),c==="x"&&o!==s&&(Ul(e,n,a.top),Xl(e,{line:t,target:n,color:s,scale:r,property:c}),e.restore(),e.save(),Ul(e,n,a.bottom)),Xl(e,{line:t,target:n,color:o,scale:r,property:c}),e.restore()}function Ul(e,i,t){let{segments:n,points:s}=i,o=!0,a=!1;e.beginPath();for(let r of n){let{start:c,end:l}=r,f=s[c],h=s[Ma(c,l,s)];o?(e.moveTo(f.x,f.y),o=!1):(e.lineTo(f.x,t),e.lineTo(f.x,f.y)),a=!!i.pathSegment(e,r,{move:a}),a?e.closePath():e.lineTo(h.x,t)}e.lineTo(i.first().x,t),e.closePath(),e.clip()}function Xl(e,i){let{line:t,target:n,property:s,color:o,scale:a}=i,r=Ug(t,n,s);for(let{source:c,target:l,start:f,end:h}of r){let{style:{backgroundColor:d=o}={}}=c,u=n!==!0;e.save(),e.fillStyle=d,d0(e,a,u&&ma(s,f,h)),e.beginPath();let p=!!t.pathSegment(e,c),g;if(u){p?e.closePath():Kl(e,n,h,s);let m=!!n.pathSegment(e,l,{move:p,reverse:!0});g=p&&m,g||Kl(e,n,f,s)}e.closePath(),e.fill(g?"evenodd":"nonzero"),e.restore()}}function d0(e,i,t){let{top:n,bottom:s}=i.chart.chartArea,{property:o,start:a,end:r}=t||{};o==="x"&&(e.beginPath(),e.rect(a,n,r-a,s-n),e.clip())}function Kl(e,i,t,n){let s=i.interpolate(t,n);s&&e.lineTo(s.x,s.y)}var u0={id:"filler",afterDatasetsUpdate(e,i,t){let n=(e.data.datasets||[]).length,s=[],o,a,r,c;for(a=0;a<n;++a)o=e.getDatasetMeta(a),r=o.dataset,c=null,r&&r.options&&r instanceof Ss&&(c={visible:e.isDatasetVisible(a),index:a,fill:Zg(r,a,n),chart:e,axis:o.controller.options.indexAxis,scale:o.vScale,line:r}),o.$filler=c,s.push(c);for(a=0;a<n;++a)c=s[a],!(!c||c.fill===!1)&&(c.fill=Kg(s,a,t.propagate))},beforeDraw(e,i,t){let n=t.drawTime==="beforeDraw",s=e.getSortedVisibleDatasetMetas(),o=e.chartArea;for(let a=s.length-1;a>=0;--a){let r=s[a].$filler;r&&(r.line.updateControlPoints(o,r.axis),n&&r.fill&&ia(e.ctx,r,o))}},beforeDatasetsDraw(e,i,t){if(t.drawTime!=="beforeDatasetsDraw")return;let n=e.getSortedVisibleDatasetMetas();for(let s=n.length-1;s>=0;--s){let o=n[s].$filler;Yl(o)&&ia(e.ctx,o,e.chartArea)}},beforeDatasetDraw(e,i,t){let n=i.meta.$filler;!Yl(n)||t.drawTime!=="beforeDatasetDraw"||ia(e.ctx,n,e.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}},Zl=(e,i)=>{let{boxHeight:t=i,boxWidth:n=i}=e;return e.usePointStyle&&(t=Math.min(t,i),n=e.pointStyleWidth||Math.min(n,i)),{boxWidth:n,boxHeight:t,itemHeight:Math.max(i,t)}},p0=(e,i)=>e!==null&&i!==null&&e.datasetIndex===i.datasetIndex&&e.index===i.index,Ms=class extends Et{constructor(i){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=i.chart,this.options=i.options,this.ctx=i.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(i,t,n){this.maxWidth=i,this.maxHeight=t,this._margins=n,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){let i=this.options.labels||{},t=Y(i.generateLabels,[this.chart],this)||[];i.filter&&(t=t.filter(n=>i.filter(n,this.chart.data))),i.sort&&(t=t.sort((n,s)=>i.sort(n,s,this.chart.data))),this.options.reverse&&t.reverse(),this.legendItems=t}fit(){let{options:i,ctx:t}=this;if(!i.display){this.width=this.height=0;return}let n=i.labels,s=ot(n.font),o=s.size,a=this._computeTitleHeight(),{boxWidth:r,itemHeight:c}=Zl(n,o),l,f;t.font=s.string,this.isHorizontal()?(l=this.maxWidth,f=this._fitRows(a,o,r,c)+10):(f=this.maxHeight,l=this._fitCols(a,s,r,c)+10),this.width=Math.min(l,i.maxWidth||this.maxWidth),this.height=Math.min(f,i.maxHeight||this.maxHeight)}_fitRows(i,t,n,s){let{ctx:o,maxWidth:a,options:{labels:{padding:r}}}=this,c=this.legendHitBoxes=[],l=this.lineWidths=[0],f=s+r,h=i;o.textAlign="left",o.textBaseline="middle";let d=-1,u=-f;return this.legendItems.forEach((p,g)=>{let m=n+t/2+o.measureText(p.text).width;(g===0||l[l.length-1]+m+2*r>a)&&(h+=f,l[l.length-(g>0?0:1)]=0,u+=f,d++),c[g]={left:0,top:u,row:d,width:m,height:s},l[l.length-1]+=m+r}),h}_fitCols(i,t,n,s){let{ctx:o,maxHeight:a,options:{labels:{padding:r}}}=this,c=this.legendHitBoxes=[],l=this.columnSizes=[],f=a-i,h=r,d=0,u=0,p=0,g=0;return this.legendItems.forEach((m,b)=>{let{itemWidth:x,itemHeight:y}=g0(n,t,o,m,s);b>0&&u+y+2*r>f&&(h+=d+r,l.push({width:d,height:u}),p+=d+r,g++,d=u=0),c[b]={left:p,top:u,col:g,width:x,height:y},d=Math.max(d,x),u+=y+r}),h+=d,l.push({width:d,height:u}),h}adjustHitBoxes(){if(!this.options.display)return;let i=this._computeTitleHeight(),{legendHitBoxes:t,options:{align:n,labels:{padding:s},rtl:o}}=this,a=Pe(o,this.left,this.width);if(this.isHorizontal()){let r=0,c=ft(n,this.left+s,this.right-this.lineWidths[r]);for(let l of t)r!==l.row&&(r=l.row,c=ft(n,this.left+s,this.right-this.lineWidths[r])),l.top+=this.top+i+s,l.left=a.leftForLtr(a.x(c),l.width),c+=l.width+s}else{let r=0,c=ft(n,this.top+i+s,this.bottom-this.columnSizes[r].height);for(let l of t)l.col!==r&&(r=l.col,c=ft(n,this.top+i+s,this.bottom-this.columnSizes[r].height)),l.top=c,l.left+=this.left+s,l.left=a.leftForLtr(a.x(l.left),l.width),c+=l.height+s}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){let i=this.ctx;Ut(i,this),this._draw(),Xt(i)}}_draw(){let{options:i,columnSizes:t,lineWidths:n,ctx:s}=this,{align:o,labels:a}=i,r=nt.color,c=Pe(i.rtl,this.left,this.width),l=ot(a.font),{padding:f}=a,h=l.size,d=h/2,u;this.drawTitle(),s.textAlign=c.textAlign("left"),s.textBaseline="middle",s.lineWidth=.5,s.font=l.string;let{boxWidth:p,boxHeight:g,itemHeight:m}=Zl(a,h),b=function(w,P,S){if(isNaN(p)||p<=0||isNaN(g)||g<0)return;s.save();let k=z(S.lineWidth,1);if(s.fillStyle=z(S.fillStyle,r),s.lineCap=z(S.lineCap,"butt"),s.lineDashOffset=z(S.lineDashOffset,0),s.lineJoin=z(S.lineJoin,"miter"),s.lineWidth=k,s.strokeStyle=z(S.strokeStyle,r),s.setLineDash(z(S.lineDash,[])),a.usePointStyle){let E={radius:g*Math.SQRT2/2,pointStyle:S.pointStyle,rotation:S.rotation,borderWidth:k},C=c.xPlus(w,p/2),I=P+d;Jn(s,E,C,I,a.pointStyleWidth&&p)}else{let E=P+Math.max((h-g)/2,0),C=c.leftForLtr(w,p),I=le(S.borderRadius);s.beginPath(),Object.values(I).some(j=>j!==0)?je(s,{x:C,y:E,w:p,h:g,radius:I}):s.rect(C,E,p,g),s.fill(),k!==0&&s.stroke()}s.restore()},x=function(w,P,S){ce(s,S.text,w,P+m/2,l,{strikethrough:S.hidden,textAlign:c.textAlign(S.textAlign)})},y=this.isHorizontal(),v=this._computeTitleHeight();y?u={x:ft(o,this.left+f,this.right-n[0]),y:this.top+f+v,line:0}:u={x:this.left+f,y:ft(o,this.top+v+f,this.bottom-t[0].height),line:0},os(this.ctx,i.textDirection);let _=m+f;this.legendItems.forEach((w,P)=>{s.strokeStyle=w.fontColor,s.fillStyle=w.fontColor;let S=s.measureText(w.text).width,k=c.textAlign(w.textAlign||(w.textAlign=a.textAlign)),E=p+d+S,C=u.x,I=u.y;c.setWidth(this.width),y?P>0&&C+E+f>this.right&&(I=u.y+=_,u.line++,C=u.x=ft(o,this.left+f,this.right-n[u.line])):P>0&&I+_>this.bottom&&(C=u.x=C+t[u.line].width+f,u.line++,I=u.y=ft(o,this.top+v+f,this.bottom-t[u.line].height));let j=c.x(C);if(b(j,I,w),C=Io(k,C+p+d,y?C+E:this.right,i.rtl),x(c.x(C),I,w),y)u.x+=E+f;else if(typeof w.text!="string"){let N=l.lineHeight;u.y+=Tf(w,N)+f}else u.y+=_}),as(this.ctx,i.textDirection)}drawTitle(){let i=this.options,t=i.title,n=ot(t.font),s=ht(t.padding);if(!t.display)return;let o=Pe(i.rtl,this.left,this.width),a=this.ctx,r=t.position,c=n.size/2,l=s.top+c,f,h=this.left,d=this.width;if(this.isHorizontal())d=Math.max(...this.lineWidths),f=this.top+l,h=ft(i.align,h,this.right-d);else{let p=this.columnSizes.reduce((g,m)=>Math.max(g,m.height),0);f=l+ft(i.align,this.top,this.bottom-p-i.labels.padding-this._computeTitleHeight())}let u=ft(r,h,h+d);a.textAlign=o.textAlign(Ii(r)),a.textBaseline="middle",a.strokeStyle=t.color,a.fillStyle=t.color,a.font=n.string,ce(a,t.text,u,f,n)}_computeTitleHeight(){let i=this.options.title,t=ot(i.font),n=ht(i.padding);return i.display?t.lineHeight+n.height:0}_getLegendItemAt(i,t){let n,s,o;if(jt(i,this.left,this.right)&&jt(t,this.top,this.bottom)){for(o=this.legendHitBoxes,n=0;n<o.length;++n)if(s=o[n],jt(i,s.left,s.left+s.width)&&jt(t,s.top,s.top+s.height))return this.legendItems[n]}return null}handleEvent(i){let t=this.options;if(!x0(i.type,t))return;let n=this._getLegendItemAt(i.x,i.y);if(i.type==="mousemove"||i.type==="mouseout"){let s=this._hoveredItem,o=p0(s,n);s&&!o&&Y(t.onLeave,[i,s,this],this),this._hoveredItem=n,n&&!o&&Y(t.onHover,[i,n,this],this)}else n&&Y(t.onClick,[i,n,this],this)}};function g0(e,i,t,n,s){let o=m0(n,e,i,t),a=b0(s,n,i.lineHeight);return{itemWidth:o,itemHeight:a}}function m0(e,i,t,n){let s=e.text;return s&&typeof s!="string"&&(s=s.reduce((o,a)=>o.length>a.length?o:a)),i+t.size/2+n.measureText(s).width}function b0(e,i,t){let n=e;return typeof i.text!="string"&&(n=Tf(i,t)),n}function Tf(e,i){let t=e.text?e.text.length:0;return i*t}function x0(e,i){return!!((e==="mousemove"||e==="mouseout")&&(i.onHover||i.onLeave)||i.onClick&&(e==="click"||e==="mouseup"))}var y0={id:"legend",_element:Ms,start(e,i,t){let n=e.legend=new Ms({ctx:e.ctx,options:t,chart:e});mt.configure(e,n,t),mt.addBox(e,n)},stop(e){mt.removeBox(e,e.legend),delete e.legend},beforeUpdate(e,i,t){let n=e.legend;mt.configure(e,n,t),n.options=t},afterUpdate(e){let i=e.legend;i.buildLabels(),i.adjustHitBoxes()},afterEvent(e,i){i.replay||e.legend.handleEvent(i.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(e,i,t){let n=i.datasetIndex,s=t.chart;s.isDatasetVisible(n)?(s.hide(n),i.hidden=!0):(s.show(n),i.hidden=!1)},onHover:null,onLeave:null,labels:{color:e=>e.chart.options.color,boxWidth:40,padding:10,generateLabels(e){let i=e.data.datasets,{labels:{usePointStyle:t,pointStyle:n,textAlign:s,color:o,useBorderRadius:a,borderRadius:r}}=e.legend.options;return e._getSortedDatasetMetas().map(c=>{let l=c.controller.getStyle(t?0:void 0),f=ht(l.borderWidth);return{text:i[c.index].label,fillStyle:l.backgroundColor,fontColor:o,hidden:!c.visible,lineCap:l.borderCapStyle,lineDash:l.borderDash,lineDashOffset:l.borderDashOffset,lineJoin:l.borderJoinStyle,lineWidth:(f.width+f.height)/4,strokeStyle:l.borderColor,pointStyle:n||l.pointStyle,rotation:l.rotation,textAlign:s||l.textAlign,borderRadius:a&&(r||l.borderRadius),datasetIndex:c.index}},this)}},title:{color:e=>e.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:e=>!e.startsWith("on"),labels:{_scriptable:e=>!["generateLabels","filter","sort"].includes(e)}}},Xi=class extends Et{constructor(i){super(),this.chart=i.chart,this.options=i.options,this.ctx=i.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(i,t){let n=this.options;if(this.left=0,this.top=0,!n.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=i,this.height=this.bottom=t;let s=K(n.text)?n.text.length:1;this._padding=ht(n.padding);let o=s*ot(n.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=o:this.width=o}isHorizontal(){let i=this.options.position;return i==="top"||i==="bottom"}_drawArgs(i){let{top:t,left:n,bottom:s,right:o,options:a}=this,r=a.align,c=0,l,f,h;return this.isHorizontal()?(f=ft(r,n,o),h=t+i,l=o-n):(a.position==="left"?(f=n+i,h=ft(r,s,t),c=Z*-.5):(f=o-i,h=ft(r,t,s),c=Z*.5),l=s-t),{titleX:f,titleY:h,maxWidth:l,rotation:c}}draw(){let i=this.ctx,t=this.options;if(!t.display)return;let n=ot(t.font),o=n.lineHeight/2+this._padding.top,{titleX:a,titleY:r,maxWidth:c,rotation:l}=this._drawArgs(o);ce(i,t.text,0,0,n,{color:t.color,maxWidth:c,rotation:l,textAlign:Ii(t.align),textBaseline:"middle",translation:[a,r]})}};function _0(e,i){let t=new Xi({ctx:e.ctx,options:i,chart:e});mt.configure(e,t,i),mt.addBox(e,t),e.titleBlock=t}var v0={id:"title",_element:Xi,start(e,i,t){_0(e,t)},stop(e){let i=e.titleBlock;mt.removeBox(e,i),delete e.titleBlock},beforeUpdate(e,i,t){let n=e.titleBlock;mt.configure(e,n,t),n.options=t},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}},us=new WeakMap,w0={id:"subtitle",start(e,i,t){let n=new Xi({ctx:e.ctx,options:t,chart:e});mt.configure(e,n,t),mt.addBox(e,n),us.set(e,n)},stop(e){mt.removeBox(e,us.get(e)),us.delete(e)},beforeUpdate(e,i,t){let n=us.get(e);mt.configure(e,n,t),n.options=t},defaults:{align:"center",display:!1,font:{weight:"normal"},fullSize:!0,padding:0,position:"top",text:"",weight:1500},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}},Yi={average(e){if(!e.length)return!1;let i,t,n=new Set,s=0,o=0;for(i=0,t=e.length;i<t;++i){let r=e[i].element;if(r&&r.hasValue()){let c=r.tooltipPosition();n.add(c.x),s+=c.y,++o}}return{x:[...n].reduce((r,c)=>r+c)/n.size,y:s/o}},nearest(e,i){if(!e.length)return!1;let t=i.x,n=i.y,s=Number.POSITIVE_INFINITY,o,a,r;for(o=0,a=e.length;o<a;++o){let c=e[o].element;if(c&&c.hasValue()){let l=c.getCenterPoint(),f=Ri(i,l);f<s&&(s=f,r=c)}}if(r){let c=r.tooltipPosition();t=c.x,n=c.y}return{x:t,y:n}}};function Zt(e,i){return i&&(K(i)?Array.prototype.push.apply(e,i):e.push(i)),e}function de(e){return(typeof e=="string"||e instanceof String)&&e.indexOf(`
`)>-1?e.split(`
`):e}function M0(e,i){let{element:t,datasetIndex:n,index:s}=i,o=e.getDatasetMeta(n).controller,{label:a,value:r}=o.getLabelAndValue(s);return{chart:e,label:a,parsed:o.getParsed(s),raw:e.data.datasets[n].data[s],formattedValue:r,dataset:o.getDataset(),dataIndex:s,datasetIndex:n,element:t}}function Jl(e,i){let t=e.chart.ctx,{body:n,footer:s,title:o}=e,{boxWidth:a,boxHeight:r}=i,c=ot(i.bodyFont),l=ot(i.titleFont),f=ot(i.footerFont),h=o.length,d=s.length,u=n.length,p=ht(i.padding),g=p.height,m=0,b=n.reduce((v,_)=>v+_.before.length+_.lines.length+_.after.length,0);if(b+=e.beforeBody.length+e.afterBody.length,h&&(g+=h*l.lineHeight+(h-1)*i.titleSpacing+i.titleMarginBottom),b){let v=i.displayColors?Math.max(r,c.lineHeight):c.lineHeight;g+=u*v+(b-u)*c.lineHeight+(b-1)*i.bodySpacing}d&&(g+=i.footerMarginTop+d*f.lineHeight+(d-1)*i.footerSpacing);let x=0,y=function(v){m=Math.max(m,t.measureText(v).width+x)};return t.save(),t.font=l.string,G(e.title,y),t.font=c.string,G(e.beforeBody.concat(e.afterBody),y),x=i.displayColors?a+2+i.boxPadding:0,G(n,v=>{G(v.before,y),G(v.lines,y),G(v.after,y)}),x=0,t.font=f.string,G(e.footer,y),t.restore(),m+=p.width,{width:m,height:g}}function S0(e,i){let{y:t,height:n}=i;return t<n/2?"top":t>e.height-n/2?"bottom":"center"}function P0(e,i,t,n){let{x:s,width:o}=n,a=t.caretSize+t.caretPadding;if(e==="left"&&s+o+a>i.width||e==="right"&&s-o-a<0)return!0}function k0(e,i,t,n){let{x:s,width:o}=t,{width:a,chartArea:{left:r,right:c}}=e,l="center";return n==="center"?l=s<=(r+c)/2?"left":"right":s<=o/2?l="left":s>=a-o/2&&(l="right"),P0(l,e,i,t)&&(l="center"),l}function Ql(e,i,t){let n=t.yAlign||i.yAlign||S0(e,t);return{xAlign:t.xAlign||i.xAlign||k0(e,i,t,n),yAlign:n}}function C0(e,i){let{x:t,width:n}=e;return i==="right"?t-=n:i==="center"&&(t-=n/2),t}function A0(e,i,t){let{y:n,height:s}=e;return i==="top"?n+=t:i==="bottom"?n-=s+t:n-=s/2,n}function tf(e,i,t,n){let{caretSize:s,caretPadding:o,cornerRadius:a}=e,{xAlign:r,yAlign:c}=t,l=s+o,{topLeft:f,topRight:h,bottomLeft:d,bottomRight:u}=le(a),p=C0(i,r),g=A0(i,c,l);return c==="center"?r==="left"?p+=l:r==="right"&&(p-=l):r==="left"?p-=Math.max(f,d)+s:r==="right"&&(p+=Math.max(h,u)+s),{x:at(p,0,n.width-i.width),y:at(g,0,n.height-i.height)}}function ps(e,i,t){let n=ht(t.padding);return i==="center"?e.x+e.width/2:i==="right"?e.x+e.width-n.right:e.x+n.left}function ef(e){return Zt([],de(e))}function E0(e,i,t){return Kt(e,{tooltip:i,tooltipItems:t,type:"tooltip"})}function nf(e,i){let t=i&&i.dataset&&i.dataset.tooltip&&i.dataset.tooltip.callbacks;return t?e.override(t):e}var Lf={beforeTitle:Vt,title(e){if(e.length>0){let i=e[0],t=i.chart.data.labels,n=t?t.length:0;if(this&&this.options&&this.options.mode==="dataset")return i.dataset.label||"";if(i.label)return i.label;if(n>0&&i.dataIndex<n)return t[i.dataIndex]}return""},afterTitle:Vt,beforeBody:Vt,beforeLabel:Vt,label(e){if(this&&this.options&&this.options.mode==="dataset")return e.label+": "+e.formattedValue||e.formattedValue;let i=e.dataset.label||"";i&&(i+=": ");let t=e.formattedValue;return $(t)||(i+=t),i},labelColor(e){let t=e.chart.getDatasetMeta(e.datasetIndex).controller.getStyle(e.dataIndex);return{borderColor:t.borderColor,backgroundColor:t.backgroundColor,borderWidth:t.borderWidth,borderDash:t.borderDash,borderDashOffset:t.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(e){let t=e.chart.getDatasetMeta(e.datasetIndex).controller.getStyle(e.dataIndex);return{pointStyle:t.pointStyle,rotation:t.rotation}},afterLabel:Vt,afterBody:Vt,beforeFooter:Vt,footer:Vt,afterFooter:Vt};function Pt(e,i,t,n){let s=e[i].call(t,n);return typeof s>"u"?Lf[i].call(t,n):s}var sf=(()=>{class e extends Et{static positioners=Yi;constructor(t){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=t.chart,this.options=t.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(t){this.options=t,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){let t=this._cachedAnimations;if(t)return t;let n=this.chart,s=this.options.setContext(this.getContext()),o=s.enabled&&n.options.animation&&s.animations,a=new xs(this.chart,o);return o._cacheable&&(this._cachedAnimations=Object.freeze(a)),a}getContext(){return this.$context||(this.$context=E0(this.chart.getContext(),this,this._tooltipItems))}getTitle(t,n){let{callbacks:s}=n,o=Pt(s,"beforeTitle",this,t),a=Pt(s,"title",this,t),r=Pt(s,"afterTitle",this,t),c=[];return c=Zt(c,de(o)),c=Zt(c,de(a)),c=Zt(c,de(r)),c}getBeforeBody(t,n){return ef(Pt(n.callbacks,"beforeBody",this,t))}getBody(t,n){let{callbacks:s}=n,o=[];return G(t,a=>{let r={before:[],lines:[],after:[]},c=nf(s,a);Zt(r.before,de(Pt(c,"beforeLabel",this,a))),Zt(r.lines,Pt(c,"label",this,a)),Zt(r.after,de(Pt(c,"afterLabel",this,a))),o.push(r)}),o}getAfterBody(t,n){return ef(Pt(n.callbacks,"afterBody",this,t))}getFooter(t,n){let{callbacks:s}=n,o=Pt(s,"beforeFooter",this,t),a=Pt(s,"footer",this,t),r=Pt(s,"afterFooter",this,t),c=[];return c=Zt(c,de(o)),c=Zt(c,de(a)),c=Zt(c,de(r)),c}_createItems(t){let n=this._active,s=this.chart.data,o=[],a=[],r=[],c=[],l,f;for(l=0,f=n.length;l<f;++l)c.push(M0(this.chart,n[l]));return t.filter&&(c=c.filter((h,d,u)=>t.filter(h,d,u,s))),t.itemSort&&(c=c.sort((h,d)=>t.itemSort(h,d,s))),G(c,h=>{let d=nf(t.callbacks,h);o.push(Pt(d,"labelColor",this,h)),a.push(Pt(d,"labelPointStyle",this,h)),r.push(Pt(d,"labelTextColor",this,h))}),this.labelColors=o,this.labelPointStyles=a,this.labelTextColors=r,this.dataPoints=c,c}update(t,n){let s=this.options.setContext(this.getContext()),o=this._active,a,r=[];if(!o.length)this.opacity!==0&&(a={opacity:0});else{let c=Yi[s.position].call(this,o,this._eventPosition);r=this._createItems(s),this.title=this.getTitle(r,s),this.beforeBody=this.getBeforeBody(r,s),this.body=this.getBody(r,s),this.afterBody=this.getAfterBody(r,s),this.footer=this.getFooter(r,s);let l=this._size=Jl(this,s),f=Object.assign({},c,l),h=Ql(this.chart,s,f),d=tf(s,f,h,this.chart);this.xAlign=h.xAlign,this.yAlign=h.yAlign,a={opacity:1,x:d.x,y:d.y,width:l.width,height:l.height,caretX:c.x,caretY:c.y}}this._tooltipItems=r,this.$context=void 0,a&&this._resolveAnimations().update(this,a),t&&s.external&&s.external.call(this,{chart:this.chart,tooltip:this,replay:n})}drawCaret(t,n,s,o){let a=this.getCaretPosition(t,s,o);n.lineTo(a.x1,a.y1),n.lineTo(a.x2,a.y2),n.lineTo(a.x3,a.y3)}getCaretPosition(t,n,s){let{xAlign:o,yAlign:a}=this,{caretSize:r,cornerRadius:c}=s,{topLeft:l,topRight:f,bottomLeft:h,bottomRight:d}=le(c),{x:u,y:p}=t,{width:g,height:m}=n,b,x,y,v,_,w;return a==="center"?(_=p+m/2,o==="left"?(b=u,x=b-r,v=_+r,w=_-r):(b=u+g,x=b+r,v=_-r,w=_+r),y=b):(o==="left"?x=u+Math.max(l,h)+r:o==="right"?x=u+g-Math.max(f,d)-r:x=this.caretX,a==="top"?(v=p,_=v-r,b=x-r,y=x+r):(v=p+m,_=v+r,b=x+r,y=x-r),w=v),{x1:b,x2:x,x3:y,y1:v,y2:_,y3:w}}drawTitle(t,n,s){let o=this.title,a=o.length,r,c,l;if(a){let f=Pe(s.rtl,this.x,this.width);for(t.x=ps(this,s.titleAlign,s),n.textAlign=f.textAlign(s.titleAlign),n.textBaseline="middle",r=ot(s.titleFont),c=s.titleSpacing,n.fillStyle=s.titleColor,n.font=r.string,l=0;l<a;++l)n.fillText(o[l],f.x(t.x),t.y+r.lineHeight/2),t.y+=r.lineHeight+c,l+1===a&&(t.y+=s.titleMarginBottom-c)}}_drawColorBox(t,n,s,o,a){let r=this.labelColors[s],c=this.labelPointStyles[s],{boxHeight:l,boxWidth:f}=a,h=ot(a.bodyFont),d=ps(this,"left",a),u=o.x(d),p=l<h.lineHeight?(h.lineHeight-l)/2:0,g=n.y+p;if(a.usePointStyle){let m={radius:Math.min(f,l)/2,pointStyle:c.pointStyle,rotation:c.rotation,borderWidth:1},b=o.leftForLtr(u,f)+f/2,x=g+l/2;t.strokeStyle=a.multiKeyBackground,t.fillStyle=a.multiKeyBackground,Ve(t,m,b,x),t.strokeStyle=r.borderColor,t.fillStyle=r.backgroundColor,Ve(t,m,b,x)}else{t.lineWidth=W(r.borderWidth)?Math.max(...Object.values(r.borderWidth)):r.borderWidth||1,t.strokeStyle=r.borderColor,t.setLineDash(r.borderDash||[]),t.lineDashOffset=r.borderDashOffset||0;let m=o.leftForLtr(u,f),b=o.leftForLtr(o.xPlus(u,1),f-2),x=le(r.borderRadius);Object.values(x).some(y=>y!==0)?(t.beginPath(),t.fillStyle=a.multiKeyBackground,je(t,{x:m,y:g,w:f,h:l,radius:x}),t.fill(),t.stroke(),t.fillStyle=r.backgroundColor,t.beginPath(),je(t,{x:b,y:g+1,w:f-2,h:l-2,radius:x}),t.fill()):(t.fillStyle=a.multiKeyBackground,t.fillRect(m,g,f,l),t.strokeRect(m,g,f,l),t.fillStyle=r.backgroundColor,t.fillRect(b,g+1,f-2,l-2))}t.fillStyle=this.labelTextColors[s]}drawBody(t,n,s){let{body:o}=this,{bodySpacing:a,bodyAlign:r,displayColors:c,boxHeight:l,boxWidth:f,boxPadding:h}=s,d=ot(s.bodyFont),u=d.lineHeight,p=0,g=Pe(s.rtl,this.x,this.width),m=function(k){n.fillText(k,g.x(t.x+p),t.y+u/2),t.y+=u+a},b=g.textAlign(r),x,y,v,_,w,P,S;for(n.textAlign=r,n.textBaseline="middle",n.font=d.string,t.x=ps(this,b,s),n.fillStyle=s.bodyColor,G(this.beforeBody,m),p=c&&b!=="right"?r==="center"?f/2+h:f+2+h:0,_=0,P=o.length;_<P;++_){for(x=o[_],y=this.labelTextColors[_],n.fillStyle=y,G(x.before,m),v=x.lines,c&&v.length&&(this._drawColorBox(n,t,_,g,s),u=Math.max(d.lineHeight,l)),w=0,S=v.length;w<S;++w)m(v[w]),u=d.lineHeight;G(x.after,m)}p=0,u=d.lineHeight,G(this.afterBody,m),t.y-=a}drawFooter(t,n,s){let o=this.footer,a=o.length,r,c;if(a){let l=Pe(s.rtl,this.x,this.width);for(t.x=ps(this,s.footerAlign,s),t.y+=s.footerMarginTop,n.textAlign=l.textAlign(s.footerAlign),n.textBaseline="middle",r=ot(s.footerFont),n.fillStyle=s.footerColor,n.font=r.string,c=0;c<a;++c)n.fillText(o[c],l.x(t.x),t.y+r.lineHeight/2),t.y+=r.lineHeight+s.footerSpacing}}drawBackground(t,n,s,o){let{xAlign:a,yAlign:r}=this,{x:c,y:l}=t,{width:f,height:h}=s,{topLeft:d,topRight:u,bottomLeft:p,bottomRight:g}=le(o.cornerRadius);n.fillStyle=o.backgroundColor,n.strokeStyle=o.borderColor,n.lineWidth=o.borderWidth,n.beginPath(),n.moveTo(c+d,l),r==="top"&&this.drawCaret(t,n,s,o),n.lineTo(c+f-u,l),n.quadraticCurveTo(c+f,l,c+f,l+u),r==="center"&&a==="right"&&this.drawCaret(t,n,s,o),n.lineTo(c+f,l+h-g),n.quadraticCurveTo(c+f,l+h,c+f-g,l+h),r==="bottom"&&this.drawCaret(t,n,s,o),n.lineTo(c+p,l+h),n.quadraticCurveTo(c,l+h,c,l+h-p),r==="center"&&a==="left"&&this.drawCaret(t,n,s,o),n.lineTo(c,l+d),n.quadraticCurveTo(c,l,c+d,l),n.closePath(),n.fill(),o.borderWidth>0&&n.stroke()}_updateAnimationTarget(t){let n=this.chart,s=this.$animations,o=s&&s.x,a=s&&s.y;if(o||a){let r=Yi[t.position].call(this,this._active,this._eventPosition);if(!r)return;let c=this._size=Jl(this,t),l=Object.assign({},r,this._size),f=Ql(n,t,l),h=tf(t,l,f,n);(o._to!==h.x||a._to!==h.y)&&(this.xAlign=f.xAlign,this.yAlign=f.yAlign,this.width=c.width,this.height=c.height,this.caretX=r.x,this.caretY=r.y,this._resolveAnimations().update(this,h))}}_willRender(){return!!this.opacity}draw(t){let n=this.options.setContext(this.getContext()),s=this.opacity;if(!s)return;this._updateAnimationTarget(n);let o={width:this.width,height:this.height},a={x:this.x,y:this.y};s=Math.abs(s)<.001?0:s;let r=ht(n.padding),c=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;n.enabled&&c&&(t.save(),t.globalAlpha=s,this.drawBackground(a,t,o,n),os(t,n.textDirection),a.y+=r.top,this.drawTitle(a,t,n),this.drawBody(a,t,n),this.drawFooter(a,t,n),as(t,n.textDirection),t.restore())}getActiveElements(){return this._active||[]}setActiveElements(t,n){let s=this._active,o=t.map(({datasetIndex:c,index:l})=>{let f=this.chart.getDatasetMeta(c);if(!f)throw new Error("Cannot find a dataset at index "+c);return{datasetIndex:c,element:f.data[l],index:l}}),a=!oi(s,o),r=this._positionChanged(o,n);(a||r)&&(this._active=o,this._eventPosition=n,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(t,n,s=!0){if(n&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;let o=this.options,a=this._active||[],r=this._getActiveElements(t,a,n,s),c=this._positionChanged(r,t),l=n||!oi(r,a)||c;return l&&(this._active=r,(o.enabled||o.external)&&(this._eventPosition={x:t.x,y:t.y},this.update(!0,n))),l}_getActiveElements(t,n,s,o){let a=this.options;if(t.type==="mouseout")return[];if(!o)return n.filter(c=>this.chart.data.datasets[c.datasetIndex]&&this.chart.getDatasetMeta(c.datasetIndex).controller.getParsed(c.index)!==void 0);let r=this.chart.getElementsAtEventForMode(t,a.mode,a,s);return a.reverse&&r.reverse(),r}_positionChanged(t,n){let{caretX:s,caretY:o,options:a}=this,r=Yi[a.position].call(this,t,n);return r!==!1&&(s!==r.x||o!==r.y)}}return e})(),D0={id:"tooltip",_element:sf,positioners:Yi,afterInit(e,i,t){t&&(e.tooltip=new sf({chart:e,options:t}))},beforeUpdate(e,i,t){e.tooltip&&e.tooltip.initialize(t)},reset(e,i,t){e.tooltip&&e.tooltip.initialize(t)},afterDraw(e){let i=e.tooltip;if(i&&i._willRender()){let t={tooltip:i};if(e.notifyPlugins("beforeTooltipDraw",Bt(Ct({},t),{cancelable:!0}))===!1)return;i.draw(e.ctx),e.notifyPlugins("afterTooltipDraw",t)}},afterEvent(e,i){if(e.tooltip){let t=i.replay;e.tooltip.handleEvent(i.event,t,i.inChartArea)&&(i.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(e,i)=>i.bodyFont.size,boxWidth:(e,i)=>i.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:Lf},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:e=>e!=="filter"&&e!=="itemSort"&&e!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]},R0=Object.freeze({__proto__:null,Colors:Hg,Decimation:Yg,Filler:u0,Legend:y0,SubTitle:w0,Title:v0,Tooltip:D0}),O0=(e,i,t,n)=>(typeof i=="string"?(t=e.push(i)-1,n.unshift({index:t,label:i})):isNaN(i)&&(t=null),t);function T0(e,i,t,n){let s=e.indexOf(i);if(s===-1)return O0(e,i,t,n);let o=e.lastIndexOf(i);return s!==o?t:s}var L0=(e,i)=>e===null?null:at(Math.round(e),0,i);function of(e){let i=this.getLabels();return e>=0&&e<i.length?i[e]:e}var I0=(()=>{class e extends ue{static id="category";static defaults={ticks:{callback:of}};constructor(t){super(t),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(t){let n=this._addedLabels;if(n.length){let s=this.getLabels();for(let{index:o,label:a}of n)s[o]===a&&s.splice(o,1);this._addedLabels=[]}super.init(t)}parse(t,n){if($(t))return null;let s=this.getLabels();return n=isFinite(n)&&s[n]===t?n:T0(s,t,z(n,t),this._addedLabels),L0(n,s.length-1)}determineDataLimits(){let{minDefined:t,maxDefined:n}=this.getUserBounds(),{min:s,max:o}=this.getMinMax(!0);this.options.bounds==="ticks"&&(t||(s=0),n||(o=this.getLabels().length-1)),this.min=s,this.max=o}buildTicks(){let t=this.min,n=this.max,s=this.options.offset,o=[],a=this.getLabels();a=t===0&&n===a.length-1?a:a.slice(t,n+1),this._valueRange=Math.max(a.length-(s?0:1),1),this._startValue=this.min-(s?.5:0);for(let r=t;r<=n;r++)o.push({value:r});return o}getLabelForValue(t){return of.call(this,t)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(t){return typeof t!="number"&&(t=this.parse(t)),t===null?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getPixelForTick(t){let n=this.ticks;return t<0||t>n.length-1?null:this.getPixelForValue(n[t].value)}getValueForPixel(t){return Math.round(this._startValue+this.getDecimalForPixel(t)*this._valueRange)}getBasePixel(){return this.bottom}}return e})();function z0(e,i){let t=[],{bounds:s,step:o,min:a,max:r,precision:c,count:l,maxTicks:f,maxDigits:h,includeBounds:d}=e,u=o||1,p=f-1,{min:g,max:m}=i,b=!$(a),x=!$(r),y=!$(l),v=(m-g)/(h+1),_=Fn((m-g)/p/u)*u,w,P,S,k;if(_<1e-14&&!b&&!x)return[{value:g},{value:m}];k=Math.ceil(m/_)-Math.floor(g/_),k>p&&(_=Fn(k*_/p/u)*u),$(c)||(w=Math.pow(10,c),_=Math.ceil(_*w)/w),s==="ticks"?(P=Math.floor(g/_)*_,S=Math.ceil(m/_)*_):(P=g,S=m),b&&x&&o&&Eo((r-a)/o,_/1e3)?(k=Math.round(Math.min((r-a)/_,f)),_=(r-a)/k,P=a,S=r):y?(P=b?a:P,S=x?r:S,k=l-1,_=(S-P)/k):(k=(S-P)/_,Be(k,Math.round(k),_/1e3)?k=Math.round(k):k=Math.ceil(k));let E=Math.max(Vn(_),Vn(P));w=Math.pow(10,$(c)?E:c),P=Math.round(P*w)/w,S=Math.round(S*w)/w;let C=0;for(b&&(d&&P!==a?(t.push({value:a}),P<a&&C++,Be(Math.round((P+C*_)*w)/w,a,af(a,v,e))&&C++):P<a&&C++);C<k;++C){let I=Math.round((P+C*_)*w)/w;if(x&&I>r)break;t.push({value:I})}return x&&d&&S!==r?t.length&&Be(t[t.length-1].value,r,af(r,v,e))?t[t.length-1].value=r:t.push({value:r}):(!x||S===r)&&t.push({value:S}),t}function af(e,i,{horizontal:t,minRotation:n}){let s=At(n),o=(t?Math.sin(s):Math.cos(s))||.001,a=.75*i*(""+e).length;return Math.min(i/o,a)}var li=class extends ue{constructor(i){super(i),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(i,t){return $(i)||(typeof i=="number"||i instanceof Number)&&!isFinite(+i)?null:+i}handleTickRangeOptions(){let{beginAtZero:i}=this.options,{minDefined:t,maxDefined:n}=this.getUserBounds(),{min:s,max:o}=this,a=c=>s=t?s:c,r=c=>o=n?o:c;if(i){let c=Lt(s),l=Lt(o);c<0&&l<0?r(0):c>0&&l>0&&a(0)}if(s===o){let c=o===0?1:Math.abs(o*.05);r(o+c),i||a(s-c)}this.min=s,this.max=o}getTickLimit(){let i=this.options.ticks,{maxTicksLimit:t,stepSize:n}=i,s;return n?(s=Math.ceil(this.max/n)-Math.floor(this.min/n)+1,s>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${n} would result generating up to ${s} ticks. Limiting to 1000.`),s=1e3)):(s=this.computeTickLimit(),t=t||11),t&&(s=Math.min(t,s)),s}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){let i=this.options,t=i.ticks,n=this.getTickLimit();n=Math.max(2,n);let s={maxTicks:n,bounds:i.bounds,min:i.min,max:i.max,precision:t.precision,step:t.stepSize,count:t.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:t.minRotation||0,includeBounds:t.includeBounds!==!1},o=this._range||this,a=z0(s,o);return i.bounds==="ticks"&&Nn(a,this,"value"),i.reverse?(a.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),a}configure(){let i=this.ticks,t=this.min,n=this.max;if(super.configure(),this.options.offset&&i.length){let s=(n-t)/Math.max(i.length-1,1)/2;t-=s,n+=s}this._startValue=t,this._endValue=n,this._valueRange=n-t}getLabelForValue(i){return Ne(i,this.chart.options.locale,this.options.ticks.format)}},Ge=class extends li{static id="linear";static defaults={ticks:{callback:zi.formatters.numeric}};determineDataLimits(){let{min:i,max:t}=this.getMinMax(!0);this.min=et(i)?i:0,this.max=et(t)?t:1,this.handleTickRangeOptions()}computeTickLimit(){let i=this.isHorizontal(),t=i?this.width:this.height,n=At(this.options.ticks.minRotation),s=(i?Math.sin(n):Math.cos(n))||.001,o=this._resolveTickFontOptions(0);return Math.ceil(t/Math.min(40,o.lineHeight/s))}getPixelForValue(i){return i===null?NaN:this.getPixelForDecimal((i-this._startValue)/this._valueRange)}getValueForPixel(i){return this._startValue+this.getDecimalForPixel(i)*this._valueRange}},Ki=e=>Math.floor(qt(e)),$e=(e,i)=>Math.pow(10,Ki(e)+i);function rf(e){return e/Math.pow(10,Ki(e))===1}function cf(e,i,t){let n=Math.pow(10,t),s=Math.floor(e/n);return Math.ceil(i/n)-s}function B0(e,i){let t=i-e,n=Ki(t);for(;cf(e,i,n)>10;)n++;for(;cf(e,i,n)<10;)n--;return Math.min(n,Ki(e))}function F0(e,{min:i,max:t}){i=_t(e.min,i);let n=[],s=Ki(i),o=B0(i,t),a=o<0?Math.pow(10,Math.abs(o)):1,r=Math.pow(10,o),c=s>o?Math.pow(10,s):0,l=Math.round((i-c)*a)/a,f=Math.floor((i-c)/r/10)*r*10,h=Math.floor((l-f)/Math.pow(10,o)),d=_t(e.min,Math.round((c+f+h*Math.pow(10,o))*a)/a);for(;d<t;)n.push({value:d,major:rf(d),significand:h}),h>=10?h=h<15?15:20:h++,h>=20&&(o++,h=2,a=o>=0?1:a),d=Math.round((c+f+h*Math.pow(10,o))*a)/a;let u=_t(e.max,d);return n.push({value:u,major:rf(u),significand:h}),n}var qe=class extends ue{static id="logarithmic";static defaults={ticks:{callback:zi.formatters.logarithmic,major:{enabled:!0}}};constructor(i){super(i),this.start=void 0,this.end=void 0,this._startValue=void 0,this._valueRange=0}parse(i,t){let n=li.prototype.parse.apply(this,[i,t]);if(n===0){this._zero=!0;return}return et(n)&&n>0?n:null}determineDataLimits(){let{min:i,max:t}=this.getMinMax(!0);this.min=et(i)?Math.max(0,i):null,this.max=et(t)?Math.max(0,t):null,this.options.beginAtZero&&(this._zero=!0),this._zero&&this.min!==this._suggestedMin&&!et(this._userMin)&&(this.min=i===$e(this.min,0)?$e(this.min,-1):$e(this.min,0)),this.handleTickRangeOptions()}handleTickRangeOptions(){let{minDefined:i,maxDefined:t}=this.getUserBounds(),n=this.min,s=this.max,o=r=>n=i?n:r,a=r=>s=t?s:r;n===s&&(n<=0?(o(1),a(10)):(o($e(n,-1)),a($e(s,1)))),n<=0&&o($e(s,-1)),s<=0&&a($e(n,1)),this.min=n,this.max=s}buildTicks(){let i=this.options,t={min:this._userMin,max:this._userMax},n=F0(t,this);return i.bounds==="ticks"&&Nn(n,this,"value"),i.reverse?(n.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),n}getLabelForValue(i){return i===void 0?"0":Ne(i,this.chart.options.locale,this.options.ticks.format)}configure(){let i=this.min;super.configure(),this._startValue=qt(i),this._valueRange=qt(this.max)-qt(i)}getPixelForValue(i){return(i===void 0||i===0)&&(i=this.min),i===null||isNaN(i)?NaN:this.getPixelForDecimal(i===this.min?0:(qt(i)-this._startValue)/this._valueRange)}getValueForPixel(i){let t=this.getDecimalForPixel(i);return Math.pow(10,this._startValue+t*this._valueRange)}};function ba(e){let i=e.ticks;if(i.display&&e.display){let t=ht(i.backdropPadding);return z(i.font&&i.font.size,nt.font.size)+t.height}return 0}function N0(e,i,t){return t=K(t)?t:[t],{w:zo(e,i.string,t),h:t.length*i.lineHeight}}function lf(e,i,t,n,s){return e===n||e===s?{start:i-t/2,end:i+t/2}:e<n||e>s?{start:i-t,end:i}:{start:i,end:i+t}}function V0(e){let i={l:e.left+e._padding.left,r:e.right-e._padding.right,t:e.top+e._padding.top,b:e.bottom-e._padding.bottom},t=Object.assign({},i),n=[],s=[],o=e._pointLabels.length,a=e.options.pointLabels,r=a.centerPointLabels?Z/o:0;for(let c=0;c<o;c++){let l=a.setContext(e.getPointLabelContext(c));s[c]=l.padding;let f=e.getPointPosition(c,e.drawingArea+s[c],r),h=ot(l.font),d=N0(e.ctx,h,e._pointLabels[c]);n[c]=d;let u=yt(e.getIndexAngle(c)+r),p=Math.round(Ti(u)),g=lf(p,f.x,d.w,0,180),m=lf(p,f.y,d.h,90,270);j0(t,i,u,g,m)}e.setCenterPoint(i.l-t.l,t.r-i.r,i.t-t.t,t.b-i.b),e._pointLabelItems=$0(e,n,s)}function j0(e,i,t,n,s){let o=Math.abs(Math.sin(t)),a=Math.abs(Math.cos(t)),r=0,c=0;n.start<i.l?(r=(i.l-n.start)/o,e.l=Math.min(e.l,i.l-r)):n.end>i.r&&(r=(n.end-i.r)/o,e.r=Math.max(e.r,i.r+r)),s.start<i.t?(c=(i.t-s.start)/a,e.t=Math.min(e.t,i.t-c)):s.end>i.b&&(c=(s.end-i.b)/a,e.b=Math.max(e.b,i.b+c))}function W0(e,i,t){let n=e.drawingArea,{extra:s,additionalAngle:o,padding:a,size:r}=t,c=e.getPointPosition(i,n+s+a,o),l=Math.round(Ti(yt(c.angle+it))),f=Y0(c.y,r.h,l),h=G0(l),d=q0(c.x,r.w,h);return{visible:!0,x:c.x,y:f,textAlign:h,left:d,top:f,right:d+r.w,bottom:f+r.h}}function H0(e,i){if(!i)return!0;let{left:t,top:n,right:s,bottom:o}=e;return!(Nt({x:t,y:n},i)||Nt({x:t,y:o},i)||Nt({x:s,y:n},i)||Nt({x:s,y:o},i))}function $0(e,i,t){let n=[],s=e._pointLabels.length,o=e.options,{centerPointLabels:a,display:r}=o.pointLabels,c={extra:ba(o)/2,additionalAngle:a?Z/s:0},l;for(let f=0;f<s;f++){c.padding=t[f],c.size=i[f];let h=W0(e,f,c);n.push(h),r==="auto"&&(h.visible=H0(h,l),h.visible&&(l=h))}return n}function G0(e){return e===0||e===180?"center":e<180?"left":"right"}function q0(e,i,t){return t==="right"?e-=i:t==="center"&&(e-=i/2),e}function Y0(e,i,t){return t===90||t===270?e-=i/2:(t>270||t<90)&&(e-=i),e}function U0(e,i,t){let{left:n,top:s,right:o,bottom:a}=t,{backdropColor:r}=i;if(!$(r)){let c=le(i.borderRadius),l=ht(i.backdropPadding);e.fillStyle=r;let f=n-l.left,h=s-l.top,d=o-n+l.width,u=a-s+l.height;Object.values(c).some(p=>p!==0)?(e.beginPath(),je(e,{x:f,y:h,w:d,h:u,radius:c}),e.fill()):e.fillRect(f,h,d,u)}}function X0(e,i){let{ctx:t,options:{pointLabels:n}}=e;for(let s=i-1;s>=0;s--){let o=e._pointLabelItems[s];if(!o.visible)continue;let a=n.setContext(e.getPointLabelContext(s));U0(t,a,o);let r=ot(a.font),{x:c,y:l,textAlign:f}=o;ce(t,e._pointLabels[s],c,l+r.lineHeight/2,r,{color:a.color,textAlign:f,textBaseline:"middle"})}}function If(e,i,t,n){let{ctx:s}=e;if(t)s.arc(e.xCenter,e.yCenter,i,0,J);else{let o=e.getPointPosition(0,i);s.moveTo(o.x,o.y);for(let a=1;a<n;a++)o=e.getPointPosition(a,i),s.lineTo(o.x,o.y)}}function K0(e,i,t,n,s){let o=e.ctx,a=i.circular,{color:r,lineWidth:c}=i;!a&&!n||!r||!c||t<0||(o.save(),o.strokeStyle=r,o.lineWidth=c,o.setLineDash(s.dash),o.lineDashOffset=s.dashOffset,o.beginPath(),If(e,t,a,n),o.closePath(),o.stroke(),o.restore())}function Z0(e,i,t){return Kt(e,{label:t,index:i,type:"pointLabel"})}var xa=class extends li{static id="radialLinear";static defaults={display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,lineWidth:1,borderDash:[],borderDashOffset:0},grid:{circular:!1},startAngle:0,ticks:{showLabelBackdrop:!0,callback:zi.formatters.numeric},pointLabels:{backdropColor:void 0,backdropPadding:2,display:!0,font:{size:10},callback(i){return i},padding:5,centerPointLabels:!1}};static defaultRoutes={"angleLines.color":"borderColor","pointLabels.color":"color","ticks.color":"color"};static descriptors={angleLines:{_fallback:"grid"}};constructor(i){super(i),this.xCenter=void 0,this.yCenter=void 0,this.drawingArea=void 0,this._pointLabels=[],this._pointLabelItems=[]}setDimensions(){let i=this._padding=ht(ba(this.options)/2),t=this.width=this.maxWidth-i.width,n=this.height=this.maxHeight-i.height;this.xCenter=Math.floor(this.left+t/2+i.left),this.yCenter=Math.floor(this.top+n/2+i.top),this.drawingArea=Math.floor(Math.min(t,n)/2)}determineDataLimits(){let{min:i,max:t}=this.getMinMax(!1);this.min=et(i)&&!isNaN(i)?i:0,this.max=et(t)&&!isNaN(t)?t:0,this.handleTickRangeOptions()}computeTickLimit(){return Math.ceil(this.drawingArea/ba(this.options))}generateTickLabels(i){li.prototype.generateTickLabels.call(this,i),this._pointLabels=this.getLabels().map((t,n)=>{let s=Y(this.options.pointLabels.callback,[t,n],this);return s||s===0?s:""}).filter((t,n)=>this.chart.getDataVisibility(n))}fit(){let i=this.options;i.display&&i.pointLabels.display?V0(this):this.setCenterPoint(0,0,0,0)}setCenterPoint(i,t,n,s){this.xCenter+=Math.floor((i-t)/2),this.yCenter+=Math.floor((n-s)/2),this.drawingArea-=Math.min(this.drawingArea/2,Math.max(i,t,n,s))}getIndexAngle(i){let t=J/(this._pointLabels.length||1),n=this.options.startAngle||0;return yt(i*t+At(n))}getDistanceFromCenterForValue(i){if($(i))return NaN;let t=this.drawingArea/(this.max-this.min);return this.options.reverse?(this.max-i)*t:(i-this.min)*t}getValueForDistanceFromCenter(i){if($(i))return NaN;let t=i/(this.drawingArea/(this.max-this.min));return this.options.reverse?this.max-t:this.min+t}getPointLabelContext(i){let t=this._pointLabels||[];if(i>=0&&i<t.length){let n=t[i];return Z0(this.getContext(),i,n)}}getPointPosition(i,t,n=0){let s=this.getIndexAngle(i)-it+n;return{x:Math.cos(s)*t+this.xCenter,y:Math.sin(s)*t+this.yCenter,angle:s}}getPointPositionForValue(i,t){return this.getPointPosition(i,this.getDistanceFromCenterForValue(t))}getBasePosition(i){return this.getPointPositionForValue(i||0,this.getBaseValue())}getPointLabelPosition(i){let{left:t,top:n,right:s,bottom:o}=this._pointLabelItems[i];return{left:t,top:n,right:s,bottom:o}}drawBackground(){let{backgroundColor:i,grid:{circular:t}}=this.options;if(i){let n=this.ctx;n.save(),n.beginPath(),If(this,this.getDistanceFromCenterForValue(this._endValue),t,this._pointLabels.length),n.closePath(),n.fillStyle=i,n.fill(),n.restore()}}drawGrid(){let i=this.ctx,t=this.options,{angleLines:n,grid:s,border:o}=t,a=this._pointLabels.length,r,c,l;if(t.pointLabels.display&&X0(this,a),s.display&&this.ticks.forEach((f,h)=>{if(h!==0||h===0&&this.min<0){c=this.getDistanceFromCenterForValue(f.value);let d=this.getContext(h),u=s.setContext(d),p=o.setContext(d);K0(this,u,c,a,p)}}),n.display){for(i.save(),r=a-1;r>=0;r--){let f=n.setContext(this.getPointLabelContext(r)),{color:h,lineWidth:d}=f;!d||!h||(i.lineWidth=d,i.strokeStyle=h,i.setLineDash(f.borderDash),i.lineDashOffset=f.borderDashOffset,c=this.getDistanceFromCenterForValue(t.ticks.reverse?this.min:this.max),l=this.getPointPosition(r,c),i.beginPath(),i.moveTo(this.xCenter,this.yCenter),i.lineTo(l.x,l.y),i.stroke())}i.restore()}}drawBorder(){}drawLabels(){let i=this.ctx,t=this.options,n=t.ticks;if(!n.display)return;let s=this.getIndexAngle(0),o,a;i.save(),i.translate(this.xCenter,this.yCenter),i.rotate(s),i.textAlign="center",i.textBaseline="middle",this.ticks.forEach((r,c)=>{if(c===0&&this.min>=0&&!t.reverse)return;let l=n.setContext(this.getContext(c)),f=ot(l.font);if(o=this.getDistanceFromCenterForValue(this.ticks[c].value),l.showLabelBackdrop){i.font=f.string,a=i.measureText(r.label).width,i.fillStyle=l.backdropColor;let h=ht(l.backdropPadding);i.fillRect(-a/2-h.left,-o-f.size/2-h.top,a+h.width,f.size+h.height)}ce(i,r.label,0,-o,f,{color:l.color,strokeColor:l.textStrokeColor,strokeWidth:l.textStrokeWidth})}),i.restore()}drawTitle(){}},Ps={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},kt=Object.keys(Ps);function ff(e,i){return e-i}function hf(e,i){if($(i))return null;let t=e._adapter,{parser:n,round:s,isoWeekday:o}=e._parseOpts,a=i;return typeof n=="function"&&(a=n(a)),et(a)||(a=typeof n=="string"?t.parse(a,n):t.parse(a)),a===null?null:(s&&(a=s==="week"&&(Me(o)||o===!0)?t.startOf(a,"isoWeek",o):t.startOf(a,s)),+a)}function df(e,i,t,n){let s=kt.length;for(let o=kt.indexOf(e);o<s-1;++o){let a=Ps[kt[o]],r=a.steps?a.steps:Number.MAX_SAFE_INTEGER;if(a.common&&Math.ceil((t-i)/(r*a.size))<=n)return kt[o]}return kt[s-1]}function J0(e,i,t,n,s){for(let o=kt.length-1;o>=kt.indexOf(t);o--){let a=kt[o];if(Ps[a].common&&e._adapter.diff(s,n,a)>=i-1)return a}return kt[t?kt.indexOf(t):0]}function Q0(e){for(let i=kt.indexOf(e)+1,t=kt.length;i<t;++i)if(Ps[kt[i]].common)return kt[i]}function uf(e,i,t){if(!t)e[i]=!0;else if(t.length){let{lo:n,hi:s}=Li(t,i),o=t[n]>=i?t[n]:t[s];e[o]=!0}}function tm(e,i,t,n){let s=e._adapter,o=+s.startOf(i[0].value,n),a=i[i.length-1].value,r,c;for(r=o;r<=a;r=+s.add(r,1,n))c=t[r],c>=0&&(i[c].major=!0);return i}function pf(e,i,t){let n=[],s={},o=i.length,a,r;for(a=0;a<o;++a)r=i[a],s[r]=a,n.push({value:r,major:!1});return o===0||!t?n:tm(e,n,s,t)}var ya=(()=>{class e extends ue{static id="time";static defaults={bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}};constructor(t){super(t),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(t,n={}){let s=t.time||(t.time={}),o=this._adapter=new up._date(t.adapters.date);o.init(n),Ie(s.displayFormats,o.formats()),this._parseOpts={parser:s.parser,round:s.round,isoWeekday:s.isoWeekday},super.init(t),this._normalized=n.normalized}parse(t,n){return t===void 0?null:hf(this,t)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){let t=this.options,n=this._adapter,s=t.time.unit||"day",{min:o,max:a,minDefined:r,maxDefined:c}=this.getUserBounds();function l(f){!r&&!isNaN(f.min)&&(o=Math.min(o,f.min)),!c&&!isNaN(f.max)&&(a=Math.max(a,f.max))}(!r||!c)&&(l(this._getLabelBounds()),(t.bounds!=="ticks"||t.ticks.source!=="labels")&&l(this.getMinMax(!1))),o=et(o)&&!isNaN(o)?o:+n.startOf(Date.now(),s),a=et(a)&&!isNaN(a)?a:+n.endOf(Date.now(),s)+1,this.min=Math.min(o,a-1),this.max=Math.max(o+1,a)}_getLabelBounds(){let t=this.getLabelTimestamps(),n=Number.POSITIVE_INFINITY,s=Number.NEGATIVE_INFINITY;return t.length&&(n=t[0],s=t[t.length-1]),{min:n,max:s}}buildTicks(){let t=this.options,n=t.time,s=t.ticks,o=s.source==="labels"?this.getLabelTimestamps():this._generate();t.bounds==="ticks"&&o.length&&(this.min=this._userMin||o[0],this.max=this._userMax||o[o.length-1]);let a=this.min,r=this.max,c=Oo(o,a,r);return this._unit=n.unit||(s.autoSkip?df(n.minUnit,this.min,this.max,this._getLabelCapacity(a)):J0(this,c.length,n.minUnit,this.min,this.max)),this._majorUnit=!s.major.enabled||this._unit==="year"?void 0:Q0(this._unit),this.initOffsets(o),t.reverse&&c.reverse(),pf(this,c,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(t=>+t.value))}initOffsets(t=[]){let n=0,s=0,o,a;this.options.offset&&t.length&&(o=this.getDecimalForValue(t[0]),t.length===1?n=1-o:n=(this.getDecimalForValue(t[1])-o)/2,a=this.getDecimalForValue(t[t.length-1]),t.length===1?s=a:s=(a-this.getDecimalForValue(t[t.length-2]))/2);let r=t.length<3?.5:.25;n=at(n,0,r),s=at(s,0,r),this._offsets={start:n,end:s,factor:1/(n+1+s)}}_generate(){let t=this._adapter,n=this.min,s=this.max,o=this.options,a=o.time,r=a.unit||df(a.minUnit,n,s,this._getLabelCapacity(n)),c=z(o.ticks.stepSize,1),l=r==="week"?a.isoWeekday:!1,f=Me(l)||l===!0,h={},d=n,u,p;if(f&&(d=+t.startOf(d,"isoWeek",l)),d=+t.startOf(d,f?"day":r),t.diff(s,n,r)>1e5*c)throw new Error(n+" and "+s+" are too far apart with stepSize of "+c+" "+r);let g=o.ticks.source==="data"&&this.getDataTimestamps();for(u=d,p=0;u<s;u=+t.add(u,c,r),p++)uf(h,u,g);return(u===s||o.bounds==="ticks"||p===1)&&uf(h,u,g),Object.keys(h).sort(ff).map(m=>+m)}getLabelForValue(t){let n=this._adapter,s=this.options.time;return s.tooltipFormat?n.format(t,s.tooltipFormat):n.format(t,s.displayFormats.datetime)}format(t,n){let o=this.options.time.displayFormats,a=this._unit,r=n||o[a];return this._adapter.format(t,r)}_tickFormatFunction(t,n,s,o){let a=this.options,r=a.ticks.callback;if(r)return Y(r,[t,n,s],this);let c=a.time.displayFormats,l=this._unit,f=this._majorUnit,h=l&&c[l],d=f&&c[f],u=s[n],p=f&&d&&u&&u.major;return this._adapter.format(t,o||(p?d:h))}generateTickLabels(t){let n,s,o;for(n=0,s=t.length;n<s;++n)o=t[n],o.label=this._tickFormatFunction(o.value,n,t)}getDecimalForValue(t){return t===null?NaN:(t-this.min)/(this.max-this.min)}getPixelForValue(t){let n=this._offsets,s=this.getDecimalForValue(t);return this.getPixelForDecimal((n.start+s)*n.factor)}getValueForPixel(t){let n=this._offsets,s=this.getDecimalForPixel(t)/n.factor-n.end;return this.min+s*(this.max-this.min)}_getLabelSize(t){let n=this.options.ticks,s=this.ctx.measureText(t).width,o=At(this.isHorizontal()?n.maxRotation:n.minRotation),a=Math.cos(o),r=Math.sin(o),c=this._resolveTickFontOptions(0).size;return{w:s*a+c*r,h:s*r+c*a}}_getLabelCapacity(t){let n=this.options.time,s=n.displayFormats,o=s[n.unit]||s.millisecond,a=this._tickFormatFunction(t,0,pf(this,[t],this._majorUnit),o),r=this._getLabelSize(a),c=Math.floor(this.isHorizontal()?this.width/r.w:this.height/r.h)-1;return c>0?c:1}getDataTimestamps(){let t=this._cache.data||[],n,s;if(t.length)return t;let o=this.getMatchingVisibleMetas();if(this._normalized&&o.length)return this._cache.data=o[0].controller.getAllParsedValues(this);for(n=0,s=o.length;n<s;++n)t=t.concat(o[n].controller.getAllParsedValues(this));return this._cache.data=this.normalize(t)}getLabelTimestamps(){let t=this._cache.labels||[],n,s;if(t.length)return t;let o=this.getLabels();for(n=0,s=o.length;n<s;++n)t.push(hf(this,o[n]));return this._cache.labels=this._normalized?t:this.normalize(t)}normalize(t){return Hn(t.sort(ff))}}return e})();function gs(e,i,t){let n=0,s=e.length-1,o,a,r,c;t?(i>=e[n].pos&&i<=e[s].pos&&({lo:n,hi:s}=Ft(e,"pos",i)),{pos:o,time:r}=e[n],{pos:a,time:c}=e[s]):(i>=e[n].time&&i<=e[s].time&&({lo:n,hi:s}=Ft(e,"time",i)),{time:o,pos:r}=e[n],{time:a,pos:c}=e[s]);let l=a-o;return l?r+(c-r)*(i-o)/l:r}var _a=class extends ya{static id="timeseries";static defaults=ya.defaults;constructor(i){super(i),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){let i=this._getTimestampsForTable(),t=this._table=this.buildLookupTable(i);this._minPos=gs(t,this.min),this._tableRange=gs(t,this.max)-this._minPos,super.initOffsets(i)}buildLookupTable(i){let{min:t,max:n}=this,s=[],o=[],a,r,c,l,f;for(a=0,r=i.length;a<r;++a)l=i[a],l>=t&&l<=n&&s.push(l);if(s.length<2)return[{time:t,pos:0},{time:n,pos:1}];for(a=0,r=s.length;a<r;++a)f=s[a+1],c=s[a-1],l=s[a],Math.round((f+c)/2)!==l&&o.push({time:l,pos:a/(r-1)});return o}_generate(){let i=this.min,t=this.max,n=super.getDataTimestamps();return(!n.includes(i)||!n.length)&&n.splice(0,0,i),(!n.includes(t)||n.length===1)&&n.push(t),n.sort((s,o)=>s-o)}_getTimestampsForTable(){let i=this._cache.all||[];if(i.length)return i;let t=this.getDataTimestamps(),n=this.getLabelTimestamps();return t.length&&n.length?i=this.normalize(t.concat(n)):i=t.length?t:n,i=this._cache.all=i,i}getDecimalForValue(i){return(gs(this._table,i)-this._minPos)/this._tableRange}getValueForPixel(i){let t=this._offsets,n=this.getDecimalForPixel(i)/t.factor-t.end;return gs(this._table,n*this._tableRange+this._minPos,!0)}},em=Object.freeze({__proto__:null,CategoryScale:I0,LinearScale:Ge,LogarithmicScale:qe,RadialLinearScale:xa,TimeScale:ya,TimeSeriesScale:_a}),zf=[dp,Bg,R0,em];var vt=class{constructor(){this._partials=new Float64Array(32),this._n=0}add(i){let t=this._partials,n=0;for(let s=0;s<this._n&&s<32;s++){let o=t[s],a=i+o,r=Math.abs(i)<Math.abs(o)?i-(a-o):o-(a-i);r&&(t[n++]=r),i=a}return t[n]=i,this._n=n+1,this}valueOf(){let i=this._partials,t=this._n,n,s,o,a=0;if(t>0){for(a=i[--t];t>0&&(n=a,s=i[--t],a=n+s,o=s-(a-n),!o););t>0&&(o<0&&i[t-1]<0||o>0&&i[t-1]>0)&&(s=o*2,n=a+s,s==n-a&&(a=n))}return a}};function*im(e){for(let i of e)yield*mc(i)}function fi(e){return Array.from(im(e))}function pe(e,i,t){e=+e,i=+i,t=(s=arguments.length)<2?(i=e,e=0,1):s<3?1:+t;for(var n=-1,s=Math.max(0,Math.ceil((i-e)/t))|0,o=new Array(s);++n<s;)o[n]=e+n*t;return o}var A=1e-6,hi=1e-12,F=Math.PI,U=F/2,Sa=F/4,dt=F*2,rt=180/F,H=F/180,B=Math.abs,It=Math.atan,ct=Math.atan2,O=Math.cos,Ji=Math.ceil,ks=Math.exp;var Ue=Math.log,Cs=Math.pow,D=Math.sin,bt=Math.sign||function(e){return e>0?1:e<0?-1:0},X=Math.sqrt,di=Math.tan;function As(e){return e>1?0:e<-1?F:Math.acos(e)}function st(e){return e>1?U:e<-1?-U:Math.asin(e)}function tt(){}function Es(e,i){e&&Ff.hasOwnProperty(e.type)&&Ff[e.type](e,i)}var Bf={Feature:function(e,i){Es(e.geometry,i)},FeatureCollection:function(e,i){for(var t=e.features,n=-1,s=t.length;++n<s;)Es(t[n].geometry,i)}},Ff={Sphere:function(e,i){i.sphere()},Point:function(e,i){e=e.coordinates,i.point(e[0],e[1],e[2])},MultiPoint:function(e,i){for(var t=e.coordinates,n=-1,s=t.length;++n<s;)e=t[n],i.point(e[0],e[1],e[2])},LineString:function(e,i){Pa(e.coordinates,i,0)},MultiLineString:function(e,i){for(var t=e.coordinates,n=-1,s=t.length;++n<s;)Pa(t[n],i,0)},Polygon:function(e,i){Nf(e.coordinates,i)},MultiPolygon:function(e,i){for(var t=e.coordinates,n=-1,s=t.length;++n<s;)Nf(t[n],i)},GeometryCollection:function(e,i){for(var t=e.geometries,n=-1,s=t.length;++n<s;)Es(t[n],i)}};function Pa(e,i,t){var n=-1,s=e.length-t,o;for(i.lineStart();++n<s;)o=e[n],i.point(o[0],o[1],o[2]);i.lineEnd()}function Nf(e,i){var t=-1,n=e.length;for(i.polygonStart();++t<n;)Pa(e[t],i,1);i.polygonEnd()}function Qt(e,i){e&&Bf.hasOwnProperty(e.type)?Bf[e.type](e,i):Es(e,i)}function Qi(e){return[ct(e[1],e[0]),st(e[2])]}function te(e){var i=e[0],t=e[1],n=O(t);return[n*O(i),n*D(i),D(t)]}function tn(e,i){return e[0]*i[0]+e[1]*i[1]+e[2]*i[2]}function ui(e,i){return[e[1]*i[2]-e[2]*i[1],e[2]*i[0]-e[0]*i[2],e[0]*i[1]-e[1]*i[0]]}function Ds(e,i){e[0]+=i[0],e[1]+=i[1],e[2]+=i[2]}function en(e,i){return[e[0]*i,e[1]*i,e[2]*i]}function nn(e){var i=X(e[0]*e[0]+e[1]*e[1]+e[2]*e[2]);e[0]/=i,e[1]/=i,e[2]/=i}function sn(e,i){function t(n,s){return n=e(n,s),i(n[0],n[1])}return e.invert&&i.invert&&(t.invert=function(n,s){return n=i.invert(n,s),n&&e.invert(n[0],n[1])}),t}function ka(e,i){return B(e)>F&&(e-=Math.round(e/dt)*dt),[e,i]}ka.invert=ka;function Ca(e,i,t){return(e%=dt)?i||t?sn(jf(e),Wf(i,t)):jf(e):i||t?Wf(i,t):ka}function Vf(e){return function(i,t){return i+=e,B(i)>F&&(i-=Math.round(i/dt)*dt),[i,t]}}function jf(e){var i=Vf(e);return i.invert=Vf(-e),i}function Wf(e,i){var t=O(e),n=D(e),s=O(i),o=D(i);function a(r,c){var l=O(c),f=O(r)*l,h=D(r)*l,d=D(c),u=d*t+f*n;return[ct(h*s-u*o,f*t-d*n),st(u*s+h*o)]}return a.invert=function(r,c){var l=O(c),f=O(r)*l,h=D(r)*l,d=D(c),u=d*s-h*o;return[ct(h*s+d*o,f*t+u*n),st(u*t-f*n)]},a}function Hf(e){e=Ca(e[0]*H,e[1]*H,e.length>2?e[2]*H:0);function i(t){return t=e(t[0]*H,t[1]*H),t[0]*=rt,t[1]*=rt,t}return i.invert=function(t){return t=e.invert(t[0]*H,t[1]*H),t[0]*=rt,t[1]*=rt,t},i}function Gf(e,i,t,n,s,o){if(t){var a=O(i),r=D(i),c=n*t;s==null?(s=i+n*dt,o=i-c/2):(s=$f(a,s),o=$f(a,o),(n>0?s<o:s>o)&&(s+=n*dt));for(var l,f=s;n>0?f>o:f<o;f-=c)l=Qi([a,-r*O(f),-r*D(f)]),e.point(l[0],l[1])}}function $f(e,i){i=te(i),i[0]-=e,nn(i);var t=As(-i[1]);return((-i[2]<0?-t:t)+dt-A)%dt}function Rs(){var e=[],i;return{point:function(t,n,s){i.push([t,n,s])},lineStart:function(){e.push(i=[])},lineEnd:tt,rejoin:function(){e.length>1&&e.push(e.pop().concat(e.shift()))},result:function(){var t=e;return e=[],i=null,t}}}function pi(e,i){return B(e[0]-i[0])<A&&B(e[1]-i[1])<A}function Os(e,i,t,n){this.x=e,this.z=i,this.o=t,this.e=n,this.v=!1,this.n=this.p=null}function Ts(e,i,t,n,s){var o=[],a=[],r,c;if(e.forEach(function(p){if(!((g=p.length-1)<=0)){var g,m=p[0],b=p[g],x;if(pi(m,b)){if(!m[2]&&!b[2]){for(s.lineStart(),r=0;r<g;++r)s.point((m=p[r])[0],m[1]);s.lineEnd();return}b[0]+=2*A}o.push(x=new Os(m,p,null,!0)),a.push(x.o=new Os(m,null,x,!1)),o.push(x=new Os(b,p,null,!1)),a.push(x.o=new Os(b,null,x,!0))}}),!!o.length){for(a.sort(i),qf(o),qf(a),r=0,c=a.length;r<c;++r)a[r].e=t=!t;for(var l=o[0],f,h;;){for(var d=l,u=!0;d.v;)if((d=d.n)===l)return;f=d.z,s.lineStart();do{if(d.v=d.o.v=!0,d.e){if(u)for(r=0,c=f.length;r<c;++r)s.point((h=f[r])[0],h[1]);else n(d.x,d.n.x,1,s);d=d.n}else{if(u)for(f=d.p.z,r=f.length-1;r>=0;--r)s.point((h=f[r])[0],h[1]);else n(d.x,d.p.x,-1,s);d=d.p}d=d.o,f=d.z,u=!u}while(!d.v);s.lineEnd()}}}function qf(e){if(i=e.length){for(var i,t=0,n=e[0],s;++t<i;)n.n=s=e[t],s.p=n,n=s;n.n=s=e[0],s.p=n}}function Aa(e){return B(e[0])<=F?e[0]:bt(e[0])*((B(e[0])+F)%dt-F)}function Ls(e,i){var t=Aa(i),n=i[1],s=D(n),o=[D(t),-O(t),0],a=0,r=0,c=new vt;s===1?n=U+A:s===-1&&(n=-U-A);for(var l=0,f=e.length;l<f;++l)if(d=(h=e[l]).length)for(var h,d,u=h[d-1],p=Aa(u),g=u[1]/2+Sa,m=D(g),b=O(g),x=0;x<d;++x,p=v,m=w,b=P,u=y){var y=h[x],v=Aa(y),_=y[1]/2+Sa,w=D(_),P=O(_),S=v-p,k=S>=0?1:-1,E=k*S,C=E>F,I=m*w;if(c.add(ct(I*k*D(E),b*P+I*O(E))),a+=C?S+k*dt:S,C^p>=t^v>=t){var j=ui(te(u),te(y));nn(j);var N=ui(o,j);nn(N);var M=(C^S>=0?-1:1)*st(N[2]);(n>M||n===M&&(j[0]||j[1]))&&(r+=C^S>=0?1:-1)}}return(a<-A||a<A&&c<-hi)^r&1}function Is(e,i,t,n){return function(s){var o=i(s),a=Rs(),r=i(a),c=!1,l,f,h,d={point:u,lineStart:g,lineEnd:m,polygonStart:function(){d.point=b,d.lineStart=x,d.lineEnd=y,f=[],l=[]},polygonEnd:function(){d.point=u,d.lineStart=g,d.lineEnd=m,f=fi(f);var v=Ls(l,n);f.length?(c||(s.polygonStart(),c=!0),Ts(f,sm,v,t,s)):v&&(c||(s.polygonStart(),c=!0),s.lineStart(),t(null,null,1,s),s.lineEnd()),c&&(s.polygonEnd(),c=!1),f=l=null},sphere:function(){s.polygonStart(),s.lineStart(),t(null,null,1,s),s.lineEnd(),s.polygonEnd()}};function u(v,_){e(v,_)&&s.point(v,_)}function p(v,_){o.point(v,_)}function g(){d.point=p,o.lineStart()}function m(){d.point=u,o.lineEnd()}function b(v,_){h.push([v,_]),r.point(v,_)}function x(){r.lineStart(),h=[]}function y(){b(h[0][0],h[0][1]),r.lineEnd();var v=r.clean(),_=a.result(),w,P=_.length,S,k,E;if(h.pop(),l.push(h),h=null,!!P){if(v&1){if(k=_[0],(S=k.length-1)>0){for(c||(s.polygonStart(),c=!0),s.lineStart(),w=0;w<S;++w)s.point((E=k[w])[0],E[1]);s.lineEnd()}return}P>1&&v&2&&_.push(_.pop().concat(_.shift())),f.push(_.filter(nm))}}return d}}function nm(e){return e.length>1}function sm(e,i){return((e=e.x)[0]<0?e[1]-U-A:U-e[1])-((i=i.x)[0]<0?i[1]-U-A:U-i[1])}var Ea=Is(function(){return!0},om,rm,[-F,-U]);function om(e){var i=NaN,t=NaN,n=NaN,s;return{lineStart:function(){e.lineStart(),s=1},point:function(o,a){var r=o>0?F:-F,c=B(o-i);B(c-F)<A?(e.point(i,t=(t+a)/2>0?U:-U),e.point(n,t),e.lineEnd(),e.lineStart(),e.point(r,t),e.point(o,t),s=0):n!==r&&c>=F&&(B(i-n)<A&&(i-=n*A),B(o-r)<A&&(o-=r*A),t=am(i,t,o,a),e.point(n,t),e.lineEnd(),e.lineStart(),e.point(r,t),s=0),e.point(i=o,t=a),n=r},lineEnd:function(){e.lineEnd(),i=t=NaN},clean:function(){return 2-s}}}function am(e,i,t,n){var s,o,a=D(e-t);return B(a)>A?It((D(i)*(o=O(n))*D(t)-D(n)*(s=O(i))*D(e))/(s*o*a)):(i+n)/2}function rm(e,i,t,n){var s;if(e==null)s=t*U,n.point(-F,s),n.point(0,s),n.point(F,s),n.point(F,0),n.point(F,-s),n.point(0,-s),n.point(-F,-s),n.point(-F,0),n.point(-F,s);else if(B(e[0]-i[0])>A){var o=e[0]<i[0]?F:-F;s=t*o/2,n.point(-o,s),n.point(0,s),n.point(o,s)}else n.point(i[0],i[1])}function Yf(e){var i=O(e),t=2*H,n=i>0,s=B(i)>A;function o(f,h,d,u){Gf(u,e,t,d,f,h)}function a(f,h){return O(f)*O(h)>i}function r(f){var h,d,u,p,g;return{lineStart:function(){p=u=!1,g=1},point:function(m,b){var x=[m,b],y,v=a(m,b),_=n?v?0:l(m,b):v?l(m+(m<0?F:-F),b):0;if(!h&&(p=u=v)&&f.lineStart(),v!==u&&(y=c(h,x),(!y||pi(h,y)||pi(x,y))&&(x[2]=1)),v!==u)g=0,v?(f.lineStart(),y=c(x,h),f.point(y[0],y[1])):(y=c(h,x),f.point(y[0],y[1],2),f.lineEnd()),h=y;else if(s&&h&&n^v){var w;!(_&d)&&(w=c(x,h,!0))&&(g=0,n?(f.lineStart(),f.point(w[0][0],w[0][1]),f.point(w[1][0],w[1][1]),f.lineEnd()):(f.point(w[1][0],w[1][1]),f.lineEnd(),f.lineStart(),f.point(w[0][0],w[0][1],3)))}v&&(!h||!pi(h,x))&&f.point(x[0],x[1]),h=x,u=v,d=_},lineEnd:function(){u&&f.lineEnd(),h=null},clean:function(){return g|(p&&u)<<1}}}function c(f,h,d){var u=te(f),p=te(h),g=[1,0,0],m=ui(u,p),b=tn(m,m),x=m[0],y=b-x*x;if(!y)return!d&&f;var v=i*b/y,_=-i*x/y,w=ui(g,m),P=en(g,v),S=en(m,_);Ds(P,S);var k=w,E=tn(P,k),C=tn(k,k),I=E*E-C*(tn(P,P)-1);if(!(I<0)){var j=X(I),N=en(k,(-E-j)/C);if(Ds(N,P),N=Qi(N),!d)return N;var M=f[0],R=h[0],V=f[1],Q=h[1],q;R<M&&(q=M,M=R,R=q);var Dt=R-M,Mt=B(Dt-F)<A,St=Mt||Dt<A;if(!Mt&&Q<V&&(q=V,V=Q,Q=q),St?Mt?V+Q>0^N[1]<(B(N[0]-M)<A?V:Q):V<=N[1]&&N[1]<=Q:Dt>F^(M<=N[0]&&N[0]<=R)){var xt=en(k,(-E+j)/C);return Ds(xt,P),[N,Qi(xt)]}}}function l(f,h){var d=n?e:F-e,u=0;return f<-d?u|=1:f>d&&(u|=2),h<-d?u|=4:h>d&&(u|=8),u}return Is(a,r,o,n?[0,-e]:[-F,e-F])}function Uf(e,i,t,n,s,o){var a=e[0],r=e[1],c=i[0],l=i[1],f=0,h=1,d=c-a,u=l-r,p;if(p=t-a,!(!d&&p>0)){if(p/=d,d<0){if(p<f)return;p<h&&(h=p)}else if(d>0){if(p>h)return;p>f&&(f=p)}if(p=s-a,!(!d&&p<0)){if(p/=d,d<0){if(p>h)return;p>f&&(f=p)}else if(d>0){if(p<f)return;p<h&&(h=p)}if(p=n-r,!(!u&&p>0)){if(p/=u,u<0){if(p<f)return;p<h&&(h=p)}else if(u>0){if(p>h)return;p>f&&(f=p)}if(p=o-r,!(!u&&p<0)){if(p/=u,u<0){if(p>h)return;p>f&&(f=p)}else if(u>0){if(p<f)return;p<h&&(h=p)}return f>0&&(e[0]=a+f*d,e[1]=r+f*u),h<1&&(i[0]=a+h*d,i[1]=r+h*u),!0}}}}}var on=1e9,zs=-on;function Da(e,i,t,n){function s(l,f){return e<=l&&l<=t&&i<=f&&f<=n}function o(l,f,h,d){var u=0,p=0;if(l==null||(u=a(l,h))!==(p=a(f,h))||c(l,f)<0^h>0)do d.point(u===0||u===3?e:t,u>1?n:i);while((u=(u+h+4)%4)!==p);else d.point(f[0],f[1])}function a(l,f){return B(l[0]-e)<A?f>0?0:3:B(l[0]-t)<A?f>0?2:1:B(l[1]-i)<A?f>0?1:0:f>0?3:2}function r(l,f){return c(l.x,f.x)}function c(l,f){var h=a(l,1),d=a(f,1);return h!==d?h-d:h===0?f[1]-l[1]:h===1?l[0]-f[0]:h===2?l[1]-f[1]:f[0]-l[0]}return function(l){var f=l,h=Rs(),d,u,p,g,m,b,x,y,v,_,w,P={point:S,lineStart:I,lineEnd:j,polygonStart:E,polygonEnd:C};function S(M,R){s(M,R)&&f.point(M,R)}function k(){for(var M=0,R=0,V=u.length;R<V;++R)for(var Q=u[R],q=1,Dt=Q.length,Mt=Q[0],St,xt,Rt=Mt[0],Ot=Mt[1];q<Dt;++q)St=Rt,xt=Ot,Mt=Q[q],Rt=Mt[0],Ot=Mt[1],xt<=n?Ot>n&&(Rt-St)*(n-xt)>(Ot-xt)*(e-St)&&++M:Ot<=n&&(Rt-St)*(n-xt)<(Ot-xt)*(e-St)&&--M;return M}function E(){f=h,d=[],u=[],w=!0}function C(){var M=k(),R=w&&M,V=(d=fi(d)).length;(R||V)&&(l.polygonStart(),R&&(l.lineStart(),o(null,null,1,l),l.lineEnd()),V&&Ts(d,r,M,o,l),l.polygonEnd()),f=l,d=u=p=null}function I(){P.point=N,u&&u.push(p=[]),_=!0,v=!1,x=y=NaN}function j(){d&&(N(g,m),b&&v&&h.rejoin(),d.push(h.result())),P.point=S,v&&f.lineEnd()}function N(M,R){var V=s(M,R);if(u&&p.push([M,R]),_)g=M,m=R,b=V,_=!1,V&&(f.lineStart(),f.point(M,R));else if(V&&v)f.point(M,R);else{var Q=[x=Math.max(zs,Math.min(on,x)),y=Math.max(zs,Math.min(on,y))],q=[M=Math.max(zs,Math.min(on,M)),R=Math.max(zs,Math.min(on,R))];Uf(Q,q,e,i,t,n)?(v||(f.lineStart(),f.point(Q[0],Q[1])),f.point(q[0],q[1]),V||f.lineEnd(),w=!1):V&&(f.lineStart(),f.point(M,R),w=!1)}x=M,y=R,v=V}return P}}var Ra,Oa,Bs,Fs,gi={sphere:tt,point:tt,lineStart:cm,lineEnd:tt,polygonStart:tt,polygonEnd:tt};function cm(){gi.point=fm,gi.lineEnd=lm}function lm(){gi.point=gi.lineEnd=tt}function fm(e,i){e*=H,i*=H,Oa=e,Bs=D(i),Fs=O(i),gi.point=hm}function hm(e,i){e*=H,i*=H;var t=D(i),n=O(i),s=B(e-Oa),o=O(s),a=D(s),r=n*a,c=Fs*t-Bs*n*o,l=Bs*t+Fs*n*o;Ra.add(ct(X(r*r+c*c),l)),Oa=e,Bs=t,Fs=n}function Xf(e){return Ra=new vt,Qt(e,gi),+Ra}var Ta=[null,null],dm={type:"LineString",coordinates:Ta};function Ns(e,i){return Ta[0]=e,Ta[1]=i,Xf(dm)}var Kf={Feature:function(e,i){return Vs(e.geometry,i)},FeatureCollection:function(e,i){for(var t=e.features,n=-1,s=t.length;++n<s;)if(Vs(t[n].geometry,i))return!0;return!1}},Zf={Sphere:function(){return!0},Point:function(e,i){return Jf(e.coordinates,i)},MultiPoint:function(e,i){for(var t=e.coordinates,n=-1,s=t.length;++n<s;)if(Jf(t[n],i))return!0;return!1},LineString:function(e,i){return Qf(e.coordinates,i)},MultiLineString:function(e,i){for(var t=e.coordinates,n=-1,s=t.length;++n<s;)if(Qf(t[n],i))return!0;return!1},Polygon:function(e,i){return th(e.coordinates,i)},MultiPolygon:function(e,i){for(var t=e.coordinates,n=-1,s=t.length;++n<s;)if(th(t[n],i))return!0;return!1},GeometryCollection:function(e,i){for(var t=e.geometries,n=-1,s=t.length;++n<s;)if(Vs(t[n],i))return!0;return!1}};function Vs(e,i){return e&&Zf.hasOwnProperty(e.type)?Zf[e.type](e,i):!1}function Jf(e,i){return Ns(e,i)===0}function Qf(e,i){for(var t,n,s,o=0,a=e.length;o<a;o++){if(n=Ns(e[o],i),n===0||o>0&&(s=Ns(e[o],e[o-1]),s>0&&t<=s&&n<=s&&(t+n-s)*(1-Math.pow((t-n)/s,2))<hi*s))return!0;t=n}return!1}function th(e,i){return!!Ls(e.map(um),eh(i))}function um(e){return e=e.map(eh),e.pop(),e}function eh(e){return[e[0]*H,e[1]*H]}function La(e,i){return(e&&Kf.hasOwnProperty(e.type)?Kf[e.type]:Vs)(e,i)}function ih(e,i,t){var n=pe(e,i-A,t).concat(i);return function(s){return n.map(function(o){return[s,o]})}}function nh(e,i,t){var n=pe(e,i-A,t).concat(i);return function(s){return n.map(function(o){return[o,s]})}}function an(){var e,i,t,n,s,o,a,r,c=10,l=c,f=90,h=360,d,u,p,g,m=2.5;function b(){return{type:"MultiLineString",coordinates:x()}}function x(){return pe(Ji(n/f)*f,t,f).map(p).concat(pe(Ji(r/h)*h,a,h).map(g)).concat(pe(Ji(i/c)*c,e,c).filter(function(y){return B(y%f)>A}).map(d)).concat(pe(Ji(o/l)*l,s,l).filter(function(y){return B(y%h)>A}).map(u))}return b.lines=function(){return x().map(function(y){return{type:"LineString",coordinates:y}})},b.outline=function(){return{type:"Polygon",coordinates:[p(n).concat(g(a).slice(1),p(t).reverse().slice(1),g(r).reverse().slice(1))]}},b.extent=function(y){return arguments.length?b.extentMajor(y).extentMinor(y):b.extentMinor()},b.extentMajor=function(y){return arguments.length?(n=+y[0][0],t=+y[1][0],r=+y[0][1],a=+y[1][1],n>t&&(y=n,n=t,t=y),r>a&&(y=r,r=a,a=y),b.precision(m)):[[n,r],[t,a]]},b.extentMinor=function(y){return arguments.length?(i=+y[0][0],e=+y[1][0],o=+y[0][1],s=+y[1][1],i>e&&(y=i,i=e,e=y),o>s&&(y=o,o=s,s=y),b.precision(m)):[[i,o],[e,s]]},b.step=function(y){return arguments.length?b.stepMajor(y).stepMinor(y):b.stepMinor()},b.stepMajor=function(y){return arguments.length?(f=+y[0],h=+y[1],b):[f,h]},b.stepMinor=function(y){return arguments.length?(c=+y[0],l=+y[1],b):[c,l]},b.precision=function(y){return arguments.length?(m=+y,d=ih(o,s,90),u=nh(i,e,m),p=ih(r,a,90),g=nh(n,t,m),b):m},b.extentMajor([[-180,-90+A],[180,90-A]]).extentMinor([[-180,-80-A],[180,80+A]])}function Ia(){return an()()}var rn=e=>e;var za=new vt,Ba=new vt,sh,oh,Fa,Na,Ce={point:tt,lineStart:tt,lineEnd:tt,polygonStart:function(){Ce.lineStart=pm,Ce.lineEnd=mm},polygonEnd:function(){Ce.lineStart=Ce.lineEnd=Ce.point=tt,za.add(B(Ba)),Ba=new vt},result:function(){var e=za/2;return za=new vt,e}};function pm(){Ce.point=gm}function gm(e,i){Ce.point=ah,sh=Fa=e,oh=Na=i}function ah(e,i){Ba.add(Na*e-Fa*i),Fa=e,Na=i}function mm(){ah(sh,oh)}var Va=Ce;var mi=1/0,js=mi,cn=-mi,Ws=cn,bm={point:xm,lineStart:tt,lineEnd:tt,polygonStart:tt,polygonEnd:tt,result:function(){var e=[[mi,js],[cn,Ws]];return cn=Ws=-(js=mi=1/0),e}};function xm(e,i){e<mi&&(mi=e),e>cn&&(cn=e),i<js&&(js=i),i>Ws&&(Ws=i)}var bi=bm;var ja=0,Wa=0,ln=0,Hs=0,$s=0,xi=0,Ha=0,$a=0,fn=0,lh,fh,ee,ie,Wt={point:Xe,lineStart:rh,lineEnd:ch,polygonStart:function(){Wt.lineStart=vm,Wt.lineEnd=wm},polygonEnd:function(){Wt.point=Xe,Wt.lineStart=rh,Wt.lineEnd=ch},result:function(){var e=fn?[Ha/fn,$a/fn]:xi?[Hs/xi,$s/xi]:ln?[ja/ln,Wa/ln]:[NaN,NaN];return ja=Wa=ln=Hs=$s=xi=Ha=$a=fn=0,e}};function Xe(e,i){ja+=e,Wa+=i,++ln}function rh(){Wt.point=ym}function ym(e,i){Wt.point=_m,Xe(ee=e,ie=i)}function _m(e,i){var t=e-ee,n=i-ie,s=X(t*t+n*n);Hs+=s*(ee+e)/2,$s+=s*(ie+i)/2,xi+=s,Xe(ee=e,ie=i)}function ch(){Wt.point=Xe}function vm(){Wt.point=Mm}function wm(){hh(lh,fh)}function Mm(e,i){Wt.point=hh,Xe(lh=ee=e,fh=ie=i)}function hh(e,i){var t=e-ee,n=i-ie,s=X(t*t+n*n);Hs+=s*(ee+e)/2,$s+=s*(ie+i)/2,xi+=s,s=ie*e-ee*i,Ha+=s*(ee+e),$a+=s*(ie+i),fn+=s*3,Xe(ee=e,ie=i)}var Ga=Wt;function Gs(e){this._context=e}Gs.prototype={_radius:4.5,pointRadius:function(e){return this._radius=e,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){this._line===0&&this._context.closePath(),this._point=NaN},point:function(e,i){switch(this._point){case 0:{this._context.moveTo(e,i),this._point=1;break}case 1:{this._context.lineTo(e,i);break}default:{this._context.moveTo(e+this._radius,i),this._context.arc(e,i,this._radius,0,dt);break}}},result:tt};var Ya=new vt,qa,dh,uh,hn,dn,qs={point:tt,lineStart:function(){qs.point=Sm},lineEnd:function(){qa&&ph(dh,uh),qs.point=tt},polygonStart:function(){qa=!0},polygonEnd:function(){qa=null},result:function(){var e=+Ya;return Ya=new vt,e}};function Sm(e,i){qs.point=ph,dh=hn=e,uh=dn=i}function ph(e,i){hn-=e,dn-=i,Ya.add(X(hn*hn+dn*dn)),hn=e,dn=i}var Ua=qs;var gh,Ys,mh,bh,un=class{constructor(i){this._append=i==null?xh:Pm(i),this._radius=4.5,this._=""}pointRadius(i){return this._radius=+i,this}polygonStart(){this._line=0}polygonEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){this._line===0&&(this._+="Z"),this._point=NaN}point(i,t){switch(this._point){case 0:{this._append`M${i},${t}`,this._point=1;break}case 1:{this._append`L${i},${t}`;break}default:{if(this._append`M${i},${t}`,this._radius!==mh||this._append!==Ys){let n=this._radius,s=this._;this._="",this._append`m0,${n}a${n},${n} 0 1,1 0,${-2*n}a${n},${n} 0 1,1 0,${2*n}z`,mh=n,Ys=this._append,bh=this._,this._=s}this._+=bh;break}}}result(){let i=this._;return this._="",i.length?i:null}};function xh(e){let i=1;this._+=e[0];for(let t=e.length;i<t;++i)this._+=arguments[i]+e[i]}function Pm(e){let i=Math.floor(e);if(!(i>=0))throw new RangeError(`invalid digits: ${e}`);if(i>15)return xh;if(i!==gh){let t=10**i;gh=i,Ys=function(s){let o=1;this._+=s[0];for(let a=s.length;o<a;++o)this._+=Math.round(arguments[o]*t)/t+s[o]}}return Ys}function Us(e,i){let t=3,n=4.5,s,o;function a(r){return r&&(typeof n=="function"&&o.pointRadius(+n.apply(this,arguments)),Qt(r,s(o))),o.result()}return a.area=function(r){return Qt(r,s(Va)),Va.result()},a.measure=function(r){return Qt(r,s(Ua)),Ua.result()},a.bounds=function(r){return Qt(r,s(bi)),bi.result()},a.centroid=function(r){return Qt(r,s(Ga)),Ga.result()},a.projection=function(r){return arguments.length?(s=r==null?(e=null,rn):(e=r).stream,a):e},a.context=function(r){return arguments.length?(o=r==null?(i=null,new un(t)):new Gs(i=r),typeof n!="function"&&o.pointRadius(n),a):i},a.pointRadius=function(r){return arguments.length?(n=typeof r=="function"?r:(o.pointRadius(+r),+r),a):n},a.digits=function(r){if(!arguments.length)return t;if(r==null)t=null;else{let c=Math.floor(r);if(!(c>=0))throw new RangeError(`invalid digits: ${r}`);t=c}return i===null&&(o=new un(t)),a},a.projection(e).digits(t).context(i)}function pn(e){return function(i){var t=new Xa;for(var n in e)t[n]=e[n];return t.stream=i,t}}function Xa(){}Xa.prototype={constructor:Xa,point:function(e,i){this.stream.point(e,i)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};function Ka(e,i,t){var n=e.clipExtent&&e.clipExtent();return e.scale(150).translate([0,0]),n!=null&&e.clipExtent(null),Qt(t,e.stream(bi)),i(bi.result()),n!=null&&e.clipExtent(n),e}function gn(e,i,t){return Ka(e,function(n){var s=i[1][0]-i[0][0],o=i[1][1]-i[0][1],a=Math.min(s/(n[1][0]-n[0][0]),o/(n[1][1]-n[0][1])),r=+i[0][0]+(s-a*(n[1][0]+n[0][0]))/2,c=+i[0][1]+(o-a*(n[1][1]+n[0][1]))/2;e.scale(150*a).translate([r,c])},t)}function Xs(e,i,t){return gn(e,[[0,0],i],t)}function Ks(e,i,t){return Ka(e,function(n){var s=+i,o=s/(n[1][0]-n[0][0]),a=(s-o*(n[1][0]+n[0][0]))/2,r=-o*n[0][1];e.scale(150*o).translate([a,r])},t)}function Zs(e,i,t){return Ka(e,function(n){var s=+i,o=s/(n[1][1]-n[0][1]),a=-o*n[0][0],r=(s-o*(n[1][1]+n[0][1]))/2;e.scale(150*o).translate([a,r])},t)}var yh=16,km=O(30*H);function Za(e,i){return+i?Am(e,i):Cm(e)}function Cm(e){return pn({point:function(i,t){i=e(i,t),this.stream.point(i[0],i[1])}})}function Am(e,i){function t(n,s,o,a,r,c,l,f,h,d,u,p,g,m){var b=l-n,x=f-s,y=b*b+x*x;if(y>4*i&&g--){var v=a+d,_=r+u,w=c+p,P=X(v*v+_*_+w*w),S=st(w/=P),k=B(B(w)-1)<A||B(o-h)<A?(o+h)/2:ct(_,v),E=e(k,S),C=E[0],I=E[1],j=C-n,N=I-s,M=x*j-b*N;(M*M/y>i||B((b*j+x*N)/y-.5)>.3||a*d+r*u+c*p<km)&&(t(n,s,o,a,r,c,C,I,k,v/=P,_/=P,w,g,m),m.point(C,I),t(C,I,k,v,_,w,l,f,h,d,u,p,g,m))}}return function(n){var s,o,a,r,c,l,f,h,d,u,p,g,m={point:b,lineStart:x,lineEnd:v,polygonStart:function(){n.polygonStart(),m.lineStart=_},polygonEnd:function(){n.polygonEnd(),m.lineStart=x}};function b(S,k){S=e(S,k),n.point(S[0],S[1])}function x(){h=NaN,m.point=y,n.lineStart()}function y(S,k){var E=te([S,k]),C=e(S,k);t(h,d,f,u,p,g,h=C[0],d=C[1],f=S,u=E[0],p=E[1],g=E[2],yh,n),n.point(h,d)}function v(){m.point=b,n.lineEnd()}function _(){x(),m.point=w,m.lineEnd=P}function w(S,k){y(s=S,k),o=h,a=d,r=u,c=p,l=g,m.point=y}function P(){t(h,d,f,u,p,g,o,a,s,r,c,l,yh,n),m.lineEnd=v,v()}return m}}var Em=pn({point:function(e,i){this.stream.point(e*H,i*H)}});function Dm(e){return pn({point:function(i,t){var n=e(i,t);return this.stream.point(n[0],n[1])}})}function Rm(e,i,t,n,s){function o(a,r){return a*=n,r*=s,[i+e*a,t-e*r]}return o.invert=function(a,r){return[(a-i)/e*n,(t-r)/e*s]},o}function _h(e,i,t,n,s,o){if(!o)return Rm(e,i,t,n,s);var a=O(o),r=D(o),c=a*e,l=r*e,f=a/e,h=r/e,d=(r*t-a*i)/e,u=(r*i+a*t)/e;function p(g,m){return g*=n,m*=s,[c*g-l*m+i,t-l*g-c*m]}return p.invert=function(g,m){return[n*(f*g-h*m+d),s*(u-h*g-f*m)]},p}function lt(e){return Ja(function(){return e})()}function Ja(e){var i,t=150,n=480,s=250,o=0,a=0,r=0,c=0,l=0,f,h=0,d=1,u=1,p=null,g=Ea,m=null,b,x,y,v=rn,_=.5,w,P,S,k,E;function C(M){return S(M[0]*H,M[1]*H)}function I(M){return M=S.invert(M[0],M[1]),M&&[M[0]*rt,M[1]*rt]}C.stream=function(M){return k&&E===M?k:k=Em(Dm(f)(g(w(v(E=M)))))},C.preclip=function(M){return arguments.length?(g=M,p=void 0,N()):g},C.postclip=function(M){return arguments.length?(v=M,m=b=x=y=null,N()):v},C.clipAngle=function(M){return arguments.length?(g=+M?Yf(p=M*H):(p=null,Ea),N()):p*rt},C.clipExtent=function(M){return arguments.length?(v=M==null?(m=b=x=y=null,rn):Da(m=+M[0][0],b=+M[0][1],x=+M[1][0],y=+M[1][1]),N()):m==null?null:[[m,b],[x,y]]},C.scale=function(M){return arguments.length?(t=+M,j()):t},C.translate=function(M){return arguments.length?(n=+M[0],s=+M[1],j()):[n,s]},C.center=function(M){return arguments.length?(o=M[0]%360*H,a=M[1]%360*H,j()):[o*rt,a*rt]},C.rotate=function(M){return arguments.length?(r=M[0]%360*H,c=M[1]%360*H,l=M.length>2?M[2]%360*H:0,j()):[r*rt,c*rt,l*rt]},C.angle=function(M){return arguments.length?(h=M%360*H,j()):h*rt},C.reflectX=function(M){return arguments.length?(d=M?-1:1,j()):d<0},C.reflectY=function(M){return arguments.length?(u=M?-1:1,j()):u<0},C.precision=function(M){return arguments.length?(w=Za(P,_=M*M),N()):X(_)},C.fitExtent=function(M,R){return gn(C,M,R)},C.fitSize=function(M,R){return Xs(C,M,R)},C.fitWidth=function(M,R){return Ks(C,M,R)},C.fitHeight=function(M,R){return Zs(C,M,R)};function j(){var M=_h(t,0,0,d,u,h).apply(null,i(o,a)),R=_h(t,n-M[0],s-M[1],d,u,h);return f=Ca(r,c,l),P=sn(i,R),S=sn(f,P),w=Za(P,_),N()}function N(){return k=E=null,C}return function(){return i=e.apply(this,arguments),C.invert=i.invert&&I,j()}}function yi(e){var i=0,t=F/3,n=Ja(e),s=n(i,t);return s.parallels=function(o){return arguments.length?n(i=o[0]*H,t=o[1]*H):[i*rt,t*rt]},s}function vh(e){var i=O(e);function t(n,s){return[n*i,D(s)/i]}return t.invert=function(n,s){return[n/i,st(s*i)]},t}function wh(e,i){var t=D(e),n=(t+D(i))/2;if(B(n)<A)return vh(e);var s=1+t*(2*n-t),o=X(s)/n;function a(r,c){var l=X(s-2*n*D(c))/n;return[l*D(r*=n),o-l*O(r)]}return a.invert=function(r,c){var l=o-c,f=ct(r,B(l))*bt(l);return l*n<0&&(f-=F*bt(r)*bt(l)),[f/n,st((s-(r*r+l*l)*n*n)/(2*n))]},a}function Ae(){return yi(wh).scale(155.424).center([0,33.6442])}function mn(){return Ae().parallels([29.5,45.5]).scale(1070).translate([480,250]).rotate([96,0]).center([-.6,38.7])}function Om(e){var i=e.length;return{point:function(t,n){for(var s=-1;++s<i;)e[s].point(t,n)},sphere:function(){for(var t=-1;++t<i;)e[t].sphere()},lineStart:function(){for(var t=-1;++t<i;)e[t].lineStart()},lineEnd:function(){for(var t=-1;++t<i;)e[t].lineEnd()},polygonStart:function(){for(var t=-1;++t<i;)e[t].polygonStart()},polygonEnd:function(){for(var t=-1;++t<i;)e[t].polygonEnd()}}}function Qa(){var e,i,t=mn(),n,s=Ae().rotate([154,0]).center([-2,58.5]).parallels([55,65]),o,a=Ae().rotate([157,0]).center([-3,19.9]).parallels([8,18]),r,c,l={point:function(d,u){c=[d,u]}};function f(d){var u=d[0],p=d[1];return c=null,n.point(u,p),c||(o.point(u,p),c)||(r.point(u,p),c)}f.invert=function(d){var u=t.scale(),p=t.translate(),g=(d[0]-p[0])/u,m=(d[1]-p[1])/u;return(m>=.12&&m<.234&&g>=-.425&&g<-.214?s:m>=.166&&m<.234&&g>=-.214&&g<-.115?a:t).invert(d)},f.stream=function(d){return e&&i===d?e:e=Om([t.stream(i=d),s.stream(d),a.stream(d)])},f.precision=function(d){return arguments.length?(t.precision(d),s.precision(d),a.precision(d),h()):t.precision()},f.scale=function(d){return arguments.length?(t.scale(d),s.scale(d*.35),a.scale(d),f.translate(t.translate())):t.scale()},f.translate=function(d){if(!arguments.length)return t.translate();var u=t.scale(),p=+d[0],g=+d[1];return n=t.translate(d).clipExtent([[p-.455*u,g-.238*u],[p+.455*u,g+.238*u]]).stream(l),o=s.translate([p-.307*u,g+.201*u]).clipExtent([[p-.425*u+A,g+.12*u+A],[p-.214*u-A,g+.234*u-A]]).stream(l),r=a.translate([p-.205*u,g+.212*u]).clipExtent([[p-.214*u+A,g+.166*u+A],[p-.115*u-A,g+.234*u-A]]).stream(l),h()},f.fitExtent=function(d,u){return gn(f,d,u)},f.fitSize=function(d,u){return Xs(f,d,u)},f.fitWidth=function(d,u){return Ks(f,d,u)},f.fitHeight=function(d,u){return Zs(f,d,u)};function h(){return e=i=null,f}return f.scale(1070)}function Js(e){return function(i,t){var n=O(i),s=O(t),o=e(n*s);return o===1/0?[2,0]:[o*s*D(i),o*D(t)]}}function ne(e){return function(i,t){var n=X(i*i+t*t),s=e(n),o=D(s),a=O(s);return[ct(i*o,n*a),st(n&&t*o/n)]}}var tr=Js(function(e){return X(2/(1+e))});tr.invert=ne(function(e){return 2*st(e/2)});function er(){return lt(tr).scale(124.75).clipAngle(180-.001)}var ir=Js(function(e){return(e=As(e))&&e/D(e)});ir.invert=ne(function(e){return e});function nr(){return lt(ir).scale(79.4188).clipAngle(180-.001)}function _i(e,i){return[e,Ue(di((U+i)/2))]}_i.invert=function(e,i){return[e,2*It(ks(i))-U]};function sr(){return or(_i).scale(961/dt)}function or(e){var i=lt(e),t=i.center,n=i.scale,s=i.translate,o=i.clipExtent,a=null,r,c,l;i.scale=function(h){return arguments.length?(n(h),f()):n()},i.translate=function(h){return arguments.length?(s(h),f()):s()},i.center=function(h){return arguments.length?(t(h),f()):t()},i.clipExtent=function(h){return arguments.length?(h==null?a=r=c=l=null:(a=+h[0][0],r=+h[0][1],c=+h[1][0],l=+h[1][1]),f()):a==null?null:[[a,r],[c,l]]};function f(){var h=F*n(),d=i(Hf(i.rotate()).invert([0,0]));return o(a==null?[[d[0]-h,d[1]-h],[d[0]+h,d[1]+h]]:e===_i?[[Math.max(d[0]-h,a),r],[Math.min(d[0]+h,c),l]]:[[a,Math.max(d[1]-h,r)],[c,Math.min(d[1]+h,l)]])}return f()}function Qs(e){return di((U+e)/2)}function Mh(e,i){var t=O(e),n=e===i?D(e):Ue(t/O(i))/Ue(Qs(i)/Qs(e)),s=t*Cs(Qs(e),n)/n;if(!n)return _i;function o(a,r){s>0?r<-U+A&&(r=-U+A):r>U-A&&(r=U-A);var c=s/Cs(Qs(r),n);return[c*D(n*a),s-c*O(n*a)]}return o.invert=function(a,r){var c=s-r,l=bt(n)*X(a*a+c*c),f=ct(a,B(c))*bt(c);return c*n<0&&(f-=F*bt(a)*bt(c)),[f/n,2*It(Cs(s/l,1/n))-U]},o}function ar(){return yi(Mh).scale(109.5).parallels([30,30])}function vi(e,i){return[e,i]}vi.invert=vi;function rr(){return lt(vi).scale(152.63)}function Sh(e,i){var t=O(e),n=e===i?D(e):(t-O(i))/(i-e),s=t/n+e;if(B(n)<A)return vi;function o(a,r){var c=s-r,l=n*a;return[c*D(l),s-c*O(l)]}return o.invert=function(a,r){var c=s-r,l=ct(a,B(c))*bt(c);return c*n<0&&(l-=F*bt(a)*bt(c)),[l/n,s-bt(n)*X(a*a+c*c)]},o}function cr(){return yi(Sh).scale(131.154).center([0,13.9389])}var bn=1.340264,xn=-.081106,yn=893e-6,_n=.003796,to=X(3)/2,Tm=12;function lr(e,i){var t=st(to*D(i)),n=t*t,s=n*n*n;return[e*O(t)/(to*(bn+3*xn*n+s*(7*yn+9*_n*n))),t*(bn+xn*n+s*(yn+_n*n))]}lr.invert=function(e,i){for(var t=i,n=t*t,s=n*n*n,o=0,a,r,c;o<Tm&&(r=t*(bn+xn*n+s*(yn+_n*n))-i,c=bn+3*xn*n+s*(7*yn+9*_n*n),t-=a=r/c,n=t*t,s=n*n*n,!(B(a)<hi));++o);return[to*e*(bn+3*xn*n+s*(7*yn+9*_n*n))/O(t),st(D(t)/to)]};function fr(){return lt(lr).scale(177.158)}function hr(e,i){var t=O(i),n=O(e)*t;return[t*D(e)/n,D(i)/n]}hr.invert=ne(It);function dr(){return lt(hr).scale(144.049).clipAngle(60)}function ur(e,i){var t=i*i,n=t*t;return[e*(.8707-.131979*t+n*(-.013791+n*(.003971*t-.001529*n))),i*(1.007226+t*(.015085+n*(-.044475+.028874*t-.005916*n)))]}ur.invert=function(e,i){var t=i,n=25,s;do{var o=t*t,a=o*o;t-=s=(t*(1.007226+o*(.015085+a*(-.044475+.028874*o-.005916*a)))-i)/(1.007226+o*(.015085*3+a*(-.044475*7+.028874*9*o-.005916*11*a)))}while(B(s)>A&&--n>0);return[e/(.8707+(o=t*t)*(-.131979+o*(-.013791+o*o*o*(.003971-.001529*o)))),t]};function pr(){return lt(ur).scale(175.295)}function gr(e,i){return[O(i)*D(e),D(i)]}gr.invert=ne(st);function mr(){return lt(gr).scale(249.5).clipAngle(90+A)}function br(e,i){var t=O(i),n=1+O(e)*t;return[t*D(e)/n,D(i)/n]}br.invert=ne(function(e){return 2*It(e)});function xr(){return lt(br).scale(250).clipAngle(142)}function yr(e,i){return[Ue(di((U+i)/2)),-e]}yr.invert=function(e,i){return[-i,2*It(ks(e))-U]};function _r(){var e=or(yr),i=e.center,t=e.rotate;return e.center=function(n){return arguments.length?i([-n[1],n[0]]):(n=i(),[n[1],-n[0]])},e.rotate=function(n){return arguments.length?t([n[0],n[1],n.length>2?n[2]+90:90]):(n=t(),[n[0],n[1],n[2]-90])},t([0,0,90]).scale(159.155)}function T(e){for(var i=e.length/6|0,t=new Array(i),n=0;n<i;)t[n]="#"+e.slice(n*6,++n*6);return t}function wi(e,i,t){e.prototype=i.prototype=t,t.constructor=e}function vn(e,i){var t=Object.create(e.prototype);for(var n in i)t[n]=i[n];return t}function Qe(){}var Ee=.7,Je=1/Ee,Mi="\\s*([+-]?\\d+)\\s*",wn="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",se="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Lm=/^#([0-9a-f]{3,8})$/,Im=new RegExp(`^rgb\\(${Mi},${Mi},${Mi}\\)$`),zm=new RegExp(`^rgb\\(${se},${se},${se}\\)$`),Bm=new RegExp(`^rgba\\(${Mi},${Mi},${Mi},${wn}\\)$`),Fm=new RegExp(`^rgba\\(${se},${se},${se},${wn}\\)$`),Nm=new RegExp(`^hsl\\(${wn},${se},${se}\\)$`),Vm=new RegExp(`^hsla\\(${wn},${se},${se},${wn}\\)$`),Ph={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};wi(Qe,Mn,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:kh,formatHex:kh,formatHex8:jm,formatHsl:Wm,formatRgb:Ch,toString:Ch});function kh(){return this.rgb().formatHex()}function jm(){return this.rgb().formatHex8()}function Wm(){return Th(this).formatHsl()}function Ch(){return this.rgb().formatRgb()}function Mn(e){var i,t;return e=(e+"").trim().toLowerCase(),(i=Lm.exec(e))?(t=i[1].length,i=parseInt(i[1],16),t===6?Ah(i):t===3?new ut(i>>8&15|i>>4&240,i>>4&15|i&240,(i&15)<<4|i&15,1):t===8?eo(i>>24&255,i>>16&255,i>>8&255,(i&255)/255):t===4?eo(i>>12&15|i>>8&240,i>>8&15|i>>4&240,i>>4&15|i&240,((i&15)<<4|i&15)/255):null):(i=Im.exec(e))?new ut(i[1],i[2],i[3],1):(i=zm.exec(e))?new ut(i[1]*255/100,i[2]*255/100,i[3]*255/100,1):(i=Bm.exec(e))?eo(i[1],i[2],i[3],i[4]):(i=Fm.exec(e))?eo(i[1]*255/100,i[2]*255/100,i[3]*255/100,i[4]):(i=Nm.exec(e))?Rh(i[1],i[2]/100,i[3]/100,1):(i=Vm.exec(e))?Rh(i[1],i[2]/100,i[3]/100,i[4]):Ph.hasOwnProperty(e)?Ah(Ph[e]):e==="transparent"?new ut(NaN,NaN,NaN,0):null}function Ah(e){return new ut(e>>16&255,e>>8&255,e&255,1)}function eo(e,i,t,n){return n<=0&&(e=i=t=NaN),new ut(e,i,t,n)}function wr(e){return e instanceof Qe||(e=Mn(e)),e?(e=e.rgb(),new ut(e.r,e.g,e.b,e.opacity)):new ut}function De(e,i,t,n){return arguments.length===1?wr(e):new ut(e,i,t,n??1)}function ut(e,i,t,n){this.r=+e,this.g=+i,this.b=+t,this.opacity=+n}wi(ut,De,vn(Qe,{brighter(e){return e=e==null?Je:Math.pow(Je,e),new ut(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?Ee:Math.pow(Ee,e),new ut(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new ut(Ze(this.r),Ze(this.g),Ze(this.b),no(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Eh,formatHex:Eh,formatHex8:Hm,formatRgb:Dh,toString:Dh}));function Eh(){return`#${Ke(this.r)}${Ke(this.g)}${Ke(this.b)}`}function Hm(){return`#${Ke(this.r)}${Ke(this.g)}${Ke(this.b)}${Ke((isNaN(this.opacity)?1:this.opacity)*255)}`}function Dh(){let e=no(this.opacity);return`${e===1?"rgb(":"rgba("}${Ze(this.r)}, ${Ze(this.g)}, ${Ze(this.b)}${e===1?")":`, ${e})`}`}function no(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Ze(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Ke(e){return e=Ze(e),(e<16?"0":"")+e.toString(16)}function Rh(e,i,t,n){return n<=0?e=i=t=NaN:t<=0||t>=1?e=i=NaN:i<=0&&(e=NaN),new Ht(e,i,t,n)}function Th(e){if(e instanceof Ht)return new Ht(e.h,e.s,e.l,e.opacity);if(e instanceof Qe||(e=Mn(e)),!e)return new Ht;if(e instanceof Ht)return e;e=e.rgb();var i=e.r/255,t=e.g/255,n=e.b/255,s=Math.min(i,t,n),o=Math.max(i,t,n),a=NaN,r=o-s,c=(o+s)/2;return r?(i===o?a=(t-n)/r+(t<n)*6:t===o?a=(n-i)/r+2:a=(i-t)/r+4,r/=c<.5?o+s:2-o-s,a*=60):r=c>0&&c<1?0:a,new Ht(a,r,c,e.opacity)}function Lh(e,i,t,n){return arguments.length===1?Th(e):new Ht(e,i,t,n??1)}function Ht(e,i,t,n){this.h=+e,this.s=+i,this.l=+t,this.opacity=+n}wi(Ht,Lh,vn(Qe,{brighter(e){return e=e==null?Je:Math.pow(Je,e),new Ht(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Ee:Math.pow(Ee,e),new Ht(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,i=isNaN(e)||isNaN(this.s)?0:this.s,t=this.l,n=t+(t<.5?t:1-t)*i,s=2*t-n;return new ut(vr(e>=240?e-240:e+120,s,n),vr(e,s,n),vr(e<120?e+240:e-120,s,n),this.opacity)},clamp(){return new Ht(Oh(this.h),io(this.s),io(this.l),no(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){let e=no(this.opacity);return`${e===1?"hsl(":"hsla("}${Oh(this.h)}, ${io(this.s)*100}%, ${io(this.l)*100}%${e===1?")":`, ${e})`}`}}));function Oh(e){return e=(e||0)%360,e<0?e+360:e}function io(e){return Math.max(0,Math.min(1,e||0))}function vr(e,i,t){return(e<60?i+(t-i)*e/60:e<180?t:e<240?i+(t-i)*(240-e)/60:i)*255}var Ih=Math.PI/180,zh=180/Math.PI;var Vh=-.14861,Mr=1.78277,Sr=-.29227,so=-.90649,Sn=1.97294,Bh=Sn*so,Fh=Sn*Mr,Nh=Mr*Sr-so*Vh;function $m(e){if(e instanceof ti)return new ti(e.h,e.s,e.l,e.opacity);e instanceof ut||(e=wr(e));var i=e.r/255,t=e.g/255,n=e.b/255,s=(Nh*n+Bh*i-Fh*t)/(Nh+Bh-Fh),o=n-s,a=(Sn*(t-s)-Sr*o)/so,r=Math.sqrt(a*a+o*o)/(Sn*s*(1-s)),c=r?Math.atan2(a,o)*zh-120:NaN;return new ti(c<0?c+360:c,r,s,e.opacity)}function wt(e,i,t,n){return arguments.length===1?$m(e):new ti(e,i,t,n??1)}function ti(e,i,t,n){this.h=+e,this.s=+i,this.l=+t,this.opacity=+n}wi(ti,wt,vn(Qe,{brighter(e){return e=e==null?Je:Math.pow(Je,e),new ti(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Ee:Math.pow(Ee,e),new ti(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=isNaN(this.h)?0:(this.h+120)*Ih,i=+this.l,t=isNaN(this.s)?0:this.s*i*(1-i),n=Math.cos(e),s=Math.sin(e);return new ut(255*(i+t*(Vh*n+Mr*s)),255*(i+t*(Sr*n+so*s)),255*(i+t*(Sn*n)),this.opacity)}}));function Pr(e,i,t,n,s){var o=e*e,a=o*e;return((1-3*e+3*o-a)*i+(4-6*o+3*a)*t+(1+3*e+3*o-3*a)*n+a*s)/6}function jh(e){var i=e.length-1;return function(t){var n=t<=0?t=0:t>=1?(t=1,i-1):Math.floor(t*i),s=e[n],o=e[n+1],a=n>0?e[n-1]:2*s-o,r=n<i-1?e[n+2]:2*o-s;return Pr((t-n/i)*i,a,s,o,r)}}function Wh(e){var i=e.length;return function(t){var n=Math.floor(((t%=1)<0?++t:t)*i),s=e[(n+i-1)%i],o=e[n%i],a=e[(n+1)%i],r=e[(n+2)%i];return Pr((t-n/i)*i,s,o,a,r)}}var oo=e=>()=>e;function Hh(e,i){return function(t){return e+t*i}}function Gm(e,i,t){return e=Math.pow(e,t),i=Math.pow(i,t)-e,t=1/t,function(n){return Math.pow(e+n*i,t)}}function $h(e,i){var t=i-e;return t?Hh(e,t>180||t<-180?t-360*Math.round(t/360):t):oo(isNaN(e)?i:e)}function Gh(e){return(e=+e)==1?ge:function(i,t){return t-i?Gm(i,t,e):oo(isNaN(i)?t:i)}}function ge(e,i){var t=i-e;return t?Hh(e,t):oo(isNaN(e)?i:e)}var qm=function e(i){var t=Gh(i);function n(s,o){var a=t((s=De(s)).r,(o=De(o)).r),r=t(s.g,o.g),c=t(s.b,o.b),l=ge(s.opacity,o.opacity);return function(f){return s.r=a(f),s.g=r(f),s.b=c(f),s.opacity=l(f),s+""}}return n.gamma=e,n}(1);function qh(e){return function(i){var t=i.length,n=new Array(t),s=new Array(t),o=new Array(t),a,r;for(a=0;a<t;++a)r=De(i[a]),n[a]=r.r||0,s[a]=r.g||0,o[a]=r.b||0;return n=e(n),s=e(s),o=e(o),r.opacity=1,function(c){return r.r=n(c),r.g=s(c),r.b=o(c),r+""}}}var kr=qh(jh),Ym=qh(Wh);function Yh(e){return function i(t){t=+t;function n(s,o){var a=e((s=wt(s)).h,(o=wt(o)).h),r=ge(s.s,o.s),c=ge(s.l,o.l),l=ge(s.opacity,o.opacity);return function(f){return s.h=a(f),s.s=r(f),s.l=c(Math.pow(f,t)),s.opacity=l(f),s+""}}return n.gamma=i,n}(1)}var Um=Yh($h),Si=Yh(ge);var L=e=>kr(e[e.length-1]);var Uh=new Array(3).concat("d8b365f5f5f55ab4ac","a6611adfc27d80cdc1018571","a6611adfc27df5f5f580cdc1018571","8c510ad8b365f6e8c3c7eae55ab4ac01665e","8c510ad8b365f6e8c3f5f5f5c7eae55ab4ac01665e","8c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e","8c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e","5430058c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e003c30","5430058c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e003c30").map(T),Cr=L(Uh);var Xh=new Array(3).concat("af8dc3f7f7f77fbf7b","7b3294c2a5cfa6dba0008837","7b3294c2a5cff7f7f7a6dba0008837","762a83af8dc3e7d4e8d9f0d37fbf7b1b7837","762a83af8dc3e7d4e8f7f7f7d9f0d37fbf7b1b7837","762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b7837","762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b7837","40004b762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b783700441b","40004b762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b783700441b").map(T),Ar=L(Xh);var Kh=new Array(3).concat("e9a3c9f7f7f7a1d76a","d01c8bf1b6dab8e1864dac26","d01c8bf1b6daf7f7f7b8e1864dac26","c51b7de9a3c9fde0efe6f5d0a1d76a4d9221","c51b7de9a3c9fde0eff7f7f7e6f5d0a1d76a4d9221","c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221","c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221","8e0152c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221276419","8e0152c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221276419").map(T),Er=L(Kh);var Zh=new Array(3).concat("998ec3f7f7f7f1a340","5e3c99b2abd2fdb863e66101","5e3c99b2abd2f7f7f7fdb863e66101","542788998ec3d8daebfee0b6f1a340b35806","542788998ec3d8daebf7f7f7fee0b6f1a340b35806","5427888073acb2abd2d8daebfee0b6fdb863e08214b35806","5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b35806","2d004b5427888073acb2abd2d8daebfee0b6fdb863e08214b358067f3b08","2d004b5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b358067f3b08").map(T),Dr=L(Zh);var Jh=new Array(3).concat("ef8a62f7f7f767a9cf","ca0020f4a58292c5de0571b0","ca0020f4a582f7f7f792c5de0571b0","b2182bef8a62fddbc7d1e5f067a9cf2166ac","b2182bef8a62fddbc7f7f7f7d1e5f067a9cf2166ac","b2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac","b2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac","67001fb2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac053061","67001fb2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac053061").map(T),Rr=L(Jh);var Qh=new Array(3).concat("ef8a62ffffff999999","ca0020f4a582bababa404040","ca0020f4a582ffffffbababa404040","b2182bef8a62fddbc7e0e0e09999994d4d4d","b2182bef8a62fddbc7ffffffe0e0e09999994d4d4d","b2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d","b2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d","67001fb2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d1a1a1a","67001fb2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d1a1a1a").map(T),Or=L(Qh);var td=new Array(3).concat("fc8d59ffffbf91bfdb","d7191cfdae61abd9e92c7bb6","d7191cfdae61ffffbfabd9e92c7bb6","d73027fc8d59fee090e0f3f891bfdb4575b4","d73027fc8d59fee090ffffbfe0f3f891bfdb4575b4","d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4","d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4","a50026d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4313695","a50026d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4313695").map(T),Tr=L(td);var ed=new Array(3).concat("fc8d59ffffbf91cf60","d7191cfdae61a6d96a1a9641","d7191cfdae61ffffbfa6d96a1a9641","d73027fc8d59fee08bd9ef8b91cf601a9850","d73027fc8d59fee08bffffbfd9ef8b91cf601a9850","d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850","d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850","a50026d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850006837","a50026d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850006837").map(T),Lr=L(ed);var id=new Array(3).concat("fc8d59ffffbf99d594","d7191cfdae61abdda42b83ba","d7191cfdae61ffffbfabdda42b83ba","d53e4ffc8d59fee08be6f59899d5943288bd","d53e4ffc8d59fee08bffffbfe6f59899d5943288bd","d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd","d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd","9e0142d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd5e4fa2","9e0142d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd5e4fa2").map(T),Ir=L(id);var nd=new Array(3).concat("e5f5f999d8c92ca25f","edf8fbb2e2e266c2a4238b45","edf8fbb2e2e266c2a42ca25f006d2c","edf8fbccece699d8c966c2a42ca25f006d2c","edf8fbccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45006d2c00441b").map(T),zr=L(nd);var sd=new Array(3).concat("e0ecf49ebcda8856a7","edf8fbb3cde38c96c688419d","edf8fbb3cde38c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d810f7c4d004b").map(T),Br=L(sd);var od=new Array(3).concat("e0f3dba8ddb543a2ca","f0f9e8bae4bc7bccc42b8cbe","f0f9e8bae4bc7bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe0868ac084081").map(T),Fr=L(od);var ad=new Array(3).concat("fee8c8fdbb84e34a33","fef0d9fdcc8afc8d59d7301f","fef0d9fdcc8afc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301fb300007f0000").map(T),Nr=L(ad);var rd=new Array(3).concat("ece2f0a6bddb1c9099","f6eff7bdc9e167a9cf02818a","f6eff7bdc9e167a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016c59014636").map(T),Vr=L(rd);var cd=new Array(3).concat("ece7f2a6bddb2b8cbe","f1eef6bdc9e174a9cf0570b0","f1eef6bdc9e174a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0045a8d023858").map(T),jr=L(cd);var ld=new Array(3).concat("e7e1efc994c7dd1c77","f1eef6d7b5d8df65b0ce1256","f1eef6d7b5d8df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125698004367001f").map(T),Wr=L(ld);var fd=new Array(3).concat("fde0ddfa9fb5c51b8a","feebe2fbb4b9f768a1ae017e","feebe2fbb4b9f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a017749006a").map(T),Hr=L(fd);var hd=new Array(3).concat("edf8b17fcdbb2c7fb8","ffffcca1dab441b6c4225ea8","ffffcca1dab441b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea8253494081d58").map(T),$r=L(hd);var dd=new Array(3).concat("f7fcb9addd8e31a354","ffffccc2e69978c679238443","ffffccc2e69978c67931a354006837","ffffccd9f0a3addd8e78c67931a354006837","ffffccd9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443006837004529").map(T),Gr=L(dd);var ud=new Array(3).concat("fff7bcfec44fd95f0e","ffffd4fed98efe9929cc4c02","ffffd4fed98efe9929d95f0e993404","ffffd4fee391fec44ffe9929d95f0e993404","ffffd4fee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c02993404662506").map(T),qr=L(ud);var pd=new Array(3).concat("ffeda0feb24cf03b20","ffffb2fecc5cfd8d3ce31a1c","ffffb2fecc5cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cbd0026800026").map(T),Yr=L(pd);var gd=new Array(3).concat("deebf79ecae13182bd","eff3ffbdd7e76baed62171b5","eff3ffbdd7e76baed63182bd08519c","eff3ffc6dbef9ecae16baed63182bd08519c","eff3ffc6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b508519c08306b").map(T),Ur=L(gd);var md=new Array(3).concat("e5f5e0a1d99b31a354","edf8e9bae4b374c476238b45","edf8e9bae4b374c47631a354006d2c","edf8e9c7e9c0a1d99b74c47631a354006d2c","edf8e9c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45006d2c00441b").map(T),Xr=L(md);var bd=new Array(3).concat("f0f0f0bdbdbd636363","f7f7f7cccccc969696525252","f7f7f7cccccc969696636363252525","f7f7f7d9d9d9bdbdbd969696636363252525","f7f7f7d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525000000").map(T),Kr=L(bd);var xd=new Array(3).concat("efedf5bcbddc756bb1","f2f0f7cbc9e29e9ac86a51a3","f2f0f7cbc9e29e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a354278f3f007d").map(T),Zr=L(xd);var yd=new Array(3).concat("fee0d2fc9272de2d26","fee5d9fcae91fb6a4acb181d","fee5d9fcae91fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181da50f1567000d").map(T),Jr=L(yd);var _d=new Array(3).concat("fee6cefdae6be6550d","feeddefdbe85fd8d3cd94701","feeddefdbe85fd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d94801a636037f2704").map(T),Qr=L(_d);function tc(e){return e=Math.max(0,Math.min(1,e)),"rgb("+Math.max(0,Math.min(255,Math.round(-4.54-e*(35.34-e*(2381.73-e*(6402.7-e*(7024.72-e*2710.57)))))))+", "+Math.max(0,Math.min(255,Math.round(32.49+e*(170.73+e*(52.82-e*(131.46-e*(176.58-e*67.37)))))))+", "+Math.max(0,Math.min(255,Math.round(81.24+e*(442.36-e*(2482.43-e*(6167.24-e*(6614.94-e*2475.67)))))))+")"}var ec=Si(wt(300,.5,0),wt(-240,.5,1));var ic=Si(wt(-100,.75,.35),wt(80,1.5,.8)),nc=Si(wt(260,.75,.35),wt(80,1.5,.8)),ao=wt();function sc(e){(e<0||e>1)&&(e-=Math.floor(e));var i=Math.abs(e-.5);return ao.h=360*e-100,ao.s=1.5-1.5*i,ao.l=.8-.9*i,ao+""}var ro=De(),Xm=Math.PI/3,Km=Math.PI*2/3;function oc(e){var i;return e=(.5-e)*Math.PI,ro.r=255*(i=Math.sin(e))*i,ro.g=255*(i=Math.sin(e+Xm))*i,ro.b=255*(i=Math.sin(e+Km))*i,ro+""}function ac(e){return e=Math.max(0,Math.min(1,e)),"rgb("+Math.max(0,Math.min(255,Math.round(34.61+e*(1172.33-e*(10793.56-e*(33300.12-e*(38394.49-e*14825.05)))))))+", "+Math.max(0,Math.min(255,Math.round(23.31+e*(557.33+e*(1225.33-e*(3574.96-e*(1073.77+e*707.56)))))))+", "+Math.max(0,Math.min(255,Math.round(27.2+e*(3211.1-e*(15327.97-e*(27814-e*(22569.18-e*6838.66)))))))+")"}function co(e){var i=e.length;return function(t){return e[Math.max(0,Math.min(i-1,Math.floor(t*i)))]}}var rc=co(T("44015444025645045745055946075a46085c460a5d460b5e470d60470e6147106347116447136548146748166848176948186a481a6c481b6d481c6e481d6f481f70482071482173482374482475482576482677482878482979472a7a472c7a472d7b472e7c472f7d46307e46327e46337f463480453581453781453882443983443a83443b84433d84433e85423f854240864241864142874144874045884046883f47883f48893e49893e4a893e4c8a3d4d8a3d4e8a3c4f8a3c508b3b518b3b528b3a538b3a548c39558c39568c38588c38598c375a8c375b8d365c8d365d8d355e8d355f8d34608d34618d33628d33638d32648e32658e31668e31678e31688e30698e306a8e2f6b8e2f6c8e2e6d8e2e6e8e2e6f8e2d708e2d718e2c718e2c728e2c738e2b748e2b758e2a768e2a778e2a788e29798e297a8e297b8e287c8e287d8e277e8e277f8e27808e26818e26828e26828e25838e25848e25858e24868e24878e23888e23898e238a8d228b8d228c8d228d8d218e8d218f8d21908d21918c20928c20928c20938c1f948c1f958b1f968b1f978b1f988b1f998a1f9a8a1e9b8a1e9c891e9d891f9e891f9f881fa0881fa1881fa1871fa28720a38620a48621a58521a68522a78522a88423a98324aa8325ab8225ac8226ad8127ad8128ae8029af7f2ab07f2cb17e2db27d2eb37c2fb47c31b57b32b67a34b67935b77937b87838b9773aba763bbb753dbc743fbc7340bd7242be7144bf7046c06f48c16e4ac16d4cc26c4ec36b50c46a52c56954c56856c66758c7655ac8645cc8635ec96260ca6063cb5f65cb5e67cc5c69cd5b6ccd5a6ece5870cf5773d05675d05477d1537ad1517cd2507fd34e81d34d84d44b86d54989d5488bd6468ed64590d74393d74195d84098d83e9bd93c9dd93ba0da39a2da37a5db36a8db34aadc32addc30b0dd2fb2dd2db5de2bb8de29bade28bddf26c0df25c2df23c5e021c8e020cae11fcde11dd0e11cd2e21bd5e21ad8e219dae319dde318dfe318e2e418e5e419e7e419eae51aece51befe51cf1e51df4e61ef6e620f8e621fbe723fde725")),cc=co(T("00000401000501010601010802010902020b02020d03030f03031204041405041606051806051a07061c08071e0907200a08220b09240c09260d0a290e0b2b100b2d110c2f120d31130d34140e36150e38160f3b180f3d19103f1a10421c10441d11471e114920114b21114e22115024125325125527125829115a2a115c2c115f2d11612f116331116533106734106936106b38106c390f6e3b0f703d0f713f0f72400f74420f75440f764510774710784910784a10794c117a4e117b4f127b51127c52137c54137d56147d57157e59157e5a167e5c167f5d177f5f187f601880621980641a80651a80671b80681c816a1c816b1d816d1d816e1e81701f81721f817320817521817621817822817922827b23827c23827e24828025828125818326818426818627818827818928818b29818c29818e2a81902a81912b81932b80942c80962c80982d80992d809b2e7f9c2e7f9e2f7fa02f7fa1307ea3307ea5317ea6317da8327daa337dab337cad347cae347bb0357bb2357bb3367ab5367ab73779b83779ba3878bc3978bd3977bf3a77c03a76c23b75c43c75c53c74c73d73c83e73ca3e72cc3f71cd4071cf4070d0416fd2426fd3436ed5446dd6456cd8456cd9466bdb476adc4869de4968df4a68e04c67e24d66e34e65e44f64e55064e75263e85362e95462ea5661eb5760ec5860ed5a5fee5b5eef5d5ef05f5ef1605df2625df2645cf3655cf4675cf4695cf56b5cf66c5cf66e5cf7705cf7725cf8745cf8765cf9785df9795df97b5dfa7d5efa7f5efa815ffb835ffb8560fb8761fc8961fc8a62fc8c63fc8e64fc9065fd9266fd9467fd9668fd9869fd9a6afd9b6bfe9d6cfe9f6dfea16efea36ffea571fea772fea973feaa74feac76feae77feb078feb27afeb47bfeb67cfeb77efeb97ffebb81febd82febf84fec185fec287fec488fec68afec88cfeca8dfecc8ffecd90fecf92fed194fed395fed597fed799fed89afdda9cfddc9efddea0fde0a1fde2a3fde3a5fde5a7fde7a9fde9aafdebacfcecaefceeb0fcf0b2fcf2b4fcf4b6fcf6b8fcf7b9fcf9bbfcfbbdfcfdbf")),lc=co(T("00000401000501010601010802010a02020c02020e03021004031204031405041706041907051b08051d09061f0a07220b07240c08260d08290e092b10092d110a30120a32140b34150b37160b39180c3c190c3e1b0c411c0c431e0c451f0c48210c4a230c4c240c4f260c51280b53290b552b0b572d0b592f0a5b310a5c320a5e340a5f3609613809623909633b09643d09653e0966400a67420a68440a68450a69470b6a490b6a4a0c6b4c0c6b4d0d6c4f0d6c510e6c520e6d540f6d550f6d57106e59106e5a116e5c126e5d126e5f136e61136e62146e64156e65156e67166e69166e6a176e6c186e6d186e6f196e71196e721a6e741a6e751b6e771c6d781c6d7a1d6d7c1d6d7d1e6d7f1e6c801f6c82206c84206b85216b87216b88226a8a226a8c23698d23698f24699025689225689326679526679727669827669a28659b29649d29649f2a63a02a63a22b62a32c61a52c60a62d60a82e5fa92e5eab2f5ead305dae305cb0315bb1325ab3325ab43359b63458b73557b93556ba3655bc3754bd3853bf3952c03a51c13a50c33b4fc43c4ec63d4dc73e4cc83f4bca404acb4149cc4248ce4347cf4446d04545d24644d34743d44842d54a41d74b3fd84c3ed94d3dda4e3cdb503bdd513ade5238df5337e05536e15635e25734e35933e45a31e55c30e65d2fe75e2ee8602de9612bea632aeb6429eb6628ec6726ed6925ee6a24ef6c23ef6e21f06f20f1711ff1731df2741cf3761bf37819f47918f57b17f57d15f67e14f68013f78212f78410f8850ff8870ef8890cf98b0bf98c0af98e09fa9008fa9207fa9407fb9606fb9706fb9906fb9b06fb9d07fc9f07fca108fca309fca50afca60cfca80dfcaa0ffcac11fcae12fcb014fcb216fcb418fbb61afbb81dfbba1ffbbc21fbbe23fac026fac228fac42afac62df9c72ff9c932f9cb35f8cd37f8cf3af7d13df7d340f6d543f6d746f5d949f5db4cf4dd4ff4df53f4e156f3e35af3e55df2e661f2e865f2ea69f1ec6df1ed71f1ef75f1f179f2f27df2f482f3f586f3f68af4f88ef5f992f6fa96f8fb9af9fc9dfafda1fcffa4")),fc=co(T("0d088710078813078916078a19068c1b068d1d068e20068f2206902406912605912805922a05932c05942e05952f059631059733059735049837049938049a3a049a3c049b3e049c3f049c41049d43039e44039e46039f48039f4903a04b03a14c02a14e02a25002a25102a35302a35502a45601a45801a45901a55b01a55c01a65e01a66001a66100a76300a76400a76600a76700a86900a86a00a86c00a86e00a86f00a87100a87201a87401a87501a87701a87801a87a02a87b02a87d03a87e03a88004a88104a78305a78405a78606a68707a68808a68a09a58b0aa58d0ba58e0ca48f0da4910ea3920fa39410a29511a19613a19814a099159f9a169f9c179e9d189d9e199da01a9ca11b9ba21d9aa31e9aa51f99a62098a72197a82296aa2395ab2494ac2694ad2793ae2892b02991b12a90b22b8fb32c8eb42e8db52f8cb6308bb7318ab83289ba3388bb3488bc3587bd3786be3885bf3984c03a83c13b82c23c81c33d80c43e7fc5407ec6417dc7427cc8437bc9447aca457acb4679cc4778cc4977cd4a76ce4b75cf4c74d04d73d14e72d24f71d35171d45270d5536fd5546ed6556dd7566cd8576bd9586ada5a6ada5b69db5c68dc5d67dd5e66de5f65de6164df6263e06363e16462e26561e26660e3685fe4695ee56a5de56b5de66c5ce76e5be76f5ae87059e97158e97257ea7457eb7556eb7655ec7754ed7953ed7a52ee7b51ef7c51ef7e50f07f4ff0804ef1814df1834cf2844bf3854bf3874af48849f48948f58b47f58c46f68d45f68f44f79044f79143f79342f89441f89540f9973ff9983ef99a3efa9b3dfa9c3cfa9e3bfb9f3afba139fba238fca338fca537fca636fca835fca934fdab33fdac33fdae32fdaf31fdb130fdb22ffdb42ffdb52efeb72dfeb82cfeba2cfebb2bfebd2afebe2afec029fdc229fdc328fdc527fdc627fdc827fdca26fdcb26fccd25fcce25fcd025fcd225fbd324fbd524fbd724fad824fada24f9dc24f9dd25f8df25f8e125f7e225f7e425f6e626f6e826f5e926f5eb27f4ed27f3ee27f3f027f2f227f1f426f1f525f0f724f0f921"));function hc(e){return e}function lo(e){if(e==null)return hc;var i,t,n=e.scale[0],s=e.scale[1],o=e.translate[0],a=e.translate[1];return function(r,c){c||(i=t=0);var l=2,f=r.length,h=new Array(f);for(h[0]=(i+=r[0])*n+o,h[1]=(t+=r[1])*s+a;l<f;)h[l]=r[l],++l;return h}}function vd(e,i){for(var t,n=e.length,s=n-i;s<--n;)t=e[s],e[s++]=e[n],e[n]=t}function dc(e,i){return typeof i=="string"&&(i=e.objects[i]),i.type==="GeometryCollection"?{type:"FeatureCollection",features:i.geometries.map(function(t){return wd(e,t)})}:wd(e,i)}function wd(e,i){var t=i.id,n=i.bbox,s=i.properties==null?{}:i.properties,o=uc(e,i);return t==null&&n==null?{type:"Feature",properties:s,geometry:o}:n==null?{type:"Feature",id:t,properties:s,geometry:o}:{type:"Feature",id:t,bbox:n,properties:s,geometry:o}}function uc(e,i){var t=lo(e.transform),n=e.arcs;function s(f,h){h.length&&h.pop();for(var d=n[f<0?~f:f],u=0,p=d.length;u<p;++u)h.push(t(d[u],u));f<0&&vd(h,p)}function o(f){return t(f)}function a(f){for(var h=[],d=0,u=f.length;d<u;++d)s(f[d],h);return h.length<2&&h.push(h[0]),h}function r(f){for(var h=a(f);h.length<4;)h.push(h[0]);return h}function c(f){return f.map(r)}function l(f){var h=f.type,d;switch(h){case"GeometryCollection":return{type:h,geometries:f.geometries.map(l)};case"Point":d=o(f.coordinates);break;case"MultiPoint":d=f.coordinates.map(o);break;case"LineString":d=a(f.arcs);break;case"MultiLineString":d=f.arcs.map(a);break;case"Polygon":d=c(f.arcs);break;case"MultiPolygon":d=f.arcs.map(c);break;default:return null}return{type:h,coordinates:d}}return l(i)}var Pn={geoAzimuthalEqualArea:er,geoAzimuthalEquidistant:nr,geoGnomonic:dr,geoOrthographic:mr,geoStereographic:xr,geoEqualEarth:fr,geoAlbers:mn,geoAlbersUsa:Qa,geoConicConformal:ar,geoConicEqualArea:Ae,geoConicEquidistant:cr,geoEquirectangular:rr,geoMercator:sr,geoTransverseMercator:_r,geoNaturalEarth1:pr};Object.keys(Pn).forEach(e=>{Pn[`${e.charAt(3).toLowerCase()}${e.slice(4)}`]=Pn[e]});var Cn=(()=>{class e extends ue{constructor(t){super(t),this.outlineBounds=null,this.oldChartBounds=null,this.geoPath=Us()}init(t){t.position="chartArea",super.init(t),typeof t.projection=="function"?this.projection=t.projection:this.projection=(Pn[t.projection]||Pn.albersUsa)(),this.geoPath.projection(this.projection),this.outlineBounds=null,this.oldChartBounds=null}computeBounds(t){let n=Us(this.projection.fitWidth(1e3,t)).bounds(t),s=Math.ceil(n[1][1]-n[0][1]),o=Math.ceil(n[1][0]-n[0][0]),a=this.projection.translate();this.outlineBounds={width:o,height:s,aspectRatio:o/s,refScale:this.projection.scale(),refX:a[0],refY:a[1]}}updateBounds(){let t=this.chart.chartArea,n=this.outlineBounds;if(!n)return!1;let s=this.options.padding,o=typeof s=="number"?s:s.top,a=typeof s=="number"?s:s.left,r=typeof s=="number"?s:s.bottom,c=typeof s=="number"?s:s.right,l=t.right-t.left-a-c,f=t.bottom-t.top-o-r,h=this.oldChartBounds;this.oldChartBounds={chartWidth:l,chartHeight:f};let d=Math.min(l/n.width,f/n.height),u=n.width*d,p=n.height*d,g=(l-u)*.5+t.left+a,m=(f-p)*.5+t.top+o,b=this.options;return this.projection.scale(n.refScale*d*b.projectionScale).translate([d*n.refX+g+b.projectionOffset[0],d*n.refY+m+b.projectionOffset[1]]),!h||h.chartWidth!==this.oldChartBounds.chartWidth||h.chartHeight!==this.oldChartBounds.chartHeight}}return e.id="projection",e.defaults={projection:"albersUsa",projectionScale:1,projectionOffset:[0,0],padding:0},e.descriptors={_scriptable:i=>i!=="projection",_indexable:i=>i!=="projectionOffset"},e})(),po={position:"chartArea",property:"value",grid:{z:1,drawOnChartArea:!1},ticks:{z:1},legend:{align:"right",position:"bottom-right",length:100,width:50,margin:8,indicatorWidth:10}};function tb(e){let{indicatorWidth:i,align:t,margin:n}=e,s=(typeof n=="number"?n:n.left)+(t==="right"?i:0),o=(typeof n=="number"?n:n.top)+(t==="bottom"?i:0),a=(typeof n=="number"?n:n.right)+(t==="left"?i:0),r=(typeof n=="number"?n:n.bottom)+(t==="top"?i:0);return{left:s,top:o,right:a,bottom:r}}function eb(e,i,t,n,s){let{indicatorWidth:o,align:a,position:r}=i,c=a==="top"||a==="bottom",l=(a==="left"?s.w:t)+(c?o:0),f=(a==="top"?s.h:n)+(c?0:o),h=tb(i);if(typeof r=="string")switch(r){case"top-left":return[h.left,h.top];case"top":return[(e.right-l)/2,h.top];case"left":return[h.left,(e.bottom-f)/2];case"top-right":return[e.right-l-h.right,h.top];case"bottom-right":return[e.right-l-h.right,e.bottom-f-h.bottom];case"bottom":return[(e.right-l)/2,e.bottom-f-h.bottom];case"bottom-left":return[h.left,e.bottom-f-h.bottom];default:return[e.right-l-h.right,(e.bottom-f)/2]}return[r.x,r.y]}var Re=class extends Ge{constructor(){super(...arguments),this.legendSize={w:0,h:0}}init(i){i.position="chartArea",super.init(i),this.axis="r"}parse(i,t){return i&&typeof i[this.options.property]=="number"?i[this.options.property]:super.parse(i,t)}isHorizontal(){return this.options.legend.align==="top"||this.options.legend.align==="bottom"}_getNormalizedValue(i){return i==null||Number.isNaN(i)?null:(i-this._startValue)/this._valueRange}update(i,t,n){let s=Math.min(t,this.bottom==null?Number.POSITIVE_INFINITY:this.bottom),o=Math.min(i,this.right==null?Number.POSITIVE_INFINITY:this.right),a=this.options.legend,r=this.isHorizontal(),c=(u,p)=>u<1?p*u:u,l=Math.min(o,c(r?a.length:a.width,o))-(r?0:a.indicatorWidth),f=Math.min(s,c(r?a.width:a.length,s))-(r?a.indicatorWidth:0);this.legendSize={w:l,h:f},this.bottom=f,this.height=f,this.right=l,this.width=l;let h=this.options.position;this.options.position=this.options.legend.align;let d=super.update(l,f,n);return this.options.position=h,this.height=Math.min(f,this.height),this.width=Math.min(l,this.width),d}_computeLabelArea(){}draw(i){if(!this._isVisible())return;let t=eb(i,this.options.legend,this.width,this.height,this.legendSize),{ctx:n}=this;n.save(),n.translate(t[0],t[1]);let s=this.options.position;this.options.position=this.options.legend.align,super.draw(Bt(Ct({},i),{bottom:this.height+10,right:this.width})),this.options.position=s;let{indicatorWidth:o}=this.options.legend;switch(this.options.legend.align){case"left":n.translate(this.legendSize.w,0);break;case"top":n.translate(0,this.legendSize.h);break;case"bottom":n.translate(0,-o);break;default:n.translate(-o,0);break}this._drawIndicator(),n.restore()}_drawIndicator(){}},fo=class extends qe{constructor(){super(...arguments),this.legendSize={w:0,h:0}}init(i){Re.prototype.init.call(this,i)}parse(i,t){return Re.prototype.parse.call(this,i,t)}isHorizontal(){return this.options.legend.align==="top"||this.options.legend.align==="bottom"}_getNormalizedValue(i){return i==null||Number.isNaN(i)?null:(Math.log10(i)-this._startValue)/this._valueRange}update(i,t,n){return Re.prototype.update.call(this,i,t,n)}_computeLabelArea(){}draw(i){return Re.prototype.draw.call(this,i)}_drawIndicator(){}},me={interpolateBlues:Ur,interpolateBrBG:Cr,interpolateBuGn:zr,interpolateBuPu:Br,interpolateCividis:tc,interpolateCool:nc,interpolateCubehelixDefault:ec,interpolateGnBu:Fr,interpolateGreens:Xr,interpolateGreys:Kr,interpolateInferno:lc,interpolateMagma:cc,interpolateOrRd:Nr,interpolateOranges:Qr,interpolatePRGn:Ar,interpolatePiYG:Er,interpolatePlasma:fc,interpolatePuBu:jr,interpolatePuBuGn:Vr,interpolatePuOr:Dr,interpolatePuRd:Wr,interpolatePurples:Zr,interpolateRainbow:sc,interpolateRdBu:Rr,interpolateRdGy:Or,interpolateRdPu:Hr,interpolateRdYlBu:Tr,interpolateRdYlGn:Lr,interpolateReds:Jr,interpolateSinebow:oc,interpolateSpectral:Ir,interpolateTurbo:ac,interpolateViridis:rc,interpolateWarm:ic,interpolateYlGn:Gr,interpolateYlGnBu:$r,interpolateYlOrBr:qr,interpolateYlOrRd:Yr};Object.keys(me).forEach(e=>{me[`${e.charAt(11).toLowerCase()}${e.slice(12)}`]=me[e],me[e.slice(11)]=me[e]});function Pd(e,i){let t=1/i;if(e<=t)return 0;if(e>=1-t)return 1;for(let n=0;n<1;n+=t)if(e<n)return n-t/2;return e}var kd={interpolate:"blues",missing:"transparent",quantize:0},$t=class extends Re{get interpolate(){let i=this.options;return i?typeof i.interpolate=="function"?i.interpolate:me[i.interpolate]||me.blues:t=>`rgb(${t},${t},${t})`}getColorForValue(i){let t=this._getNormalizedValue(i);return t==null||Number.isNaN(t)?this.options.missing:this.getColor(t)}getColor(i){let t=i;return this.options.quantize>0&&(t=Pd(t,this.options.quantize)),this.interpolate(t)}_drawIndicator(){let{indicatorWidth:i}=this.options.legend,t=this._reversePixels;if(this.isHorizontal()){let n=this.width;if(this.options.quantize>0){let s=n/this.options.quantize,o=t?a=>n-s-a:a=>a;for(let a=0;a<n;a+=s){let r=(a+s/2)/n;this.ctx.fillStyle=this.getColor(r),this.ctx.fillRect(o(a),0,s,i)}}else{let s=t?o=>n-1-o:o=>o;for(let o=0;o<n;o+=1)this.ctx.fillStyle=this.getColor((o+.5)/n),this.ctx.fillRect(s(o),0,1,i)}}else{let n=this.height;if(this.options.quantize>0){let s=n/this.options.quantize,o=t?a=>n-s-a:a=>a;for(let a=0;a<n;a+=s){let r=(a+s/2)/n;this.ctx.fillStyle=this.getColor(r),this.ctx.fillRect(0,o(a),i,s)}}else{let s=t?o=>n-1-o:o=>o;for(let o=0;o<n;o+=1)this.ctx.fillStyle=this.getColor((o+.5)/n),this.ctx.fillRect(0,s(o),i,1)}}}};$t.id="color";$t.defaults=pt({},[Ge.defaults,po,kd]);$t.descriptors={_scriptable:e=>e!=="interpolate",_indexable:!1};var kn=class extends fo{constructor(){super(...arguments),this.interpolate=i=>`rgb(${i},${i},${i})`}init(i){super.init(i),typeof i.interpolate=="function"?this.interpolate=i.interpolate:this.interpolate=me[i.interpolate]||me.blues}getColorForValue(i){return $t.prototype.getColorForValue.call(this,i)}getColor(i){let t=i;return this.options.quantize>0&&(t=Pd(t,this.options.quantize)),this.interpolate(t)}_drawIndicator(){return $t.prototype._drawIndicator.call(this)}};kn.id="colorLogarithmic";kn.defaults=pt({},[qe.defaults,po,kd]);kn.descriptors={_scriptable:e=>e!=="interpolate",_indexable:!1};var Cd={missing:1,mode:"area",range:[2,20],legend:{align:"bottom",length:90,width:70,indicatorWidth:42}},be=class extends Re{constructor(){super(...arguments),this._model=null}getSizeForValue(i){let t=this._getNormalizedValue(i);return t==null||Number.isNaN(t)?this.options.missing:this.getSizeImpl(t)}getSizeImpl(i){let[t,n]=this.options.range;if(this.options.mode==="area"){let o=n*n*Math.PI,a=t*t*Math.PI,r=o-a,c=i*r+a;return Math.sqrt(c/Math.PI)}let s=n-t;return i*s+t}_drawIndicator(){let{ctx:i}=this,t=this.options.legend.indicatorWidth/2,n=this.isHorizontal(),s=this.ticks,o=this.getLabelItems(),a=o?o.map(r=>({[n?"x":"y"]:r.options.translation[n?0:1]})):s.map((r,c)=>({[n?"x":"y"]:this.getPixelForTick(c)}));if((this._gridLineItems||[]).forEach(r=>{if(i.save(),i.strokeStyle=r.color,i.lineWidth=r.width,i.setLineDash&&(i.setLineDash(r.borderDash),i.lineDashOffset=r.borderDashOffset),i.beginPath(),this.options.grid.drawTicks)switch(this.options.legend.align){case"left":i.moveTo(0,r.ty1),i.lineTo(t,r.ty2);break;case"top":i.moveTo(r.tx1,0),i.lineTo(r.tx2,t);break;case"bottom":i.moveTo(r.tx1,t),i.lineTo(r.tx2,t*2);break;default:i.moveTo(t,r.ty1),i.lineTo(t*2,r.ty2);break}i.stroke(),i.restore()}),this._model){let r=this._model;i.strokeStyle=r.borderColor,i.lineWidth=r.borderWidth||0,i.fillStyle=r.backgroundColor}else i.fillStyle="blue";s.forEach((r,c)=>{let l=a[c],f=this.getSizeForValue(r.value),h=n?l.x:t,d=n?t:l.y,u=Bt(Ct({pointStyle:"circle",borderWidth:0},this._model||{}),{radius:f});Ve(i,u,h,d)})}};be.id="size";be.defaults=pt({},[Ge.defaults,po,Cd]);be.descriptors={_scriptable:!0,_indexable:e=>e!=="range"};var ho=class extends fo{constructor(){super(...arguments),this._model=null}getSizeForValue(i){let t=this._getNormalizedValue(i);return t==null||Number.isNaN(t)?this.options.missing:this.getSizeImpl(t)}getSizeImpl(i){return be.prototype.getSizeImpl.call(this,i)}_drawIndicator(){be.prototype._drawIndicator.call(this)}};ho.id="sizeLogarithmic";ho.defaults=pt({},[qe.defaults,po,Cd]);function ib(e,i){return[[e[0][0]-i,e[0][1]-i],[e[1][0]+i,e[1][1]+i]]}var zt=class extends Et{constructor(){super(...arguments),this.cache=void 0}inRange(i,t){let n=this.getBounds(),s=(Number.isNaN(i)||i>=n.x&&i<=n.x2)&&(Number.isNaN(t)||t>=n.y&&t<=n.y2),o=this.projectionScale.geoPath.projection();if(s&&!Number.isNaN(i)&&!Number.isNaN(t)&&typeof o.invert=="function"){let a=o.invert([i,t]);return a!=null&&La(this.feature,a)}return s}inXRange(i){return this.inRange(i,Number.NaN)}inYRange(i){return this.inRange(Number.NaN,i)}getCenterPoint(){if(this.cache&&this.cache.center)return this.cache.center;let i;if(this.center){let t=this.projectionScale.projection([this.center.longitude,this.center.latitude]);i={x:t[0],y:t[1]}}else{let t=this.projectionScale.geoPath.centroid(this.feature);i={x:t[0],y:t[1]}}return this.cache=Bt(Ct({},this.cache||{}),{center:i}),i}getBounds(){if(this.cache&&this.cache.bounds)return this.cache.bounds;let i=ib(this.projectionScale.geoPath.bounds(this.feature),this.options.borderWidth/2),t={x:i[0][0],x2:i[1][0],y:i[0][1],y2:i[1][1],width:i[1][0]-i[0][0],height:i[1][1]-i[0][1]};return this.cache=Bt(Ct({},this.cache||{}),{bounds:t}),t}_drawInCache(i){let t=this.getBounds();if(!Number.isFinite(t.x))return;let n=this.cache&&this.cache.canvas?this.cache.canvas:i.createElement("canvas"),s=Math.floor(t.x),o=Math.floor(t.y),a=Math.ceil(t.x+t.width),r=Math.ceil(t.y+t.height),c=this.pixelRatio||1,l=Math.ceil(Math.max(a-s,1)*c),f=Math.ceil(Math.max(r-o,1)*c);if(l<=0||f<=0)return;n.width=l,n.height=f;let h=n.getContext("2d");h&&(h.clearRect(0,0,n.width,n.height),h.save(),h.scale(c,c),h.translate(-s,-o),this._drawImpl(h),h.restore(),this.cache=Bt(Ct({},this.cache||{}),{canvas:n,canvasKey:this._optionsToKey()}))}_optionsToKey(){let{options:i}=this;return`${i.backgroundColor};${i.borderColor};${i.borderWidth};${this.pixelRatio}`}_drawImpl(i){let{feature:t}=this,{options:n}=this;i.beginPath(),this.projectionScale.geoPath.context(i)(t),n.backgroundColor&&(i.fillStyle=n.backgroundColor,i.fill()),n.borderColor&&(i.strokeStyle=n.borderColor,i.lineWidth=n.borderWidth,i.stroke())}draw(i){let{feature:t}=this;if(!t)return;(!this.cache||this.cache.canvasKey!==this._optionsToKey())&&i.canvas.ownerDocument!=null&&this._drawInCache(i.canvas.ownerDocument);let n=this.getBounds();if(this.cache&&this.cache.canvas&&this.cache.canvas.width>0&&this.cache.canvas.height>0){let s=Math.floor(n.x),o=Math.floor(n.y),a=Math.ceil(n.x+n.width),r=Math.ceil(n.y+n.height),c=a-s,l=r-o;c>0&&l>0&&i.drawImage(this.cache.canvas,s,o,a-s,r-o)}else Number.isFinite(n.x)&&(i.save(),this._drawImpl(i),i.restore())}};zt.id="geoFeature";zt.defaults=Bt(Ct({},ci.defaults),{outlineBackgroundColor:null,outlineBorderWidth:0,graticuleBorderColor:"#CCCCCC",graticuleBorderWidth:0});zt.defaultRoutes=Ct({outlineBorderColor:"borderColor"},ci.defaultRoutes||{});var Ad={showOutline:!1,showGraticule:!1,clipMap:!0},Ed={scales:{projection:{axis:"x",type:Cn.id,position:"chartArea",display:!1}}};function Sd(e){let i=Ct({},e);return Object.keys(e).forEach(t=>{let n=t;if(t.startsWith("outline")){let s=t.slice(7);n=s[0].toLowerCase()+s.slice(1)}else if(t.startsWith("hoverOutline"))n=`hover${t.slice(12)}`;else return;delete i[t],i[n]=e[t]}),i}var uo=class extends Jt{getGeoDataset(){return super.getDataset()}getGeoOptions(){return this.chart.options}getProjectionScale(){return this.getScaleForId("projection")}linkScales(){let i=this.getGeoDataset(),t=this.getMeta();t.xAxisID="projection",i.xAxisID="projection",t.yAxisID="projection",i.yAxisID="projection",t.xScale=this.getScaleForId("projection"),t.yScale=this.getScaleForId("projection"),this.getProjectionScale().computeBounds(this.resolveOutline())}showOutline(){return z(this.getGeoDataset().showOutline,this.getGeoOptions().showOutline)}clipMap(){return z(this.getGeoDataset().clipMap,this.getGeoOptions().clipMap)}getGraticule(){return z(this.getGeoDataset().showGraticule,this.getGeoOptions().showGraticule)}update(i){super.update(i);let t=this.getMeta(),n=this.getProjectionScale(),s=n.updateBounds();if(this.showOutline()){let o=t.dataset;if(s&&delete o.cache,o.projectionScale=n,o.pixelRatio=this.chart.currentDevicePixelRatio,i!=="resize"){let a=Sd(this.resolveDatasetElementOptions(i)),r={feature:this.resolveOutline(),options:a};this.updateElement(o,void 0,r,i),this.getGraticule()&&(t.graticule=a)}}else this.getGraticule()&&i!=="resize"&&(t.graticule=Sd(this.resolveDatasetElementOptions(i)));this.updateElements(t.data,0,t.data.length,i),s&&t.data.forEach(o=>delete o.cache)}resolveOutline(){let t=this.getGeoDataset().outline||{type:"Sphere"};return Array.isArray(t)?{type:"FeatureCollection",features:t}:t}showGraticule(){let i=this.getGraticule(),t=this.getMeta().graticule;if(!i||!t)return;let{ctx:n}=this.chart,o=this.getProjectionScale().geoPath.context(n);if(n.save(),n.beginPath(),typeof i=="boolean")i&&o(Ia());else{let a=an();i.stepMajor&&a.stepMajor(i.stepMajor),i.stepMinor&&a.stepMinor(i.stepMinor),o(a())}n.strokeStyle=t.graticuleBorderColor,n.lineWidth=t.graticuleBorderWidth,n.stroke(),n.restore()}draw(){let{chart:i}=this,t=this.clipMap(),n=!1;(t===!0||t==="outline"||t==="outline+graticule")&&(n=!0,Ut(i.ctx,i.chartArea)),this.showOutline()&&this.getMeta().dataset&&this.getMeta().dataset.draw.call(this.getMeta().dataset,i.ctx,i.chartArea),t===!0||t==="graticule"||t==="outline+graticule"?n||Ut(i.ctx,i.chartArea):n&&(n=!1,Xt(i.ctx)),this.showGraticule(),t===!0||t==="items"?n||Ut(i.ctx,i.chartArea):n&&(n=!1,Xt(i.ctx)),this.getMeta().data.forEach(s=>s.draw.call(s,i.ctx,i.chartArea)),n&&(n=!1,Xt(i.ctx))}};function Dd(e,i,t,n=[],s=[]){gt.addControllers(t),Array.isArray(n)?gt.addElements(...n):gt.addElements(n),Array.isArray(s)?gt.addScales(...s):gt.addScales(s);let o=i;return o.type=e,o}var xe=class extends uo{initialize(){super.initialize(),this.enableOptionSharing=!0}linkScales(){super.linkScales();let i=this.getGeoDataset(),t=this.getMeta();t.vAxisID="color",t.rAxisID="color",i.vAxisID="color",i.rAxisID="color",t.rScale=this.getScaleForId("color"),t.vScale=t.rScale,t.iScale=t.xScale,t.iAxisID=t.xAxisID,i.iAxisID=t.xAxisID}_getOtherScale(i){return i}parse(i,t){let n=this.getMeta().rScale,{data:s}=this.getDataset(),o=this._cachedMeta;for(let a=i;a<i+t;a+=1)o._parsed[a]={[n.axis]:n.parse(s[a],a)}}updateElements(i,t,n,s){let o=this.resolveDataElementOptions(t,s),a=this.getSharedOptions(o),r=this.includeOptions(s,a),c=this.getProjectionScale();this.updateSharedOptions(a,s,o);for(let l=t;l<t+n;l+=1){let f=i[l];f.projectionScale=c,f.feature=this._data[l].feature,f.center=this._data[l].center,f.pixelRatio=this.chart.currentDevicePixelRatio;let h=f.getCenterPoint(),d={x:h.x,y:h.y};r&&(d.options=a||this.resolveDataElementOptions(l,s)),this.updateElement(f,l,d,s)}}indexToColor(i){let t=this.getMeta().rScale;return t.getColorForValue(this.getParsed(i)[t.axis])}};xe.id="choropleth";xe.defaults=pt({},[Ad,{datasetElementType:zt.id,dataElementType:zt.id}]);xe.overrides=pt({},[Ed,{plugins:{tooltip:{callbacks:{title(){return""},label(e){var i,t,n,s;return e.formattedValue==null?(t=(i=e.chart.data)===null||i===void 0?void 0:i.labels)===null||t===void 0?void 0:t[e.dataIndex]:`${(s=(n=e.chart.data)===null||n===void 0?void 0:n.labels)===null||s===void 0?void 0:s[e.dataIndex]}: ${e.formattedValue}`}}},colors:{enabled:!1}},scales:{color:{type:$t.id,axis:"x"}},elements:{geoFeature:{backgroundColor(e){return e.dataIndex==null?null:e.chart.getDatasetMeta(e.datasetIndex).controller.indexToColor(e.dataIndex)}}}}]);var pc=class extends Ye{constructor(i,t){super(i,Dd("choropleth",t,xe,zt,[$t,Cn]))}};pc.id=xe.id;var ei=class extends uo{initialize(){super.initialize(),this.enableOptionSharing=!0}linkScales(){super.linkScales();let i=this.getGeoDataset(),t=this.getMeta();t.vAxisID="size",t.rAxisID="size",i.vAxisID="size",i.rAxisID="size",t.rScale=this.getScaleForId("size"),t.vScale=t.rScale,t.iScale=t.xScale,t.iAxisID=t.xAxisID,i.iAxisID=t.xAxisID}_getOtherScale(i){return i}parse(i,t){let n=this.getMeta().rScale,s=this.getDataset().data,o=this._cachedMeta;for(let a=i;a<i+t;a+=1){let r=s[a];o._parsed[a]={x:r.longitude==null?r.x:r.longitude,y:r.latitude==null?r.y:r.latitude,[n.axis]:n.parse(r,a)}}}updateElements(i,t,n,s){let o=s==="reset",a=this.resolveDataElementOptions(t,s),r=this.getSharedOptions(a),c=this.includeOptions(s,r),l=this.getProjectionScale();this.getMeta().rScale._model=a,this.updateSharedOptions(r,s,a);for(let f=t;f<t+n;f+=1){let h=i[f],d=this.getParsed(f),u=l.projection([d.x,d.y]),p={x:u?u[0]:0,y:u?u[1]:0,skip:Number.isNaN(d.x)||Number.isNaN(d.y)};c&&(p.options=r||this.resolveDataElementOptions(f,s),o&&(p.options.radius=0)),this.updateElement(h,f,p,s)}}indexToRadius(i){let t=this.getMeta().rScale;return t.getSizeForValue(this.getParsed(i)[t.axis])}};ei.id="bubbleMap";ei.defaults=pt({},[Ad,{dataElementType:wa.id,datasetElementType:zt.id,showOutline:!0,clipMap:"outline+graticule"}]);ei.overrides=pt({},[Ed,{plugins:{tooltip:{callbacks:{title(){return""},label(e){var i,t,n,s;return e.formattedValue==null?(t=(i=e.chart.data)===null||i===void 0?void 0:i.labels)===null||t===void 0?void 0:t[e.dataIndex]:`${(s=(n=e.chart.data)===null||n===void 0?void 0:n.labels)===null||s===void 0?void 0:s[e.dataIndex]}: ${e.formattedValue}`}}}},scales:{size:{axis:"x",type:be.id}},elements:{point:{radius(e){return e.dataIndex==null?null:e.chart.getDatasetMeta(e.datasetIndex).controller.indexToRadius(e.dataIndex)},hoverRadius(e){return e.dataIndex==null?null:e.chart.getDatasetMeta(e.datasetIndex).controller.indexToRadius(e.dataIndex)+1}}}}]);var gc=class extends Ye{constructor(i,t){super(i,Dd("bubbleMap",t,ei,zt,[be,Cn]))}};gc.id=ei.id;var nb=["geoChart"];Ye.register(...zf,xe,$t,zt,Cn);var W5=(()=>{let i=class i{constructor(n){this.http=n}ngAfterViewInit(){this.createGeoChart()}getNews(n){return this.http.post(mo.api.science.url,{size:0,query:{bool:{filter:[{match:{"SDG.keyword":`SDG ${n}`}}]}},aggs:{countries:{terms:{field:"authorships.institutions.country_code.keyword",size:200}}}},{headers:new Dc({"Content-Type":"application/json",Authorization:"Basic "+mo.api.news.auth})}).pipe(xc(s=>s.aggregations.countries.buckets),yc(s=>(console.error("failed to fetch data",s),bc([]))),_c(1))}showMaps(n){return go(this,null,function*(){let s={Afghanistan:"AF",Albania:"AL",Algeria:"DZ",Andorra:"AD",Angola:"AO","Antigua and Barbuda":"AG",Argentina:"AR",Armenia:"AM",Australia:"AU",Austria:"AT",Azerbaijan:"AZ",Bahamas:"BS",Bahrain:"BH",Bangladesh:"BD",Barbados:"BB",Belarus:"BY",Belgium:"BE",Belize:"BZ",Benin:"BJ",Bhutan:"BT",Bolivia:"BO","Bosnia and Herzegovina":"BA",Botswana:"BW",Brazil:"BR",Brunei:"BN",Bulgaria:"BG","Burkina Faso":"BF",Burundi:"BI","Cabo Verde":"CV",Cambodia:"KH",Cameroon:"CM",Canada:"CA","Central African Republic":"CF",Chad:"TD",Chile:"CL",China:"CN",Colombia:"CO",Comoros:"KM","Congo (Congo-Brazzaville)":"CG","Costa Rica":"CR",Croatia:"HR",Cuba:"CU",Cyprus:"CY","Czechia (Czech Republic)":"CZ",Denmark:"DK",Djibouti:"DJ",Dominica:"DM","Dominican Republic":"DO",Ecuador:"EC",Egypt:"EG","El Salvador":"SV","Equatorial Guinea":"GQ",Eritrea:"ER",Estonia:"EE",'Eswatini (fmr. "Swaziland")':"SZ",Ethiopia:"ET",Fiji:"FJ",Finland:"FI",France:"FR",Gabon:"GA",Gambia:"GM",Georgia:"GE",Germany:"DE",Ghana:"GH",Greece:"GR",Grenada:"GD",Guatemala:"GT",Guinea:"GN","Guinea-Bissau":"GW",Guyana:"GY",Haiti:"HT",Honduras:"HN",Hungary:"HU",Iceland:"IS",India:"IN",Indonesia:"ID",Iran:"IR",Iraq:"IQ",Ireland:"IE",Israel:"IL",Italy:"IT",Jamaica:"JM",Japan:"JP",Jordan:"JO",Kazakhstan:"KZ",Kenya:"KE",Kiribati:"KI",Kuwait:"KW",Kyrgyzstan:"KG",Laos:"LA",Latvia:"LV",Lebanon:"LB",Lesotho:"LS",Liberia:"LR",Libya:"LY",Liechtenstein:"LI",Lithuania:"LT",Luxembourg:"LU",Madagascar:"MG",Malawi:"MW",Malaysia:"MY",Maldives:"MV",Mali:"ML",Malta:"MT","Marshall Islands":"MH",Mauritania:"MR",Mauritius:"MU",Mexico:"MX",Micronesia:"FM",Moldova:"MD",Monaco:"MC",Mongolia:"MN",Montenegro:"ME",Morocco:"MA",Mozambique:"MZ","Myanmar (formerly Burma)":"MM",Namibia:"NA",Nauru:"NR",Nepal:"NP",Netherlands:"NL","New Zealand":"NZ",Nicaragua:"NI",Niger:"NE",Nigeria:"NG","North Korea":"KP","North Macedonia":"MK",Norway:"NO",Oman:"OM",Pakistan:"PK",Palau:"PW","Palestine State":"PS",Panama:"PA","Papua New Guinea":"PG",Paraguay:"PY",Peru:"PE",Philippines:"PH",Poland:"PL",Portugal:"PT",Qatar:"QA",Romania:"RO",Russia:"RU",Rwanda:"RW","Saint Kitts and Nevis":"KN","Saint Lucia":"LC","Saint Vincent and the Grenadines":"VC",Samoa:"WS","San Marino":"SM","Sao Tome and Principe":"ST","Saudi Arabia":"SA",Senegal:"SN",Serbia:"RS",Seychelles:"SC","Sierra Leone":"SL",Singapore:"SG",Slovakia:"SK",Slovenia:"SI","Solomon Islands":"SB",Somalia:"SO","South Africa":"ZA","South Korea":"KR","South Sudan":"SS",Spain:"ES","Sri Lanka":"LK",Sudan:"SD",Suriname:"SR",Sweden:"SE",Switzerland:"CH",Syria:"SY",Taiwan:"TW",Tajikistan:"TJ",Tanzania:"TZ",Thailand:"TH","Timor-Leste":"TL",Togo:"TG",Tonga:"TO","Trinidad and Tobago":"TT",Tunisia:"TN",Turkey:"TR",Turkmenistan:"TM",Tuvalu:"TV",Uganda:"UG",Ukraine:"UA","United Arab Emirates":"AE","United Kingdom":"GB","United States of America":"US",Uruguay:"UY",Uzbekistan:"UZ",Vanuatu:"VU",Venezuela:"VE",Vietnam:"VN",Yemen:"YE",Zambia:"ZM",Zimbabwe:"ZW"},o=yield this.http.get("https://unpkg.com/world-atlas/countries-50m").toPromise();if(!o||!o.objects||!o.objects.countries)throw new Error("Invalid TopoJSON data");let a=n.reduce((f,h)=>(f[h.key]=h.doc_count,f),{});console.log(a);let r=dc(o,o.objects.countries);if(!r.features)throw new Error("Invalid GeoJSON data");console.log(r.features);let c=r.features.map(f=>({feature:f,value:a[s[f.properties.name]]||0}));this.canvas=this.geoChart.nativeElement,this.ctx=this.canvas.getContext("2d");let l=new Ye(this.ctx,{type:"choropleth",data:{labels:r.features.map(f=>f.properties.name),datasets:[{label:"Countries",data:c,borderColor:"#000000",borderWidth:1}]},options:{plugins:{legend:{display:!0}},scales:{projection:{axis:"x",projection:"mercator"},color:{axis:"x",interpolate:f=>`rgba(244, 4, 0, ${f})`,legend:{position:"bottom-right",align:"right"}}}}})})}createGeoChart(){return go(this,null,function*(){try{this.getNews("1").subscribe(n=>this.showMaps(n))}catch(n){console.error("Error creating Geo chart:",n)}})}};i.\u0275fac=function(s){return new(s||i)(wc(Rc))},i.\u0275cmp=vc({type:i,selectors:[["app-live-reporting"]],viewQuery:function(s,o){if(s&1&&kc(nb,5),s&2){let a;Cc(a=Ac())&&(o.geoChart=a.first)}},standalone:!0,features:[Ec],decls:3,vars:0,consts:[["geoChart",""],[2,"width","100%"],["id","geoChart","width","400","height","300"]],template:function(s,o){s&1&&(Mc(0,"div",1),Pc(1,"canvas",2,0),Sc())},styles:["canvas[_ngcontent-%COMP%]{width:100%;height:auto}"]});let e=i;return e})();export{W5 as default};
